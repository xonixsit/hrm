import{f as g,e as v,g as M,o as t,h as p,k as x,c as o,i as c,a as e,t as i,d as B,w as m,b,v as S,F as V,r as D,u as j,S as T,l as E,Q as L}from"./app-Bj8W9CoF.js";import{A as N}from"./AuthenticatedLayout-CO-2sryW.js";import{P as U}from"./PageLayout-O-g1KdJw.js";import{c as F}from"./icons-CyONBCp-.js";import"./useAuth-DI08NYi3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-DGe0ya_-.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-CFOQFDmp.js";import"./PageHeader-q4XGPvjE.js";import"./Icon-ulFt8TY0.js";/* empty css                                                                   */const z={key:0,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-md"},P={class:"flex items-center"},$={class:"text-sm text-green-800"},q={key:1,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md"},H={class:"flex items-center"},O={class:"text-sm text-red-800"},Q={class:"bg-white rounded-lg shadow-sm border border-gray-200"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"mt-1 text-sm text-red-600"},K={key:0,class:"mt-1 text-sm text-red-600"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W={key:0,class:"mt-1 text-sm text-red-600"},X={key:0,class:"mt-1 text-sm text-red-600"},Y={class:"bg-gray-50 border border-gray-200 rounded-lg p-4"},Z={key:0,class:"space-y-2"},ee={class:"flex-shrink-0"},se={class:"text-lg"},te={class:"flex-1"},re={class:"text-sm font-medium text-gray-900"},oe={class:"text-xs text-gray-600"},le={key:1,class:"text-sm text-gray-500 italic"},ae={class:"flex items-center justify-between pt-6 border-t border-gray-200"},ne={class:"flex items-center space-x-3"},de=["disabled"],ie={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ce={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ue={key:2},me={key:3},be={key:0,class:"text-sm text-gray-600"},_e={__name:"Edit",props:{cycle:Object,employees:Array,competencies:Array,errors:Object},setup(r){const n=r,h=g(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Assessment Dashboard",href:route("assessment-dashboard")},{label:"Assessment Cycles",href:route("assessment-cycle-manager")},{label:n.cycle.name,href:route("assessment-cycles.show",n.cycle.id)},{label:"Edit",href:null}]),k=g(()=>[{label:"Back to Cycle",href:route("assessment-cycles.show",n.cycle.id),icon:F,variant:"secondary"}]),d=v({name:n.cycle.name,description:n.cycle.description||"",start_date:n.cycle.start_date?n.cycle.start_date.split("T")[0]:"",end_date:n.cycle.end_date?n.cycle.end_date.split("T")[0]:"",status:n.cycle.status}),u=v(!1),w=()=>{u.value=!0,L.put(route("assessment-cycles.update",n.cycle.id),d.value,{onSuccess:l=>{console.log("Assessment cycle updated successfully")},onError:l=>{console.error("Failed to update assessment cycle:",l),u.value=!1},onFinish:()=>{u.value=!1}})},C=l=>({self:"Self Assessment",manager:"Manager Assessment",peer:"Peer Assessment",360:"360Â° Feedback"})[l]||l,A=l=>({self:"ðŸ‘¤",manager:"ðŸ‘”",peer:"ðŸ‘¥",360:"ðŸ”„"})[l]||"",_=l=>({self:"Employees evaluate their own competencies",manager:"Direct managers assess their team members",peer:"Colleagues provide feedback on each other",360:"Comprehensive feedback from multiple perspectives"})[l]||"";return(l,s)=>(t(),M(N,null,{default:p(()=>[x(U,{title:"Edit Assessment Cycle",subtitle:r.cycle.name,breadcrumbs:h.value,actions:k.value},{default:p(()=>{var y,f;return[(y=l.$page.props.flash)!=null&&y.success?(t(),o("div",z,[e("div",P,[s[5]||(s[5]=e("svg",{class:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("p",$,i(l.$page.props.flash.success),1)])])):c("",!0),(f=l.$page.props.flash)!=null&&f.error?(t(),o("div",q,[e("div",H,[s[6]||(s[6]=e("svg",{class:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),e("p",O,i(l.$page.props.flash.error),1)])])):c("",!0),e("div",Q,[e("form",{onSubmit:B(w,["prevent"]),class:"p-6 space-y-6"},[e("div",I,[e("div",null,[s[7]||(s[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cycle Name *",-1)),m(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>d.value.name=a),type:"text",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[b,d.value.name]]),r.errors.name?(t(),o("div",G,i(r.errors.name),1)):c("",!0)]),e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),m(e("select",{"onUpdate:modelValue":s[1]||(s[1]=a=>d.value.status=a),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},s[8]||(s[8]=[e("option",{value:"planned"},"Planned",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),512),[[S,d.value.status]]),r.errors.status?(t(),o("div",J,i(r.errors.status),1)):c("",!0)])]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),m(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=a=>d.value.description=a),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[b,d.value.description]]),r.errors.description?(t(),o("div",K,i(r.errors.description),1)):c("",!0)]),e("div",R,[e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Start Date *",-1)),m(e("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>d.value.start_date=a),type:"date",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[b,d.value.start_date]]),r.errors.start_date?(t(),o("div",W,i(r.errors.start_date),1)):c("",!0)]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"End Date *",-1)),m(e("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>d.value.end_date=a),type:"date",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[b,d.value.end_date]]),r.errors.end_date?(t(),o("div",X,i(r.errors.end_date),1)):c("",!0)])]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Assessment Types",-1)),e("div",Y,[s[13]||(s[13]=e("div",{class:"flex items-center mb-2"},[e("svg",{class:"w-5 h-5 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})]),e("span",{class:"text-sm text-gray-600"},"Assessment types cannot be changed after creation")],-1)),r.cycle.assessment_types&&r.cycle.assessment_types.length>0?(t(),o("div",Z,[(t(!0),o(V,null,D(r.cycle.assessment_types,a=>(t(),o("div",{key:a,class:"flex items-center space-x-3 p-3 bg-white border border-gray-200 rounded-md"},[e("div",ee,[e("span",se,i(A(a)),1)]),e("div",te,[e("h4",re,i(C(a)),1),e("p",oe,i(_(a)),1)])]))),128))])):(t(),o("div",le," No assessment types configured "))])]),e("div",ae,[e("div",ne,[e("button",{type:"submit",disabled:u.value,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-all duration-200"},[u.value?(t(),o("svg",ie,s[15]||(s[15]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(t(),o("svg",ce,s[16]||(s[16]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))),u.value?(t(),o("span",ue,"Saving Changes...")):(t(),o("span",me,"Save Changes"))],8,de),u.value?(t(),o("div",be," Updating assessment cycle... ")):c("",!0)]),x(j(T),{href:l.route("assessment-cycles.show",r.cycle.id),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},{default:p(()=>s[17]||(s[17]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),E(" Cancel ")])),_:1,__:[17]},8,["href"])])],32)])]}),_:1},8,["subtitle","breadcrumbs","actions"])]),_:1}))}};export{_e as default};
