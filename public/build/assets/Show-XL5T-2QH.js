import{e as y,f as P,g as K,o as n,h as w,k as l,c as a,i,a as e,t as r,n as k,F as x,r as b,u as m,l as f,S as X,Q as U}from"./app-B_m6gyVW.js";import{_ as Y}from"./AuthenticatedLayout-W_TTbZHe.js";import{P as Z}from"./PageLayout-Jd_HdcyN.js";import{_ as ee}from"./FileViewerModal-CH3TL6G-.js";import{j as se,c as te,l as O,b as oe,e as ne,h as re}from"./Icon-Auad6HoD.js";import{r as ae}from"./DocumentIcon-DFn9fwpY.js";import"./useAuth-DNuMGQWM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-EHZ4SIZL.js";import"./useAccessibility-ByXToIYH.js";import"./PageHeader-BJyY0A2B.js";/* empty css                                                                   *//* empty css                                                                   */import"./ArrowTopRightOnSquareIcon-6hWOqjaH.js";import"./ArrowDownTrayIcon-CJfpTad8.js";import"./transition-Cdv6A26O.js";const de={key:0,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-md"},ie={class:"flex items-center"},le={class:"text-sm text-green-800"},me={key:1,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md"},ce={class:"flex items-center"},ue={class:"text-sm text-red-800"},ge={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ye={class:"p-6 text-gray-900"},xe={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},be={class:"lg:col-span-2 space-y-6"},fe={class:"bg-white rounded-lg shadow-sm border border-gray-200"},pe={class:"p-6"},ve={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},he={class:"mt-1 text-sm text-gray-900"},we={class:"mt-1 text-sm text-gray-900"},ke={class:"mt-1 text-sm text-gray-900"},_e={class:"mt-1"},Ae={class:"mt-1 text-sm text-gray-900"},$e={class:"mt-1 text-sm text-gray-900"},je={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200"},Ce={class:"p-6"},De={class:"flex items-center space-x-4"},Se={class:"flex"},Be={class:"text-2xl font-bold text-gray-900"},Ee={class:"text-sm text-gray-500"},Fe={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200"},Ne={class:"p-6"},Ve={class:"text-gray-700 whitespace-pre-wrap"},Le={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200"},Me={class:"p-6"},Re={class:"text-gray-700 whitespace-pre-wrap"},Pe={key:3,class:"bg-white rounded-lg shadow-sm border border-gray-200"},Ue={class:"p-6"},Oe={class:"space-y-3"},Te={class:"flex items-center"},Qe={class:"text-sm text-gray-900"},ze=["onClick"],Ie={class:"space-y-6"},We={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200"},qe={class:"p-6 space-y-3"},Ge=["disabled"],He=["disabled"],Je={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Ke={class:"p-6"},Xe={class:"space-y-3"},Ye={class:"mt-1 text-sm text-gray-900"},Ze={key:0},es={class:"mt-1 text-sm text-gray-700"},ss={key:1},ts={class:"mt-1 text-sm text-gray-900"},os={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200"},ns={class:"p-6"},rs={class:"space-y-3"},as={class:"text-sm font-medium text-gray-900"},ds={class:"text-xs text-gray-500"},is={class:"flex items-center space-x-2"},ls={key:0,class:"flex"},Cs={__name:"Show",props:{assessment:Object,canEdit:Boolean,canApprove:Boolean,relatedAssessments:Array},setup(t){const u=t,c=y(!1),p=y(!1),v=y(""),h=y(""),T=P(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Assessments",href:route("competency-assessments.index")},{label:"Assessment Details",href:null}]),Q=P(()=>{const o=[];return u.canEdit&&o.push({label:"Edit Assessment",href:route("competency-assessments.edit",u.assessment.id),icon:se,variant:"primary"}),o.push({label:"Back to Assessments",href:route("competency-assessments.index"),icon:te,variant:"secondary"}),o}),z=()=>{confirm("Are you sure you want to approve this assessment?")&&(c.value=!0,U.post(route("competency-assessments.approve",u.assessment.id),{},{onFinish:()=>{c.value=!1}}))},I=()=>{const o=prompt("Please provide a reason for rejection:");o&&(c.value=!0,U.post(route("competency-assessments.reject",u.assessment.id),{rejection_reason:o},{onFinish:()=>{c.value=!1}}))},_=o=>({self:"Self Assessment",manager:"Manager Assessment",peer:"Peer Assessment",360:"360Â° Feedback"})[o]||o,W=o=>{v.value=o,h.value=`/assessment-files/${u.assessment.id}/${o}`,p.value=!0},q=()=>{p.value=!1,v.value="",h.value=""},G=o=>({draft:"Draft",submitted:"Submitted",approved:"Approved",rejected:"Rejected"})[o]||o,H=o=>({draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",J=o=>({1:"Needs Improvement",2:"Below Expectations",3:"Meets Expectations",4:"Exceeds Expectations",5:"Outstanding"})[o]||"",A=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(o,s)=>(n(),K(Y,null,{default:w(()=>{var $,j,C;return[l(Z,{title:"Assessment Details",subtitle:`${(j=($=t.assessment.employee)==null?void 0:$.user)==null?void 0:j.name} - ${(C=t.assessment.competency)==null?void 0:C.name}`,breadcrumbs:T.value,actions:Q.value},{default:w(()=>{var D,S,B,E,F,N,V,L,M,R;return[(D=o.$page.props.flash)!=null&&D.success?(n(),a("div",de,[e("div",ie,[s[0]||(s[0]=e("svg",{class:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("p",le,r(o.$page.props.flash.success),1)])])):i("",!0),(S=o.$page.props.flash)!=null&&S.error?(n(),a("div",me,[e("div",ce,[s[1]||(s[1]=e("svg",{class:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),e("p",ue,r(o.$page.props.flash.error),1)])])):i("",!0),e("div",ge,[e("div",ye,[e("div",xe,[e("div",be,[e("div",fe,[s[8]||(s[8]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Assessment Overview")],-1)),e("div",pe,[e("dl",ve,[e("div",null,[s[2]||(s[2]=e("dt",{class:"text-sm font-medium text-gray-500"},"Employee",-1)),e("dd",he,r((E=(B=t.assessment.employee)==null?void 0:B.user)==null?void 0:E.name),1)]),e("div",null,[s[3]||(s[3]=e("dt",{class:"text-sm font-medium text-gray-500"},"Competency",-1)),e("dd",we,r((F=t.assessment.competency)==null?void 0:F.name),1)]),e("div",null,[s[4]||(s[4]=e("dt",{class:"text-sm font-medium text-gray-500"},"Assessment Type",-1)),e("dd",ke,r(_(t.assessment.assessment_type)),1)]),e("div",null,[s[5]||(s[5]=e("dt",{class:"text-sm font-medium text-gray-500"},"Status",-1)),e("dd",_e,[e("span",{class:k([H(t.assessment.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(G(t.assessment.status)),3)])]),e("div",null,[s[6]||(s[6]=e("dt",{class:"text-sm font-medium text-gray-500"},"Assessor",-1)),e("dd",Ae,r(((N=t.assessment.assessor)==null?void 0:N.name)||"Not assigned"),1)]),e("div",null,[s[7]||(s[7]=e("dt",{class:"text-sm font-medium text-gray-500"},"Created Date",-1)),e("dd",$e,r(A(t.assessment.created_at)),1)])])])]),t.assessment.rating?(n(),a("div",je,[s[9]||(s[9]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Rating")],-1)),e("div",Ce,[e("div",De,[e("div",Se,[(n(),a(x,null,b(5,d=>l(m(O),{key:d,class:k([d<=t.assessment.rating?"text-yellow-400":"text-gray-300","h-6 w-6"])},null,8,["class"])),64))]),e("span",Be,r(t.assessment.rating)+"/5",1),e("span",Ee,r(J(t.assessment.rating)),1)])])])):i("",!0),t.assessment.comments?(n(),a("div",Fe,[s[10]||(s[10]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Comments")],-1)),e("div",Ne,[e("p",Ve,r(t.assessment.comments),1)])])):i("",!0),t.assessment.development_notes?(n(),a("div",Le,[s[11]||(s[11]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Development Notes")],-1)),e("div",Me,[e("p",Re,r(t.assessment.development_notes),1)])])):i("",!0),t.assessment.evidence_files&&t.assessment.evidence_files.length>0?(n(),a("div",Pe,[s[13]||(s[13]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Supporting Evidence")],-1)),e("div",Ue,[e("div",Oe,[(n(!0),a(x,null,b(t.assessment.evidence_files,(d,g)=>(n(),a("div",{key:g,class:"flex items-center justify-between p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors"},[e("div",Te,[l(m(ae),{class:"w-5 h-5 text-gray-400 mr-3"}),e("span",Qe,r(d),1)]),e("button",{onClick:ms=>W(d),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[l(m(oe),{class:"w-4 h-4 mr-1"}),s[12]||(s[12]=f(" View "))],8,ze)]))),128))])])])):i("",!0)]),e("div",Ie,[t.canApprove&&t.assessment.status==="submitted"?(n(),a("div",We,[s[16]||(s[16]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Actions")],-1)),e("div",qe,[e("button",{onClick:z,disabled:c.value,class:"w-full inline-flex items-center justify-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50"},[l(m(ne),{class:"w-4 h-4 mr-2"}),s[14]||(s[14]=f(" Approve Assessment "))],8,Ge),e("button",{onClick:I,disabled:c.value,class:"w-full inline-flex items-center justify-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50"},[l(m(re),{class:"w-4 h-4 mr-2"}),s[15]||(s[15]=f(" Reject Assessment "))],8,He)])])):i("",!0),e("div",Je,[s[20]||(s[20]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Competency Details")],-1)),e("div",Ke,[e("dl",Xe,[e("div",null,[s[17]||(s[17]=e("dt",{class:"text-sm font-medium text-gray-500"},"Category",-1)),e("dd",Ye,r((V=t.assessment.competency)==null?void 0:V.category),1)]),(L=t.assessment.competency)!=null&&L.description?(n(),a("div",Ze,[s[18]||(s[18]=e("dt",{class:"text-sm font-medium text-gray-500"},"Description",-1)),e("dd",es,r(t.assessment.competency.description),1)])):i("",!0),(M=t.assessment.competency)!=null&&M.weight?(n(),a("div",ss,[s[19]||(s[19]=e("dt",{class:"text-sm font-medium text-gray-500"},"Weight",-1)),e("dd",ts,r(t.assessment.competency.weight)+"%",1)])):i("",!0)])])]),(R=t.relatedAssessments)!=null&&R.length?(n(),a("div",os,[s[22]||(s[22]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Related Assessments")],-1)),e("div",ns,[e("div",rs,[(n(!0),a(x,null,b(t.relatedAssessments,d=>(n(),a("div",{key:d.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-md"},[e("div",null,[e("div",as,r(_(d.assessment_type)),1),e("div",ds,r(A(d.created_at)),1)]),e("div",is,[d.rating?(n(),a("div",ls,[(n(),a(x,null,b(5,g=>l(m(O),{key:g,class:k([g<=d.rating?"text-yellow-400":"text-gray-300","h-3 w-3"])},null,8,["class"])),64))])):i("",!0),l(m(X),{href:o.route("competency-assessments.show",d.id),class:"text-xs text-blue-600 hover:text-blue-900"},{default:w(()=>s[21]||(s[21]=[f(" View ")])),_:2,__:[21]},1032,["href"])])]))),128))])])])):i("",!0)])])])]),l(ee,{show:p.value,fileName:v.value,fileUrl:h.value,onClose:q},null,8,["show","fileName","fileUrl"])]}),_:1},8,["subtitle","breadcrumbs","actions"])]}),_:1}))}};export{Cs as default};
