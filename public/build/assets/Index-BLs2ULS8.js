import{f as j,e as U,g as x,o as r,h as c,k as m,a as e,c as n,i,w as y,F as p,r as v,t as o,v as E,b as V,n as T,q as z,u,S as g,l as h,Q as w}from"./app-CUmIJloT.js";import{A as H}from"./AuthenticatedLayout-CN8yW47C.js";import{P as Q}from"./PageLayout-dt_sy9NI.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as G,a as $,n as J}from"./icons-jZvIvXHt.js";import"./useAuth-PJAy4uSq.js";import"./PageHeader-BtI9uEpt.js";import"./Icon-DrIt1t-N.js";import"./UsersIcon-D4lZiVrG.js";const K={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},R={class:"p-6"},W={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},X=["value"],Y={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Z={class:"p-6"},ee={class:"flex items-start justify-between mb-4"},te={class:"flex-1 min-w-0"},se={class:"text-lg font-medium text-gray-900 truncate"},ae={key:0,class:"text-sm text-gray-600 mt-1 line-clamp-2"},re={class:"mb-4"},oe={class:"flex items-center justify-between text-sm text-gray-600 mb-2"},le={class:"w-full bg-gray-200 rounded-full h-2"},ne={class:"grid grid-cols-2 gap-4 mb-4"},de={class:"text-center"},ie={class:"text-2xl font-bold text-gray-900"},ue={class:"text-center"},ce={class:"text-2xl font-bold text-gray-900"},me={class:"text-sm text-gray-600 mb-4"},fe={class:"flex items-center justify-between"},ge={class:"flex items-center justify-between"},be={class:"flex items-center justify-between pt-4 border-t border-gray-200"},xe={class:"flex items-center space-x-2"},ye=["onClick"],pe=["onClick"],ve={key:0,class:"text-center py-12"},he={key:1,class:"mt-6"},we={class:"flex items-center justify-between"},_e={class:"text-sm text-gray-700"},Ce={class:"flex space-x-1"},ke={__name:"Index",props:{cycles:Object,statusOptions:Array,filters:Object},setup(l){var S,A,D;const b=l,F=j(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Assessment Dashboard",href:route("assessment-dashboard")},{label:"Assessment Cycles",href:null}]),L=j(()=>[{label:"Back to Dashboard",href:route("assessment-dashboard"),icon:G,variant:"secondary"},{label:"New Cycle",href:route("assessment-cycles.create"),icon:$,variant:"primary"}]),d=U({status:((S=b.filters)==null?void 0:S.status)||"",search:((A=b.filters)==null?void 0:A.search)||"",date_from:((D=b.filters)==null?void 0:D.date_from)||""});let _=null;const f=()=>{w.get(route("assessment-cycle-manager"),d.value,{preserveState:!0,preserveScroll:!0})},N=()=>{clearTimeout(_),_=setTimeout(()=>{f()},300)},B=()=>{d.value={status:"",search:"",date_from:""},f()},M=a=>{confirm(`Are you sure you want to start the "${a.name}" assessment cycle?`)&&w.post(route("assessment-cycles.start",a.id))},P=a=>{confirm(`Are you sure you want to complete the "${a.name}" assessment cycle?`)&&w.post(route("assessment-cycles.complete",a.id))},C=a=>({planned:"Planned",active:"Active",completed:"Completed",cancelled:"Cancelled"})[a]||a,I=a=>({planned:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",completed:"bg-teal-100 text-teal-800",cancelled:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",k=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(a,t)=>(r(),x(H,null,{default:c(()=>[m(Q,{title:"Assessment Cycles",subtitle:"Manage assessment cycles and track progress",breadcrumbs:F.value,actions:L.value},{default:c(()=>[e("div",K,[e("div",R,[e("div",W,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),y(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value.status=s),onChange:f,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"},[t[3]||(t[3]=e("option",{value:""},"All Statuses",-1)),(r(!0),n(p,null,v(l.statusOptions,s=>(r(),n("option",{key:s,value:s},o(C(s)),9,X))),128))],544),[[E,d.value.status]])]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value.search=s),onInput:N,type:"text",placeholder:"Search cycles...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"},null,544),[[V,d.value.search]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date From",-1)),y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>d.value.date_from=s),onChange:f,type:"date",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"},null,544),[[V,d.value.date_from]])]),e("div",{class:"flex items-end"},[e("button",{onClick:B,class:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500"}," Clear Filters ")])])])]),e("div",Y,[(r(!0),n(p,null,v(l.cycles.data,s=>(r(),n("div",{key:s.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200"},[e("div",Z,[e("div",ee,[e("div",te,[e("h3",se,o(s.name),1),s.description?(r(),n("p",ae,o(s.description),1)):i("",!0)]),e("span",{class:T([I(s.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3"])},o(C(s.status)),3)]),e("div",re,[e("div",oe,[t[7]||(t[7]=e("span",null,"Progress",-1)),e("span",null,o(s.completion_percentage)+"%",1)]),e("div",le,[e("div",{class:"bg-teal-600 h-2 rounded-full transition-all duration-300",style:z({width:`${s.completion_percentage}%`})},null,4)])]),e("div",ne,[e("div",de,[e("div",ie,o(s.participant_count),1),t[8]||(t[8]=e("div",{class:"text-xs text-gray-500"},"Participants",-1))]),e("div",ue,[e("div",ce,o(s.assessment_count),1),t[9]||(t[9]=e("div",{class:"text-xs text-gray-500"},"Assessments",-1))])]),e("div",me,[e("div",fe,[t[10]||(t[10]=e("span",null,"Start:",-1)),e("span",null,o(k(s.start_date)),1)]),e("div",ge,[t[11]||(t[11]=e("span",null,"End:",-1)),e("span",null,o(k(s.end_date)),1)])]),e("div",be,[m(u(g),{href:a.route("assessment-cycles.show",s.id),class:"text-sm text-teal-600 hover:text-teal-900 font-medium"},{default:c(()=>t[12]||(t[12]=[h(" View Details ")])),_:2,__:[12]},1032,["href"]),e("div",xe,[s.status==="planned"?(r(),x(u(g),{key:0,href:a.route("assessment-cycles.edit",s.id),class:"text-sm text-gray-600 hover:text-gray-900"},{default:c(()=>t[13]||(t[13]=[h(" Edit ")])),_:2,__:[13]},1032,["href"])):i("",!0),s.status==="planned"?(r(),n("button",{key:1,onClick:O=>M(s),class:"text-sm text-green-600 hover:text-green-900 font-medium"}," Start ",8,ye)):i("",!0),s.status==="active"?(r(),n("button",{key:2,onClick:O=>P(s),class:"text-sm text-teal-600 hover:text-teal-900 font-medium"}," Complete ",8,pe)):i("",!0)])])])]))),128))]),l.cycles.data.length===0?(r(),n("div",ve,[m(u(J),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t[15]||(t[15]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No Assessment Cycles",-1)),t[16]||(t[16]=e("p",{class:"text-gray-500 mb-6"},"Get started by creating your first assessment cycle.",-1)),m(u(g),{href:a.route("assessment-cycles.create"),class:"inline-flex items-center px-4 py-2 bg-teal-600 text-white text-sm font-medium rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500"},{default:c(()=>[m(u($),{class:"w-4 h-4 mr-2"}),t[14]||(t[14]=h(" Create Assessment Cycle "))]),_:1,__:[14]},8,["href"])])):i("",!0),l.cycles.links&&l.cycles.data.length>0?(r(),n("div",he,[e("div",we,[e("div",_e," Showing "+o(l.cycles.from)+" to "+o(l.cycles.to)+" of "+o(l.cycles.total)+" results ",1),e("div",Ce,[(r(!0),n(p,null,v(l.cycles.links,s=>(r(),x(u(g),{key:s.label,href:s.url,class:T(["px-3 py-2 text-sm font-medium rounded-md",s.active?"bg-teal-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])):i("",!0)]),_:1},8,["breadcrumbs","actions"])]),_:1}))}},Ne=q(ke,[["__scopeId","data-v-4771ed4d"]]);export{Ne as default};
