import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I,k as N,c as d,Y as q,f as i,b as s,g as u,p as n,r as y,F as v,t as b,u as m,n as h,a as x,m as w,l as J,J as R}from"./app-pjQvhOqR.js";const Y={key:0,class:"form-header"},K={class:"header-content"},Q={class:"title-area"},T={key:0,class:"form-title"},U={key:1,class:"form-description"},W={key:0,class:"header-actions"},X=["onClick","disabled"],Z={key:1},ee={key:1,class:"form-progress"},te={class:"progress-container"},se={class:"progress-steps"},re=["onClick"],oe={class:"step-indicator"},ie={key:0,class:"step-check"},le={key:1,class:"step-number"},ne={class:"step-content"},ae={class:"step-title"},ce={key:0,class:"step-description"},de={class:"progress-bar"},ue={class:"form-content"},me={key:0,class:"form-error-summary"},fe={class:"error-summary-list"},pe=["onClick"],ye={class:"form-sections"},he={key:2,class:"form-actions"},ge={class:"actions-content"},ve={class:"secondary-actions"},be=["onClick","disabled"],ke={class:"primary-actions"},Se=["onClick","disabled","type"],_e={key:1,class:"action-icon animate-spin",fill:"none",viewBox:"0 0 24 24"},$e={__name:"FormLayout",props:{title:{type:String,default:""},description:{type:String,default:""},actions:{type:Array,default:()=>[]},headerActions:{type:Array,default:()=>[]},steps:{type:Array,default:()=>[]},currentStep:{type:Number,default:0},errors:{type:Object,default:()=>({})},isSubmitting:{type:Boolean,default:!1},showErrorSummary:{type:Boolean,default:!0},showProgress:{type:Boolean,default:!1},variant:{type:String,default:"default",validator:r=>["default","card","modal","inline"].includes(r)},size:{type:String,default:"md",validator:r=>["sm","md","lg","xl"].includes(r)},spacing:{type:String,default:"normal",validator:r=>["tight","normal","loose"].includes(r)},class:{type:[String,Array,Object],default:""}},emits:["submit","action","header-action","step-change","field-focus"],setup(r,{expose:A,emit:c}){const o=r,p=c,k=I(),S=N(null),_=d(()=>o.title||o.description||$.value||k.header),$=d(()=>{var e;return((e=o.headerActions)==null?void 0:e.length)>0||!!k["header-actions"]}),C=d(()=>{var e;return((e=o.actions)==null?void 0:e.length)>0||!!k.actions}),B=d(()=>o.actions.filter(e=>e.variant==="primary"||e.type==="submit")),j=d(()=>o.actions.filter(e=>e.variant!=="primary"&&e.type!=="submit")),F=d(()=>Object.entries(o.errors).map(([e,a])=>({field:e,message:Array.isArray(a)?a[0]:a}))),z=d(()=>Object.keys(o.errors).length>0),L=d(()=>o.steps.length?(o.currentStep+1)/o.steps.length*100:0),l=d(()=>["form-layout",`form-layout--${o.variant}`,`form-layout--${o.size}`,`form-layout--spacing-${o.spacing}`,{"form-layout--has-header":_.value,"form-layout--has-actions":C.value,"form-layout--has-progress":o.showProgress,"form-layout--has-errors":z.value,"form-layout--submitting":o.isSubmitting},o.class]);q("formContext",{errors:d(()=>o.errors),isSubmitting:d(()=>o.isSubmitting),variant:d(()=>o.variant),size:d(()=>o.size)});const E=e=>{e.preventDefault(),p("submit",e)},f=e=>{e.disabled||o.isSubmitting||p("action",e)},H=e=>{e.disabled||p("header-action",e)},D=(e,a)=>{e.disabled||a>o.currentStep||p("step-change",{step:e,index:a})},P=e=>{const a=document.querySelector(`[name="${e}"], #${e}`);a&&(a.focus(),a.scrollIntoView({behavior:"smooth",block:"center"}),p("field-focus",e))},G=(e,a)=>a<o.currentStep,M=(e,a)=>["progress-step",{"progress-step--current":a===o.currentStep,"progress-step--completed":a<o.currentStep,"progress-step--disabled":e.disabled||a>o.currentStep,"progress-step--clickable":!e.disabled&&a<=o.currentStep}],O=e=>["form-action-button","inline-flex items-center justify-center","font-medium rounded-md transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2",{"px-3 py-2 text-sm":e.size==="sm"||!e.size&&o.size==="sm","px-4 py-2 text-base":e.size==="md"||!e.size&&o.size==="md","px-6 py-3 text-lg":e.size==="lg"||!e.size&&o.size==="lg","bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500":e.variant==="primary","bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500":e.variant==="secondary"||!e.variant,"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 focus:ring-primary-500":e.variant==="ghost","bg-error-600 text-white hover:bg-error-700 focus:ring-error-500":e.variant==="danger","opacity-50 cursor-not-allowed":e.disabled||o.isSubmitting,"space-x-2":e.icon&&e.label}];return A({focusField:P,formRef:S}),(e,a)=>(s(),i("form",{class:h(l.value),onSubmit:E,novalidate:""},[_.value?(s(),i("div",Y,[y(e.$slots,"header",{},()=>[n("div",K,[n("div",Q,[r.title?(s(),i("h2",T,m(r.title),1)):u("",!0),r.description?(s(),i("p",U,m(r.description),1)):u("",!0)]),$.value?(s(),i("div",W,[y(e.$slots,"header-actions",{},()=>[(s(!0),i(v,null,b(r.headerActions,t=>(s(),i("button",{key:t.id,onClick:g=>H(t),disabled:t.disabled,class:h(O(t)),type:"button"},[t.icon?(s(),x(w(t.icon),{key:0,class:"action-icon"})):u("",!0),t.label?(s(),i("span",Z,m(t.label),1)):u("",!0)],10,X))),128))],!0)])):u("",!0)])],!0)])):u("",!0),r.showProgress?(s(),i("div",ee,[y(e.$slots,"progress",{},()=>[n("div",te,[n("div",se,[(s(!0),i(v,null,b(r.steps,(t,g)=>(s(),i("div",{key:t.id||g,class:h(M(t,g)),onClick:Ee=>D(t,g)},[n("div",oe,[G(t,g)?(s(),i("span",ie,a[0]||(a[0]=[n("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):(s(),i("span",le,m(g+1),1))]),n("div",ne,[n("div",ae,m(t.title),1),t.description?(s(),i("div",ce,m(t.description),1)):u("",!0)])],10,re))),128))]),n("div",de,[n("div",{class:"progress-fill",style:J({width:`${L.value}%`})},null,4)])])],!0)])):u("",!0),n("div",ue,[r.showErrorSummary&&z.value?(s(),i("div",me,[a[1]||(a[1]=n("div",{class:"error-summary-header"},[n("svg",{class:"error-icon",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),n("h3",{class:"error-summary-title"},"Please correct the following errors:")],-1)),n("ul",fe,[(s(!0),i(v,null,b(F.value,t=>(s(),i("li",{key:t.field,class:"error-summary-item"},[n("button",{type:"button",onClick:g=>P(t.field),class:"error-summary-link"},m(t.message),9,pe)]))),128))])])):u("",!0),n("div",ye,[y(e.$slots,"default",{},void 0,!0)])]),C.value?(s(),i("div",he,[y(e.$slots,"actions",{},()=>[n("div",ge,[n("div",ve,[(s(!0),i(v,null,b(j.value,t=>(s(),i("button",{key:t.id,onClick:g=>f(t),disabled:t.disabled||r.isSubmitting,class:h(O(t)),type:"button"},[t.icon?(s(),x(w(t.icon),{key:0,class:"action-icon"})):u("",!0),n("span",null,m(t.label),1)],10,be))),128))]),n("div",ke,[(s(!0),i(v,null,b(B.value,t=>(s(),i("button",{key:t.id,onClick:g=>f(t),disabled:t.disabled||r.isSubmitting,class:h(O(t)),type:t.type||"button"},[t.icon&&!r.isSubmitting?(s(),x(w(t.icon),{key:0,class:"action-icon"})):u("",!0),r.isSubmitting&&t.type==="submit"?(s(),i("svg",_e,a[2]||(a[2]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):u("",!0),n("span",null,m(r.isSubmitting&&t.type==="submit"?t.loadingLabel||"Submitting...":t.label),1)],10,Se))),128))])])],!0)])):u("",!0)],34))}},Ve=V($e,[["__scopeId","data-v-519cad9a"]]),Ce={key:0,class:"section-header"},ze={class:"header-content"},xe={class:"title-area"},we={key:1,class:"section-description"},Ae={key:0,class:"section-actions"},Be=["onClick","disabled"],je={key:1},Fe={key:1,class:"section-fields"},Le={key:1,class:"section-footer"},Oe={__name:"FormSection",props:{title:{type:String,default:""},description:{type:String,default:""},actions:{type:Array,default:()=>[]},useGrid:{type:Boolean,default:!1},columns:{type:Object,default:()=>({xs:1,sm:1,md:2,lg:2,xl:3})},gap:{type:String,default:"md",validator:r=>["sm","md","lg","xl"].includes(r)},variant:{type:String,default:"default",validator:r=>["default","card","bordered","minimal"].includes(r)},size:{type:String,default:"",validator:r=>["","sm","md","lg"].includes(r)},headingLevel:{type:Number,default:3,validator:r=>r>=1&&r<=6},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},class:{type:[String,Array,Object],default:""}},emits:["action","toggle"],setup(r,{emit:A}){const c=r,o=A,p=I(),k=R("formContext",{}),S=d(()=>c.title||c.description||_.value||p.header),_=d(()=>{var l;return((l=c.actions)==null?void 0:l.length)>0||!!p.actions}),$=d(()=>{var l;return c.size||((l=k.size)==null?void 0:l.value)||"md"}),C=d(()=>["form-section",`form-section--${c.variant}`,`form-section--${$.value}`,{"form-section--collapsible":c.collapsible,"form-section--collapsed":c.collapsed,"form-section--has-header":S.value,"form-section--has-footer":!!p.footer,"form-section--grid":c.useGrid},c.class]),B=d(()=>["section-title",`section-title--h${c.headingLevel}`,{"section-title--with-description":!!c.description}]),j=d(()=>["section-content",{"section-content--collapsed":c.collapsed,"section-content--with-header":S.value,"section-content--with-footer":!!p.footer}]),F=d(()=>["section-grid",`section-grid--gap-${c.gap}`,`grid-cols-${c.columns.xs||1}`,`sm:grid-cols-${c.columns.sm||1}`,`md:grid-cols-${c.columns.md||2}`,`lg:grid-cols-${c.columns.lg||2}`,`xl:grid-cols-${c.columns.xl||3}`]),z=l=>{l.disabled||o("action",l)},L=l=>["section-action-button","inline-flex items-center justify-center","font-medium rounded-md transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2",{"px-2 py-1 text-xs":l.size==="xs","px-3 py-1.5 text-sm":l.size==="sm"||!l.size,"px-4 py-2 text-base":l.size==="md","bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500":l.variant==="primary","bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500":l.variant==="secondary","text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 focus:ring-primary-500":l.variant==="ghost"||!l.variant,"bg-error-600 text-white hover:bg-error-700 focus:ring-error-500":l.variant==="danger","opacity-50 cursor-not-allowed":l.disabled,"space-x-1":l.icon&&l.label}];return(l,E)=>(s(),i("div",{class:h([C.value,"relative z-0"])},[S.value?(s(),i("div",Ce,[y(l.$slots,"header",{},()=>[n("div",ze,[n("div",xe,[r.title?(s(),i("h3",{key:0,class:h(B.value)},m(r.title),3)):u("",!0),r.description?(s(),i("p",we,m(r.description),1)):u("",!0)]),_.value?(s(),i("div",Ae,[y(l.$slots,"actions",{},()=>[(s(!0),i(v,null,b(r.actions,f=>(s(),i("button",{key:f.id,onClick:H=>z(f),disabled:f.disabled,class:h(L(f)),type:"button"},[f.icon?(s(),x(w(f.icon),{key:0,class:"action-icon"})):u("",!0),f.label?(s(),i("span",je,m(f.label),1)):u("",!0)],10,Be))),128))],!0)])):u("",!0)])],!0)])):u("",!0),n("div",{class:h(j.value)},[r.useGrid?(s(),i("div",{key:0,class:h(F.value)},[y(l.$slots,"default",{},void 0,!0)],2)):(s(),i("div",Fe,[y(l.$slots,"default",{},void 0,!0)]))],2),l.$slots.footer?(s(),i("div",Le,[y(l.$slots,"footer",{},void 0,!0)])):u("",!0)],2))}},Ie=V(Oe,[["__scopeId","data-v-2624384d"]]);export{Ve as F,Ie as a};
