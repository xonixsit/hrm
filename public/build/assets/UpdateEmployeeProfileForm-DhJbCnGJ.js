import{e as U,x as w,y as f,z as B,c as y,o as g,k as t,a as d,h as s,u as r,w as F,j as N,i as h,n as M,l as j,t as D,d as O}from"./app-qqAwAE0p.js";import{F as u}from"./FormSection-kTwpp_2S.js";import{F as i}from"./FormField-CALSjmi0.js";import{B as m}from"./BaseInput-BuP8ouML.js";import{B as b}from"./BaseSelect-Bij0hYzs.js";import{B as p}from"./BaseTextarea-B9ADjwwu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-Du5DvmhO.js";import"./icons-DSw-vv7H.js";/* empty css                                                                  *//* empty css                                                                   */const Y={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={class:"grid grid-cols-1 gap-6"},A={class:"space-y-2"},q={class:"flex items-center"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},J={class:"grid grid-cols-1 gap-6"},$={class:"flex items-center justify-between pt-6 border-t border-neutral-200"},R={class:"text-sm text-neutral-600"},T={key:0,class:"text-success-600 font-medium"},H=["disabled"],L={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},le={__name:"UpdateEmployeeProfileForm",props:{employee:{type:Object,required:!0},user:{type:Object,required:!0}},setup(V){const n=V,c=U(!1),k=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"},{label:"Prefer not to say",value:"prefer_not_to_say"}],v=[{label:"Spouse",value:"spouse"},{label:"Parent",value:"parent"},{label:"Child",value:"child"},{label:"Sibling",value:"sibling"},{label:"Friend",value:"friend"},{label:"Other",value:"other"}],_=l=>{if(!l)return"";if(typeof l=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(l))return l;try{const o=new Date(l);if(isNaN(o.getTime()))return"";const a=o.getFullYear(),C=String(o.getMonth()+1).padStart(2,"0"),P=String(o.getDate()).padStart(2,"0");return`${a}-${C}-${P}`}catch(o){return console.warn("Error formatting date:",o),""}},e=w({name:n.user.name,date_of_birth:n.employee.date_of_birth_formatted||_(n.employee.date_of_birth),gender:n.employee.gender||"",phone:n.employee.phone||"",personal_email:n.employee.personal_email||"",nationality:n.employee.nationality||"",work_location:n.employee.work_location||"",current_address:n.employee.current_address||"",permanent_address:n.employee.permanent_address||"",emergency_contact_name:n.employee.emergency_contact_name||"",emergency_contact_relationship:n.employee.emergency_contact_relationship||"",emergency_contact_phone:n.employee.emergency_contact_phone||"",emergency_contact_email:n.employee.emergency_contact_email||"",skills:n.employee.skills||"",education:n.employee.education||""}),x=()=>{c.value&&(e.permanent_address=e.current_address)};f(()=>e.current_address,l=>{c.value&&(e.permanent_address=l)}),f(()=>n.employee,l=>{l&&(e.date_of_birth=l.date_of_birth_formatted||_(l.date_of_birth),e.gender=l.gender||"",e.phone=l.phone||"",e.personal_email=l.personal_email||"",e.nationality=l.nationality||"",e.work_location=l.work_location||"",e.current_address=l.current_address||"",e.permanent_address=l.permanent_address||"",e.emergency_contact_name=l.emergency_contact_name||"",e.emergency_contact_relationship=l.emergency_contact_relationship||"",e.emergency_contact_phone=l.emergency_contact_phone||"",e.emergency_contact_email=l.emergency_contact_email||"",e.skills=l.skills||"",e.education=l.education||"")},{deep:!0}),f(()=>n.user,l=>{l&&(e.name=l.name)},{deep:!0});const S=()=>{e.patch(route("profile.update-employee"),{preserveScroll:!0,onSuccess:()=>{}})};return B(()=>{n.employee.date_of_birth&&(e.date_of_birth=n.employee.date_of_birth_formatted||_(n.employee.date_of_birth))}),(l,o)=>(g(),y("form",{onSubmit:O(S,["prevent"]),class:"space-y-8"},[t(u,{title:"Personal Information",description:"Basic personal details"},{default:s(()=>[d("div",Y,[t(i,{label:"Full Name",required:"",error:r(e).errors.name,help:"Your full name as it appears on official documents"},{default:s(()=>[t(m,{modelValue:r(e).name,"onUpdate:modelValue":o[0]||(o[0]=a=>r(e).name=a),type:"text",placeholder:"John Doe",error:!!r(e).errors.name,required:""},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Date of Birth",error:r(e).errors.date_of_birth,help:"Your date of birth"},{default:s(()=>[t(m,{modelValue:r(e).date_of_birth,"onUpdate:modelValue":o[1]||(o[1]=a=>r(e).date_of_birth=a),type:"date",error:!!r(e).errors.date_of_birth},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Gender",error:r(e).errors.gender,help:"Select your gender"},{default:s(()=>[t(b,{modelValue:r(e).gender,"onUpdate:modelValue":o[2]||(o[2]=a=>r(e).gender=a),options:k,error:!!r(e).errors.gender,placeholder:"Select gender"},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Phone Number",error:r(e).errors.phone,help:"Your primary contact number"},{default:s(()=>[t(m,{modelValue:r(e).phone,"onUpdate:modelValue":o[3]||(o[3]=a=>r(e).phone=a),type:"tel",placeholder:"+1 (555) 123-4567",error:!!r(e).errors.phone},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Personal Email",error:r(e).errors.personal_email,help:"Personal email address (different from work email)"},{default:s(()=>[t(m,{modelValue:r(e).personal_email,"onUpdate:modelValue":o[4]||(o[4]=a=>r(e).personal_email=a),type:"email",placeholder:"john.doe@personal.com",error:!!r(e).errors.personal_email},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Nationality",error:r(e).errors.nationality,help:"Your nationality"},{default:s(()=>[t(m,{modelValue:r(e).nationality,"onUpdate:modelValue":o[5]||(o[5]=a=>r(e).nationality=a),type:"text",placeholder:"American",error:!!r(e).errors.nationality},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Work Location",error:r(e).errors.work_location,help:"Your primary work location"},{default:s(()=>[t(m,{modelValue:r(e).work_location,"onUpdate:modelValue":o[6]||(o[6]=a=>r(e).work_location=a),type:"text",placeholder:"Main Office, Remote, etc.",error:!!r(e).errors.work_location},null,8,["modelValue","error"])]),_:1},8,["error"])])]),_:1}),t(u,{title:"Address Information",description:"Current and permanent address details"},{default:s(()=>[d("div",I,[t(i,{label:"Current Address",error:r(e).errors.current_address,help:"Your current residential address"},{default:s(()=>[t(p,{modelValue:r(e).current_address,"onUpdate:modelValue":o[7]||(o[7]=a=>r(e).current_address=a),placeholder:"123 Main Street, City, State, ZIP",error:!!r(e).errors.current_address,rows:"3"},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Permanent Address",error:r(e).errors.permanent_address,help:"Permanent residential address (if different from current)"},{default:s(()=>[d("div",A,[d("div",q,[F(d("input",{id:"same_as_current","onUpdate:modelValue":o[8]||(o[8]=a=>c.value=a),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded",onChange:x},null,544),[[N,c.value]]),o[16]||(o[16]=d("label",{for:"same_as_current",class:"ml-2 text-sm text-neutral-600"}," Same as current address ",-1))]),t(p,{modelValue:r(e).permanent_address,"onUpdate:modelValue":o[9]||(o[9]=a=>r(e).permanent_address=a),placeholder:"456 Home Street, City, State, ZIP",error:!!r(e).errors.permanent_address,rows:"3"},null,8,["modelValue","error"])])]),_:1},8,["error"])])]),_:1}),t(u,{title:"Emergency Contact",description:"Contact person in case of emergency"},{default:s(()=>[d("div",z,[t(i,{label:"Emergency Contact Name",error:r(e).errors.emergency_contact_name,help:"Full name of emergency contact person"},{default:s(()=>[t(m,{modelValue:r(e).emergency_contact_name,"onUpdate:modelValue":o[10]||(o[10]=a=>r(e).emergency_contact_name=a),type:"text",placeholder:"Jane Doe",error:!!r(e).errors.emergency_contact_name},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Relationship",error:r(e).errors.emergency_contact_relationship,help:"Relationship to you"},{default:s(()=>[t(b,{modelValue:r(e).emergency_contact_relationship,"onUpdate:modelValue":o[11]||(o[11]=a=>r(e).emergency_contact_relationship=a),options:v,error:!!r(e).errors.emergency_contact_relationship,placeholder:"Select relationship"},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Emergency Contact Phone",error:r(e).errors.emergency_contact_phone,help:"Phone number of emergency contact"},{default:s(()=>[t(m,{modelValue:r(e).emergency_contact_phone,"onUpdate:modelValue":o[12]||(o[12]=a=>r(e).emergency_contact_phone=a),type:"tel",placeholder:"+1 (555) 987-6543",error:!!r(e).errors.emergency_contact_phone},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Emergency Contact Email",error:r(e).errors.emergency_contact_email,help:"Email address of emergency contact"},{default:s(()=>[t(m,{modelValue:r(e).emergency_contact_email,"onUpdate:modelValue":o[13]||(o[13]=a=>r(e).emergency_contact_email=a),type:"email",placeholder:"jane.doe@email.com",error:!!r(e).errors.emergency_contact_email},null,8,["modelValue","error"])]),_:1},8,["error"])])]),_:1}),t(u,{title:"Professional Information",description:"Skills, education, and other professional details"},{default:s(()=>[d("div",J,[t(i,{label:"Skills",error:r(e).errors.skills,help:"List your skills separated by commas (e.g., JavaScript, Project Management, Communication)"},{default:s(()=>[t(p,{modelValue:r(e).skills,"onUpdate:modelValue":o[14]||(o[14]=a=>r(e).skills=a),placeholder:"JavaScript, Project Management, Communication",error:!!r(e).errors.skills,rows:"3"},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Education",error:r(e).errors.education,help:"Your educational background"},{default:s(()=>[t(p,{modelValue:r(e).education,"onUpdate:modelValue":o[15]||(o[15]=a=>r(e).education=a),placeholder:"Bachelor's Degree in Computer Science, University Name",error:!!r(e).errors.education,rows:"3"},null,8,["modelValue","error"])]),_:1},8,["error"])])]),_:1}),d("div",$,[d("div",R,[r(e).recentlySuccessful?(g(),y("span",T," âœ“ Profile updated successfully! ")):h("",!0)]),d("button",{type:"submit",disabled:r(e).processing,class:M(["inline-flex items-center px-4 py-2 bg-primary-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-primary-700 focus:bg-primary-700 active:bg-primary-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition ease-in-out duration-150",{"opacity-50 cursor-not-allowed":r(e).processing}])},[r(e).processing?(g(),y("svg",L,o[17]||(o[17]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):h("",!0),j(" "+D(r(e).processing?"Updating...":"Update Profile"),1)],10,H)])],32))}};export{le as default};
