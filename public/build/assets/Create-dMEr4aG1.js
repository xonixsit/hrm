import{f as w,e as g,g as P,o as l,h as y,k as A,c as o,i as d,a as e,t as i,d as U,w as u,b as f,v as E,F as v,r as x,j as p,l as m,u as z,S as B,Q as N}from"./app-Dd7VrNCQ.js";import{A as j}from"./AuthenticatedLayout-D4FIeqyB.js";import{P as F}from"./PageLayout-D0SHGGKp.js";import{c as $}from"./icons-CtOFMBHU.js";import"./useAuth-BfE_9vR9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-BeMwKJDa.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-CcXNMKtY.js";import"./PageHeader-BlnC-dxk.js";import"./Icon-BwGLVs10.js";/* empty css                                                                   */const q={key:0,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-md"},L={class:"text-sm text-green-800"},Q={key:1,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md"},H={class:"text-sm text-red-800"},O={class:"bg-white rounded-lg shadow-sm border border-gray-200"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={key:0,class:"mt-1 text-sm text-red-600"},R={key:0,class:"mt-1 text-sm text-red-600"},G={key:0,class:"mt-1 text-sm text-red-600"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K={key:0,class:"mt-1 text-sm text-red-600"},X={key:0,class:"mt-1 text-sm text-red-600"},Y={class:"space-y-4"},Z={class:"flex items-start cursor-pointer"},ee=["value"],se={class:"ml-3 flex-1"},te={class:"flex items-center"},re={class:"text-sm font-medium text-gray-900"},le={key:0,class:"ml-2 text-lg"},oe={class:"text-sm text-gray-600 mt-1"},ne={class:"mt-2 text-xs text-gray-500"},ae={key:0,class:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md"},ie={class:"text-sm text-green-700"},de={key:0,class:"flex items-center mb-1"},ue={key:1,class:"flex items-center mb-1"},me={key:2,class:"flex items-center mb-1"},ce={key:3,class:"flex items-center mb-1"},be={key:1,class:"mt-2 text-sm text-red-600"},pe={class:"max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3"},fe={class:"space-y-2"},ge=["value"],ye={class:"ml-2 text-sm text-gray-700"},ve={class:"text-gray-500"},xe={key:0,class:"mt-1 text-sm text-red-600"},he={class:"space-y-2"},_e={class:"flex items-center"},ke={class:"flex items-center"},we={class:"flex items-center"},Ae={key:0,class:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md"},Ce={class:"text-sm text-red-700 space-y-1"},Se={class:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200"},Ve=["disabled"],Me={key:0},Te={key:1},Le={__name:"Create",props:{employees:Array,competencies:Array,assessmentTypes:Array,errors:Object},setup(n){const C=w(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Assessment Dashboard",href:route("assessment-dashboard")},{label:"Assessment Cycles",href:route("assessment-cycle-manager")},{label:"Create Cycle",href:null}]),S=w(()=>[{label:"Back to Cycles",href:route("assessment-cycle-manager"),icon:$,variant:"secondary"}]),t=g({name:"",description:"",start_date:"",end_date:"",status:"planned",assessment_types:[],competency_ids:[],notification_settings:{send_start_notifications:!0,send_reminder_notifications:!0,send_completion_notifications:!0}});g("all");const b=g(!1),V=()=>{if(console.log("Creating assessment cycle with data:",t.value),!t.value.name){alert("Please enter a cycle name");return}if(!t.value.start_date){alert("Please select a start date");return}if(!t.value.end_date){alert("Please select an end date");return}if(t.value.assessment_types.length===0){alert("Please select at least one assessment type");return}if(t.value.competency_ids.length===0){alert("Please select at least one competency");return}b.value=!0,N.post(route("assessment-cycles.store"),t.value,{onSuccess:a=>{console.log("Assessment cycle created successfully:",a)},onError:a=>{console.error("Assessment cycle creation failed:",a),b.value=!1},onFinish:()=>{b.value=!1}})},M=a=>({self:"Self Assessment",manager:"Manager Assessment",peer:"Peer Assessment",360:"360Â° Feedback"})[a]||a,h=a=>({self:"ðŸ‘¤",manager:"ðŸ‘”",peer:"ðŸ‘¥",360:"ðŸ”„"})[a]||"",T=a=>({self:"Employees evaluate their own competencies and performance",manager:"Direct managers assess their team members' competencies",peer:"Colleagues provide feedback on each other's competencies",360:"Comprehensive feedback from multiple perspectives including managers, peers, and subordinates"})[a]||"",D=a=>({self:"Employees being assessed",manager:"Managers and their direct reports",peer:"Selected peer reviewers",360:"All participants in the feedback circle"})[a]||"";return(a,s)=>(l(),P(j,null,{default:y(()=>[A(F,{title:"Create Assessment Cycle",subtitle:"Create a new assessment cycle to organize multiple assessments",breadcrumbs:C.value,actions:S.value},{default:y(()=>{var _,k;return[(_=a.$page.props.flash)!=null&&_.success?(l(),o("div",q,[e("p",L,i(a.$page.props.flash.success),1)])):d("",!0),(k=a.$page.props.flash)!=null&&k.error?(l(),o("div",Q,[e("p",H,i(a.$page.props.flash.error),1)])):d("",!0),e("div",O,[e("form",{onSubmit:U(V,["prevent"]),class:"p-6 space-y-6"},[e("div",W,[e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cycle Name *",-1)),u(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>t.value.name=r),type:"text",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"e.g., Q1 2024 Performance Review"},null,512),[[f,t.value.name]]),n.errors.name?(l(),o("div",I,i(n.errors.name),1)):d("",!0)]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),u(e("select",{"onUpdate:modelValue":s[1]||(s[1]=r=>t.value.status=r),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},s[11]||(s[11]=[e("option",{value:"planned"},"Planned",-1),e("option",{value:"active"},"Active",-1)]),512),[[E,t.value.status]]),n.errors.status?(l(),o("div",R,i(n.errors.status),1)):d("",!0)])]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),u(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=r=>t.value.description=r),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Describe the purpose and scope of this assessment cycle..."},null,512),[[f,t.value.description]]),n.errors.description?(l(),o("div",G,i(n.errors.description),1)):d("",!0)]),e("div",J,[e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Start Date *",-1)),u(e("input",{"onUpdate:modelValue":s[3]||(s[3]=r=>t.value.start_date=r),type:"date",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[f,t.value.start_date]]),n.errors.start_date?(l(),o("div",K,i(n.errors.start_date),1)):d("",!0)]),e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"End Date *",-1)),u(e("input",{"onUpdate:modelValue":s[4]||(s[4]=r=>t.value.end_date=r),type:"date",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[f,t.value.end_date]]),n.errors.end_date?(l(),o("div",X,i(n.errors.end_date),1)):d("",!0)])]),e("div",null,[s[22]||(s[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Assessment Types *",-1)),s[23]||(s[23]=e("div",{class:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-md"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])]),e("div",{class:"ml-3"},[e("h4",{class:"text-sm font-medium text-blue-800"},"Why Multiple Assessment Types?"),e("p",{class:"text-sm text-blue-700 mt-1"}," Select multiple types to get comprehensive feedback from different perspectives. Each type creates separate assessments with targeted notifications. ")])])],-1)),e("div",Y,[(l(!0),o(v,null,x(n.assessmentTypes,r=>(l(),o("div",{key:r,class:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors"},[e("label",Z,[u(e("input",{"onUpdate:modelValue":s[5]||(s[5]=c=>t.value.assessment_types=c),value:r,type:"checkbox",class:"mt-1 rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,8,ee),[[p,t.value.assessment_types]]),e("div",se,[e("div",te,[e("span",re,i(M(r)),1),h(r)?(l(),o("span",le,i(h(r)),1)):d("",!0)]),e("p",oe,i(T(r)),1),e("div",ne,[s[16]||(s[16]=e("strong",null,"Who gets notified:",-1)),m(" "+i(D(r)),1)])])])]))),128))]),t.value.assessment_types.length>0?(l(),o("div",ae,[s[21]||(s[21]=e("h4",{class:"text-sm font-medium text-green-800 mb-2"},"Selected Assessment Flow:",-1)),e("div",ie,[t.value.assessment_types.includes("self")?(l(),o("div",de,s[17]||(s[17]=[e("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1),m(" Employees will assess themselves ")]))):d("",!0),t.value.assessment_types.includes("manager")?(l(),o("div",ue,s[18]||(s[18]=[e("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1),m(" Managers will assess their direct reports ")]))):d("",!0),t.value.assessment_types.includes("peer")?(l(),o("div",me,s[19]||(s[19]=[e("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1),m(" Colleagues will assess each other ")]))):d("",!0),t.value.assessment_types.includes("360")?(l(),o("div",ce,s[20]||(s[20]=[e("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1),m(" Multiple people will provide 360Â° feedback ")]))):d("",!0)])])):d("",!0),n.errors.assessment_types?(l(),o("div",be,i(n.errors.assessment_types),1)):d("",!0)]),s[31]||(s[31]=e("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])]),e("div",{class:"ml-3"},[e("h4",{class:"text-sm font-medium text-blue-800"},"Assessment Cycle Scope"),e("p",{class:"text-sm text-blue-700 mt-1"}," This cycle defines the time period, competencies, and assessment types. Employee selection happens when creating individual assessments within this cycle. ")])])],-1)),e("div",null,[s[24]||(s[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Competencies to Assess *",-1)),e("div",pe,[e("div",fe,[(l(!0),o(v,null,x(n.competencies,r=>(l(),o("label",{key:r.id,class:"flex items-center"},[u(e("input",{"onUpdate:modelValue":s[6]||(s[6]=c=>t.value.competency_ids=c),value:r.id,type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,8,ge),[[p,t.value.competency_ids]]),e("span",ye,[m(i(r.name)+" ",1),e("span",ve,"("+i(r.category)+")",1)])]))),128))])]),n.errors.competency_ids?(l(),o("div",xe,i(n.errors.competency_ids),1)):d("",!0)]),e("div",null,[s[28]||(s[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Notification Settings",-1)),e("div",he,[e("label",_e,[u(e("input",{"onUpdate:modelValue":s[7]||(s[7]=r=>t.value.notification_settings.send_start_notifications=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[p,t.value.notification_settings.send_start_notifications]]),s[25]||(s[25]=e("span",{class:"ml-2 text-sm text-gray-700"},"Send notifications when cycle starts",-1))]),e("label",ke,[u(e("input",{"onUpdate:modelValue":s[8]||(s[8]=r=>t.value.notification_settings.send_reminder_notifications=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[p,t.value.notification_settings.send_reminder_notifications]]),s[26]||(s[26]=e("span",{class:"ml-2 text-sm text-gray-700"},"Send reminder notifications",-1))]),e("label",we,[u(e("input",{"onUpdate:modelValue":s[9]||(s[9]=r=>t.value.notification_settings.send_completion_notifications=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[p,t.value.notification_settings.send_completion_notifications]]),s[27]||(s[27]=e("span",{class:"ml-2 text-sm text-gray-700"},"Send notifications when cycle completes",-1))])])]),Object.keys(n.errors).length>0?(l(),o("div",Ae,[s[29]||(s[29]=e("h4",{class:"text-sm font-medium text-red-800 mb-2"},"Validation Errors:",-1)),e("ul",Ce,[(l(!0),o(v,null,x(n.errors,(r,c)=>(l(),o("li",{key:c},[e("strong",null,i(c)+":",1),m(" "+i(Array.isArray(r)?r.join(", "):r),1)]))),128))])])):d("",!0),e("div",Se,[A(z(B),{href:a.route("assessment-cycle-manager"),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:y(()=>s[30]||(s[30]=[m(" Cancel ")])),_:1,__:[30]},8,["href"]),e("button",{type:"submit",disabled:b.value,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[b.value?(l(),o("span",Me,"Creating...")):(l(),o("span",Te,"Create Assessment Cycle"))],8,Ve)])],32)])]}),_:1},8,["breadcrumbs","actions"])]),_:1}))}};export{Le as default};
