import{x as S,f as n,Q as j,g as w,o as B,h as l,k as t,u as r,a as u}from"./app-D_utJk6O.js";import{A as D}from"./AuthenticatedLayout-AzCPQ4J4.js";import{P as F}from"./PageLayout-CNTRjKrQ.js";import{F as P}from"./FormLayout-HdtbMxWv.js";import{F as p}from"./FormSection-1WsRWJEP.js";import{F as i}from"./FormField-DJgv9hLh.js";import{B as m}from"./BaseInput-BfU7yuMn.js";import{B as d}from"./BaseSelect-B7sNtq3O.js";import{B as T}from"./BaseTextarea-Pk72UO3k.js";import{e as x}from"./icons-CjKy-jPP.js";import"./useAuth-CDB2CqE8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-CKS9P9Uo.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-B4W3EGOk.js";import"./PageHeader-CjPBF9Si.js";import"./Icon-BhMauFsh.js";/* empty css                                                                   *//* empty css                                                                  *//* empty css                                                                   */const I={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},C={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Z={__name:"Create",props:{projects:{type:Array,default:()=>[]}},setup(c){const b=c,e=S({project_id:"",name:"",description:"",priority:"medium",status:"todo",due_date:""}),f=n(()=>b.projects.map(s=>({value:s.id,label:s.name}))),h=[{value:"low",label:"Low Priority"},{value:"medium",label:"Medium Priority"},{value:"high",label:"High Priority"},{value:"urgent",label:"Urgent"}],v=[{value:"todo",label:"To Do"},{value:"in_progress",label:"In Progress"},{value:"review",label:"In Review"},{value:"done",label:"Done"}],g=[{label:"Dashboard",href:route("dashboard")},{label:"Project Management",href:"#"},{label:"Tasks",href:route("tasks.index")},{label:"Create Task",current:!0}],k=n(()=>[{id:"cancel",label:"Cancel",variant:"secondary",handler:()=>j.visit(route("tasks.index"))},{id:"save-draft",label:"Save as Draft",variant:"ghost",handler:()=>_()},{id:"create",label:"Create Task",type:"submit",variant:"primary",icon:x,loadingLabel:"Creating Task...",disabled:!y.value}]),y=n(()=>e.name&&e.name.trim().length>0&&e.project_id),V=()=>{e.post(route("tasks.store"),{onSuccess:()=>{},onError:s=>{console.error("Form submission errors:",s);const o=Object.keys(s)[0];if(o){const a=document.querySelector(`[name="${o}"]`);a&&(a.scrollIntoView({behavior:"smooth",block:"center"}),a.focus())}}})},_=()=>{console.log("Saving as draft...")};return(s,o)=>(B(),w(D,null,{default:l(()=>[t(F,{title:"Create Task",subtitle:"Add a new task to your project",breadcrumbs:g},{default:l(()=>[t(P,{title:"Task Information",description:"Enter the details for the new task",actions:k.value,errors:r(e).errors,"is-submitting":r(e).processing,variant:"card",onSubmit:V},{default:l(()=>[t(p,{title:"Basic Information",description:"Essential details about the task"},{default:l(()=>[u("div",I,[t(i,{label:"Task Name",required:"",error:r(e).errors.name,help:"Enter a clear, descriptive name for the task"},{default:l(()=>[t(m,{modelValue:r(e).name,"onUpdate:modelValue":o[0]||(o[0]=a=>r(e).name=a),type:"text",placeholder:"e.g., Implement user authentication",error:!!r(e).errors.name,required:""},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Project",required:"",error:r(e).errors.project_id,help:"Select the project this task belongs to"},{default:l(()=>[t(d,{modelValue:r(e).project_id,"onUpdate:modelValue":o[1]||(o[1]=a=>r(e).project_id=a),options:f.value,"option-label":"label","option-value":"value",error:!!r(e).errors.project_id,placeholder:"Select a project"},null,8,["modelValue","options","error"])]),_:1},8,["error"]),t(i,{label:"Description",error:r(e).errors.description,help:"Provide detailed information about the task",class:"md:col-span-2"},{default:l(()=>[t(T,{modelValue:r(e).description,"onUpdate:modelValue":o[2]||(o[2]=a=>r(e).description=a),placeholder:"Describe what needs to be done, acceptance criteria, and any important notes...",error:!!r(e).errors.description,rows:"4"},null,8,["modelValue","error"])]),_:1},8,["error"])])]),_:1}),t(p,{title:"Task Details",description:"Additional task configuration and settings"},{default:l(()=>[u("div",C,[t(i,{label:"Priority",error:r(e).errors.priority,help:"Set the task priority level"},{default:l(()=>[t(d,{modelValue:r(e).priority,"onUpdate:modelValue":o[3]||(o[3]=a=>r(e).priority=a),options:h,"option-label":"label","option-value":"value",error:!!r(e).errors.priority,placeholder:"Select priority"},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Status",error:r(e).errors.status,help:"Initial status for the task"},{default:l(()=>[t(d,{modelValue:r(e).status,"onUpdate:modelValue":o[4]||(o[4]=a=>r(e).status=a),options:v,"option-label":"label","option-value":"value",error:!!r(e).errors.status,placeholder:"Select status"},null,8,["modelValue","error"])]),_:1},8,["error"]),t(i,{label:"Due Date",error:r(e).errors.due_date,help:"When should this task be completed"},{default:l(()=>[t(m,{modelValue:r(e).due_date,"onUpdate:modelValue":o[5]||(o[5]=a=>r(e).due_date=a),type:"date",error:!!r(e).errors.due_date},null,8,["modelValue","error"])]),_:1},8,["error"])])]),_:1})]),_:1},8,["actions","errors","is-submitting"])]),_:1})]),_:1}))}};export{Z as default};
