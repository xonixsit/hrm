import{x as F,k as T,c as y,o as G,a as q,b as i,w as v,e as h,p as e,n as u,h as K,z as g,f as d,g as x,s as f,F as R,t as I,y as o,a3 as Y,u as n,A as M,R as z,K as J}from"./app-D8ofPjSu.js";import{_ as Q}from"./AuthenticatedLayout-BlvGw8gF.js";import{P as W}from"./PageLayout-CEd04mi4.js";import{C as w}from"./ContentCard-IjmMjzFW.js";import"./useAuth-D0CKBA2e.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-C6SQStN-.js";import"./Icon-Bs8iYFbI.js";import"./useAccessibility-DJF01NUi.js";import"./PageHeader-BeuRjwOx.js";/* empty css                                                                   *//* empty css                                                                   *//* empty css                                                                    */const X={class:"mb-8"},Z={class:"flex items-center justify-between"},ee={class:"flex items-center space-x-4"},te={class:"flex items-center"},se={class:"flex-1 h-0.5 bg-gray-200 mx-4"},oe={class:"flex items-center"},re={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ae={class:"lg:col-span-2"},ne={class:"space-y-6"},ie={class:"space-y-3"},le={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},de=["onClick"],ue={class:"flex items-start"},ce={class:"flex items-center h-5"},me=["id","value"],fe={class:"ml-3 flex-1"},ge=["for"],ve={key:0,class:"text-sm text-gray-500 mt-1"},xe={class:"flex items-center mt-2 text-xs text-gray-500"},pe={key:0,class:"mt-1 text-sm text-red-600"},ye={class:"space-y-4"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_e={class:"space-y-2"},he={class:"relative"},we=["min"],ke={key:0,class:"text-sm text-red-600"},Ce={class:"space-y-2"},De={class:"relative"},Me=["min"],Le={key:0,class:"text-sm text-red-600"},Se={class:"space-y-3"},Ve={class:"relative"},Be={class:"absolute bottom-3 right-3 text-xs text-gray-400"},je={key:0,class:"text-sm text-red-600"},Te={class:"flex justify-end pt-6 border-t border-gray-200"},qe=["disabled"],Re={class:"space-y-6"},Ie={class:"bg-gray-50 rounded-lg p-6 space-y-4"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Pe={class:"mt-1 text-sm text-gray-900"},$e={class:"mt-1 text-sm text-gray-900"},Ne={class:"mt-1 text-sm text-gray-900"},Ue={class:"mt-1 text-sm text-gray-900"},Ae={class:"mt-1 text-sm text-gray-900"},Ee={class:"flex items-start"},He={class:"flex items-center h-5"},Oe={class:"flex justify-between pt-6 border-t border-gray-200"},Fe=["disabled"],Ge={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},Ke={key:1,class:"mr-2 -ml-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ye={class:"lg:col-span-1 space-y-6"},Je={class:"text-center"},Qe={class:"mt-2 text-3xl font-bold text-indigo-600"},We={class:"mt-1 text-sm text-gray-500"},Xe={class:"space-y-3"},Ze={class:"text-sm text-gray-600"},et={class:"text-sm font-medium text-gray-900"},gt={__name:"Create",props:{leaveTypes:{type:Array,default:()=>[]}},setup(k){const P=k,s=F({leave_type_id:"",from_date:"",to_date:"",reason:""}),l=T(1),p=T(!1),L=y(()=>new Date().toISOString().split("T")[0]),$=y(()=>P.leaveTypes.find(r=>r.id==s.leave_type_id)),S=y(()=>s.leave_type_id&&s.from_date&&s.to_date&&s.reason&&s.reason.trim().length>=10),N=y(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Leaves",href:route("leaves.index")},{label:"New Request",current:!0}]),U=y(()=>[{id:"save-draft",label:"Save Draft",variant:"secondary",handler:O}]),b=r=>r?new Date(r).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Not selected",V=()=>{if(!s.from_date||!s.to_date)return"Not calculated";const r=s.from_date.split("-"),t=s.to_date.split("-"),c=new Date(parseInt(r[0]),parseInt(r[1])-1,parseInt(r[2])),a=new Date(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2])).getTime()-c.getTime(),m=Math.floor(a/(1e3*60*60*24))+1;if(m===1)return"1 day";if(m<=7)return`${m} days`;const _=Math.floor(m/7),D=m%7;return D===0?_===1?"1 week":`${_} weeks`:`${_} week${_>1?"s":""} and ${D} day${D>1?"s":""}`},A=r=>{s.leave_type_id=r.id},B=()=>{if(s.from_date&&s.to_date){const r=new Date(s.from_date);new Date(s.to_date)<r&&(s.to_date=s.from_date)}},j=()=>{S.value&&(l.value=2)},E=()=>{l.value=1,p.value=!1},H=()=>{l.value===1?j():l.value===2&&p.value&&s.post(route("leaves.store"),{onSuccess:()=>{},onError:r=>{Object.keys(r).some(t=>["leave_type_id","from_date","to_date","reason"].includes(t))&&(l.value=1)}})},O=()=>{console.log("Save draft functionality would be implemented here")};return G(()=>{if(!s.from_date){const r=new Date;r.setDate(r.getDate()+1),s.from_date=r.toISOString().split("T")[0]}}),(r,t)=>(i(),q(Q,null,{default:v(()=>[h(W,{title:"Request Leave",subtitle:"Submit a new leave request for approval",breadcrumbs:N.value,actions:U.value},{default:v(()=>[e("div",X,[e("div",Z,[e("div",ee,[e("div",te,[e("div",{class:u(["flex items-center justify-center w-8 h-8 rounded-full border-2",l.value>=1?"bg-indigo-600 border-indigo-600 text-white":"border-gray-300 text-gray-500"])},t[5]||(t[5]=[e("span",{class:"text-sm font-medium"},"1",-1)]),2),e("span",{class:u(["ml-2 text-sm font-medium",l.value>=1?"text-indigo-600":"text-gray-500"])},"Leave Details",2)]),e("div",se,[e("div",{class:u(["h-full transition-all duration-300",l.value>=2?"bg-indigo-600":"bg-gray-200"])},null,2)]),e("div",oe,[e("div",{class:u(["flex items-center justify-center w-8 h-8 rounded-full border-2",l.value>=2?"bg-indigo-600 border-indigo-600 text-white":"border-gray-300 text-gray-500"])},t[6]||(t[6]=[e("span",{class:"text-sm font-medium"},"2",-1)]),2),e("span",{class:u(["ml-2 text-sm font-medium",l.value>=2?"text-indigo-600":"text-gray-500"])},"Review & Submit",2)])])])]),e("div",re,[e("div",ae,[h(w,null,{default:v(()=>{var c,C;return[e("form",{onSubmit:K(H,["prevent"]),class:"space-y-8"},[g(e("div",ne,[t[17]||(t[17]=e("div",{class:"border-b border-gray-200 pb-4"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Leave Information"),e("p",{class:"mt-1 text-sm text-gray-600"}," Please provide the details of your leave request. ")],-1)),e("div",ie,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700"},[f(" Leave Type "),e("span",{class:"text-red-500"},"*")],-1)),e("div",le,[(i(!0),d(R,null,I(k.leaveTypes,a=>(i(),d("div",{key:a.id,onClick:m=>A(a),class:u(["relative rounded-lg border p-4 cursor-pointer focus:outline-none transition-all duration-200",o(s).leave_type_id===a.id?"border-indigo-600 ring-2 ring-indigo-600 bg-indigo-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"])},[e("div",ue,[e("div",ce,[g(e("input",{id:`leave-type-${a.id}`,value:a.id,"onUpdate:modelValue":t[0]||(t[0]=m=>o(s).leave_type_id=m),type:"radio",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"},null,8,me),[[Y,o(s).leave_type_id]])]),e("div",fe,[e("label",{for:`leave-type-${a.id}`,class:"block text-sm font-medium text-gray-900 cursor-pointer"},n(a.name),9,ge),a.description?(i(),d("p",ve,n(a.description),1)):x("",!0),e("div",xe,[t[7]||(t[7]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",null,n(a.quota||"Unlimited")+" days available",1)])])])],10,de))),128))]),o(s).errors.leave_type_id?(i(),d("div",pe,n(o(s).errors.leave_type_id),1)):x("",!0)]),e("div",ye,[t[13]||(t[13]=e("h4",{class:"text-sm font-medium text-gray-900"},"Leave Period",-1)),e("div",be,[e("div",_e,[t[10]||(t[10]=e("label",{for:"from_date",class:"block text-sm font-medium text-gray-700"},[f(" Start Date "),e("span",{class:"text-red-500"},"*")],-1)),e("div",he,[g(e("input",{id:"from_date","onUpdate:modelValue":t[1]||(t[1]=a=>o(s).from_date=a),type:"date",min:L.value,class:u(["block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm pl-10",{"border-red-300 focus:border-red-500 focus:ring-red-500":o(s).errors.from_date}]),onChange:B},null,42,we),[[M,o(s).from_date]]),t[9]||(t[9]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))]),o(s).errors.from_date?(i(),d("div",ke,n(o(s).errors.from_date),1)):x("",!0)]),e("div",Ce,[t[12]||(t[12]=e("label",{for:"to_date",class:"block text-sm font-medium text-gray-700"},[f(" End Date "),e("span",{class:"text-red-500"},"*")],-1)),e("div",De,[g(e("input",{id:"to_date","onUpdate:modelValue":t[2]||(t[2]=a=>o(s).to_date=a),type:"date",min:o(s).from_date||L.value,class:u(["block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm pl-10",{"border-red-300 focus:border-red-500 focus:ring-red-500":o(s).errors.to_date}]),onChange:B},null,42,Me),[[M,o(s).to_date]]),t[11]||(t[11]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))]),o(s).errors.to_date?(i(),d("div",Le,n(o(s).errors.to_date),1)):x("",!0)])])]),e("div",Se,[t[14]||(t[14]=e("label",{for:"reason",class:"block text-sm font-medium text-gray-700"},[f(" Reason for Leave "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ve,[g(e("textarea",{id:"reason","onUpdate:modelValue":t[3]||(t[3]=a=>o(s).reason=a),rows:"4",maxlength:"500",placeholder:"Please provide a detailed reason for your leave request. Include any relevant information that will help your manager understand the context of your request.",class:u(["block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm resize-none",{"border-red-300 focus:border-red-500 focus:ring-red-500":o(s).errors.reason}])},null,2),[[M,o(s).reason]]),e("div",Be,n(((c=o(s).reason)==null?void 0:c.length)||0)+"/500 ",1)]),o(s).errors.reason?(i(),d("div",je,n(o(s).errors.reason),1)):x("",!0),t[15]||(t[15]=e("div",{class:"text-sm text-gray-500"},[e("svg",{class:"inline w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),f(" Be specific about your leave reason to help expedite the approval process. ")],-1))]),e("div",Te,[e("button",{type:"button",onClick:j,disabled:!S.value,class:"inline-flex items-center px-6 py-3 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},t[16]||(t[16]=[f(" Review Request "),e("svg",{class:"ml-2 -mr-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,qe)])],512),[[z,l.value===1]]),g(e("div",Re,[t[27]||(t[27]=e("div",{class:"border-b border-gray-200 pb-4"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Review Your Request"),e("p",{class:"mt-1 text-sm text-gray-600"}," Please review your leave request details before submitting. ")],-1)),e("div",Ie,[e("div",ze,[e("div",null,[t[18]||(t[18]=e("dt",{class:"text-sm font-medium text-gray-500"},"Leave Type",-1)),e("dd",Pe,n(((C=$.value)==null?void 0:C.name)||"Not selected"),1)]),e("div",null,[t[19]||(t[19]=e("dt",{class:"text-sm font-medium text-gray-500"},"Duration",-1)),e("dd",$e,n(V()),1)]),e("div",null,[t[20]||(t[20]=e("dt",{class:"text-sm font-medium text-gray-500"},"Start Date",-1)),e("dd",Ne,n(b(o(s).from_date)),1)]),e("div",null,[t[21]||(t[21]=e("dt",{class:"text-sm font-medium text-gray-500"},"End Date",-1)),e("dd",Ue,n(b(o(s).to_date)),1)])]),e("div",null,[t[22]||(t[22]=e("dt",{class:"text-sm font-medium text-gray-500"},"Reason",-1)),e("dd",Ae,n(o(s).reason),1)])]),e("div",Ee,[e("div",He,[g(e("input",{id:"confirmation","onUpdate:modelValue":t[4]||(t[4]=a=>p.value=a),type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,512),[[J,p.value]])]),t[23]||(t[23]=e("div",{class:"ml-3 text-sm"},[e("label",{for:"confirmation",class:"font-medium text-gray-700"}," I confirm that the information provided is accurate "),e("p",{class:"text-gray-500"}," By checking this box, I acknowledge that I have reviewed my leave request and confirm that all details are correct. ")],-1))]),e("div",Oe,[e("button",{type:"button",onClick:E,class:"inline-flex items-center px-6 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200"},t[24]||(t[24]=[e("svg",{class:"mr-2 -ml-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),f(" Back to Details ")])),e("button",{type:"submit",disabled:o(s).processing||!p.value,class:"inline-flex items-center px-6 py-3 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[o(s).processing?(i(),d("svg",Ge,t[25]||(t[25]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(i(),d("svg",Ke,t[26]||(t[26]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))),f(" "+n(o(s).processing?"Submitting Request...":"Submit Leave Request"),1)],8,Fe)])],512),[[z,l.value===2]])],32)]}),_:1})]),e("div",Ye,[o(s).from_date&&o(s).to_date?(i(),q(w,{key:0},{default:v(()=>[e("div",Je,[t[28]||(t[28]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100"},[e("svg",{class:"h-6 w-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),t[29]||(t[29]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"Leave Duration",-1)),e("p",Qe,n(V()),1),e("p",We,n(b(o(s).from_date))+" to "+n(b(o(s).to_date)),1)])]),_:1})):x("",!0),h(w,null,{default:v(()=>[t[30]||(t[30]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Leave Balance",-1)),e("div",Xe,[(i(!0),d(R,null,I(k.leaveTypes,c=>(i(),d("div",{key:c.id,class:"flex justify-between items-center"},[e("span",Ze,n(c.name),1),e("span",et,n(c.balance||"N/A")+" days",1)]))),128))])]),_:1,__:[30]}),h(w,null,{default:v(()=>t[31]||(t[31]=[e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Leave Guidelines",-1),e("div",{class:"space-y-3 text-sm text-gray-600"},[e("div",{class:"flex items-start"},[e("svg",{class:"flex-shrink-0 h-5 w-5 text-green-500 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),e("span",null,"Submit requests at least 2 weeks in advance")]),e("div",{class:"flex items-start"},[e("svg",{class:"flex-shrink-0 h-5 w-5 text-green-500 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),e("span",null,"Provide detailed reasons for better approval chances")]),e("div",{class:"flex items-start"},[e("svg",{class:"flex-shrink-0 h-5 w-5 text-green-500 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),e("span",null,"Check team calendar for conflicts")]),e("div",{class:"flex items-start"},[e("svg",{class:"flex-shrink-0 h-5 w-5 text-green-500 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),e("span",null,"Emergency leaves can be submitted retroactively")])],-1)])),_:1,__:[31]})])])]),_:1},8,["breadcrumbs","actions"])]),_:1}))}};export{gt as default};
