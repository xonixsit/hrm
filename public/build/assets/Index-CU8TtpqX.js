import{c as w,a as c,b as r,w as u,p as e,f as i,g as a,y as p,S as m,s as x,F as B,t as D,u as d,n as M,e as k,Q as f}from"./app-D8ofPjSu.js";import{_ as S}from"./AuthenticatedLayout-BlvGw8gF.js";import{P as N}from"./Pagination-UrzJOwXP.js";import{u as V}from"./useAuth-D0CKBA2e.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-C6SQStN-.js";import"./Icon-Bs8iYFbI.js";import"./useAccessibility-DJF01NUi.js";const P={class:"py-12"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},H={class:"p-6 text-gray-900"},z={class:"flex justify-between items-center mb-6"},F={class:"flex space-x-3"},L={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},O={class:"min-w-full divide-y divide-gray-300"},Q={class:"bg-gray-50"},G={key:0,scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},I={class:"bg-white divide-y divide-gray-200"},U={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},q={key:0,class:"px-6 py-4 whitespace-nowrap"},J={class:"flex items-center"},K={class:"flex-shrink-0 h-8 w-8"},W={class:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"},X={class:"text-sm font-medium text-gray-700"},Y={class:"ml-3"},Z={class:"text-sm font-medium text-gray-900"},ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},oe={class:"px-6 py-4 whitespace-nowrap"},re={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ne={class:"flex items-center justify-end space-x-2"},ae=["onClick"],ie=["onClick"],le=["onClick"],de={key:0,class:"text-center py-12"},ue={class:"mt-6"},ce={key:1,class:"mt-6"},we={__name:"Index",props:{timesheets:Object},setup(n){const{hasRole:g,hasAnyRole:y}=V(),l=w(()=>y(["Admin","Manager"])),h=w(()=>g("Employee")||y(["Admin","Manager"])),b=s=>(g("Employee")&&!l.value||l.value)&&s.status==="pending",_=s=>(g("Employee")&&!l.value||l.value)&&s.status==="pending",j=s=>{confirm("Are you sure you want to delete this timesheet entry?")&&f.delete(route("timesheets.destroy",s))},C=s=>{confirm("Are you sure you want to approve this timesheet?")&&f.post(route("timesheets.approve",s),{comments:"Approved from timesheet list"})},A=s=>{const t=prompt("Please provide a reason for rejection:");t!==null&&f.post(route("timesheets.reject",s),{comments:t||"Rejected from timesheet list"})},E=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),$=s=>{const t="inline-flex px-2 py-1 text-xs font-semibold rounded-full";switch(s){case"approved":return`${t} bg-green-100 text-green-800`;case"rejected":return`${t} bg-red-100 text-red-800`;case"pending":return`${t} bg-yellow-100 text-yellow-800`;default:return`${t} bg-gray-100 text-gray-800`}};return(s,t)=>(r(),c(S,null,{header:u(()=>t[0]||(t[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Timesheets ",-1)])),default:u(()=>[e("div",P,[e("div",R,[e("div",T,[e("div",H,[e("div",z,[t[2]||(t[2]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Time Entries"),e("p",{class:"mt-1 text-sm text-gray-600"}," Manage and track time entries for projects and tasks. ")],-1)),e("div",F,[h.value?(r(),c(p(m),{key:0,href:s.route("timesheets.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:u(()=>t[1]||(t[1]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),x(" Add Entry ")])),_:1,__:[1]},8,["href"])):a("",!0)])]),e("div",L,[e("table",O,[e("thead",Q,[e("tr",null,[t[3]||(t[3]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date ",-1)),l.value?(r(),i("th",G," Employee ")):a("",!0),t[4]||(t[4]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Project ",-1)),t[5]||(t[5]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Task ",-1)),t[6]||(t[6]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Hours ",-1)),t[7]||(t[7]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status ",-1)),t[8]||(t[8]=e("th",{scope:"col",class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Actions")],-1))])]),e("tbody",I,[(r(!0),i(B,null,D(n.timesheets.data,o=>(r(),i("tr",{key:o.id,class:"hover:bg-gray-50"},[e("td",U,d(E(o.date)),1),l.value?(r(),i("td",q,[e("div",J,[e("div",K,[e("div",W,[e("span",X,d(o.employee.user.name.charAt(0)),1)])]),e("div",Y,[e("div",Z,d(o.employee.user.name),1)])])])):a("",!0),e("td",ee,d(o.project.name),1),e("td",te,d(o.task?o.task.name:"N/A"),1),e("td",se,d(o.hours)+"h ",1),e("td",oe,[e("span",{class:M([$(o.status),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},d(o.status),3)]),e("td",re,[e("div",ne,[k(p(m),{href:s.route("timesheets.show",o.id),class:"text-blue-600 hover:text-blue-900 transition-colors duration-150"},{default:u(()=>t[9]||(t[9]=[x(" View ")])),_:2,__:[9]},1032,["href"]),b(o)?(r(),c(p(m),{key:0,href:s.route("timesheets.edit",o.id),class:"text-green-600 hover:text-green-900 transition-colors duration-150"},{default:u(()=>t[10]||(t[10]=[x(" Edit ")])),_:2,__:[10]},1032,["href"])):a("",!0),_(o)?(r(),i("button",{key:1,onClick:v=>j(o.id),class:"text-red-600 hover:text-red-900 transition-colors duration-150"}," Delete ",8,ae)):a("",!0),l.value&&o.status==="pending"?(r(),i("button",{key:2,onClick:v=>C(o.id),class:"text-green-600 hover:text-green-900 transition-colors duration-150"}," Approve ",8,ie)):a("",!0),l.value&&o.status==="pending"?(r(),i("button",{key:3,onClick:v=>A(o.id),class:"text-red-600 hover:text-red-900 transition-colors duration-150"}," Reject ",8,le)):a("",!0)])])]))),128))])])]),n.timesheets.data.length===0?(r(),i("div",de,[t[12]||(t[12]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[13]||(t[13]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No timesheets",-1)),t[14]||(t[14]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating a new time entry.",-1)),e("div",ue,[h.value?(r(),c(p(m),{key:0,href:s.route("timesheets.create"),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:u(()=>t[11]||(t[11]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),x(" Add Entry ")])),_:1,__:[11]},8,["href"])):a("",!0)])])):a("",!0),n.timesheets.last_page>1?(r(),i("div",ce,[k(N,{links:n.timesheets.links,"current-page":n.timesheets.current_page,"last-page":n.timesheets.last_page,total:n.timesheets.total,"per-page":n.timesheets.per_page,from:n.timesheets.from,to:n.timesheets.to},null,8,["links","current-page","last-page","total","per-page","from","to"])])):a("",!0)])])])])]),_:1}))}};export{we as default};
