import{e as C,x as Xe,f as j,z as Re,A as We,g as G,o as c,h as g,k as a,u as o,a as e,l as p,t as m,d as z,c as u,F as L,r as B,n as M,w,j as O,p as fe,i as h,J as Se,b as De,v as Me,C as Ke,S as Pe,q as ye,s as Ze,Q as N}from"./app-BQSrEzXv.js";import{l as es}from"./lodash-D2wVy8vZ.js";import{r as Le,A as ss}from"./AuthenticatedLayout-BOcaxLk0.js";import{_ as ee}from"./SecondaryButton-DhyybM-u.js";import{_ as ts}from"./ConfirmationModal-FjcbqZT7.js";import{F as P}from"./FormField-SfsZZQYI.js";import{B as ge}from"./BaseInput-Nw6VlXPK.js";import{B as os}from"./BaseTextarea-BkABxGpT.js";import{P as Be}from"./PrimaryButton-DwZu38Zg.js";import{_ as He}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{g as oe,f as xe,o as ns,k as Ue,a as _e,p as qe,n as Z,q as as,s as ls,t as is,i as Te,e as Ae,u as Ve,b as rs,r as ds,h as ze,m as Ie}from"./icons-Bsh0Wzd9.js";import{r as he,c as cs}from"./UsersIcon-B6NXvPnn.js";import{Y as us,h as Ye,G as ms,V as ps,S as vs}from"./transition-BhQxV2G6.js";import{r as Ge}from"./ArrowPathIcon-DvmVY_ok.js";import{r as fs}from"./DocumentDuplicateIcon-CDhtk5iv.js";import{r as ys}from"./ArrowDownTrayIcon-BAKXS07v.js";import"./useAuth-D4R4ueAN.js";import"./Icon-Xz6u-piM.js";/* empty css                                                                  */const gs={class:"fixed inset-0 z-10 overflow-y-auto"},_s={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},hs={class:"modal-header"},xs={class:"header-content"},bs={class:"modal-subtitle"},ws={class:"modal-content"},Cs={class:"step-indicator"},$s={class:"steps-list"},ks={class:"step-number"},Ss={class:"step-label"},As={class:"form-steps"},Vs={class:"form-step"},Ds={class:"form-grid"},Ms={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Us={class:"assessment-types-grid"},Fs=["value"],Ns={class:"assessment-type-content"},js={class:"assessment-type-name"},Es={class:"assessment-type-description"},Rs={class:"form-step"},Ps={class:"participant-selection"},Ls={class:"selection-mode"},Bs={class:"mode-options"},qs={class:"mode-option"},Ts={class:"mode-option"},zs={class:"mode-option"},Is={key:0,class:"department-selection"},Ys={class:"department-grid"},Gs=["value"],Ws={class:"department-content"},Hs={class:"department-name"},Os={class:"department-count"},Qs={key:1,class:"individual-selection"},Js={class:"employee-search"},Xs={class:"search-input"},Ks={class:"employee-list"},Zs=["value"],et={class:"employee-content"},st={class:"employee-avatar"},tt={class:"avatar-circle"},ot={class:"employee-info"},nt={class:"employee-name"},at={class:"employee-details"},lt={key:0,class:"employee-position"},it={key:1,class:"employee-department"},rt={class:"selection-summary"},dt={class:"summary-card"},ct={class:"summary-header"},ut={class:"summary-content"},mt={class:"summary-count"},pt={class:"form-step"},vt={class:"competency-assignment"},ft={class:"competency-search"},yt={class:"search-input"},gt={class:"competency-categories"},_t={class:"category-header"},ht={class:"category-title"},xt=["onClick"],bt={class:"competency-grid"},wt=["value"],Ct={class:"competency-content"},$t={class:"competency-name"},kt={class:"competency-description"},St={key:0,class:"competency-weight"},At={class:"form-step"},Vt={class:"notification-settings"},Dt={class:"notification-options"},Mt={class:"notification-option"},Ut={class:"notification-option"},Ft={class:"notification-option"},Nt={key:0,class:"reminder-settings"},jt={class:"reminder-options"},Et={class:"reminder-frequency"},Rt={class:"reminder-timing"},Pt={class:"form-navigation"},Lt={class:"nav-buttons"},Bt={key:0,class:"flex items-center"},qt={key:1},Tt={__name:"CycleFormModal",props:{show:{type:Boolean,default:!1},cycle:{type:Object,default:null},employees:{type:Array,default:()=>[]},competencies:{type:Array,default:()=>[]}},emits:["close","save"],setup(Q,{emit:ne}){const x=Q,W=ne,b=C(0),$=C("all"),I=C([]),v=C([]),k=C([]),A=C(""),E=C(""),r=Xe({name:"",description:"",start_date:"",end_date:"",assessment_types:[],target_employees:[],competencies:[],notification_settings:{send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7}}),q=j(()=>!!x.cycle),U=j(()=>[{id:"basic",label:"Basic Info"},{id:"participants",label:"Participants"},{id:"competencies",label:"Competencies"},{id:"notifications",label:"Notifications"}]),_=j(()=>[{value:"self",label:"Self Assessment",description:"Employees assess their own competencies"},{value:"manager",label:"Manager Assessment",description:"Managers assess their direct reports"},{value:"peer",label:"Peer Assessment",description:"Colleagues assess each other"},{value:"360",label:"360Â° Feedback",description:"Multi-source feedback from all levels"}]),Y=j(()=>{const d=new Map;return x.employees.forEach(t=>{var l;t.department&&d.set(t.department.id,{id:t.department.id,name:t.department.name,employee_count:(((l=d.get(t.department.id))==null?void 0:l.employee_count)||0)+1})}),Array.from(d.values())}),ae=j(()=>{if(!A.value)return x.employees;const d=A.value.toLowerCase();return x.employees.filter(t=>t.name.toLowerCase().includes(d)||t.position&&t.position.toLowerCase().includes(d)||t.department&&t.department.name.toLowerCase().includes(d))}),le=j(()=>{const d=new Set;return x.competencies.forEach(t=>{t.category&&d.add(t.category)}),Array.from(d).sort()}),J=j(()=>{switch($.value){case"all":return x.employees.length;case"department":return x.employees.filter(d=>d.department&&I.value.includes(d.department.id)).length;case"individual":return v.value.length;default:return 0}}),ie=j(()=>{switch(b.value){case 0:return r.name&&r.start_date&&r.end_date&&r.assessment_types.length>0;case 1:return J.value>0;case 2:return k.value.length>0;case 3:return!0;default:return!1}}),re=j(()=>r.name&&r.start_date&&r.end_date&&r.assessment_types.length>0&&J.value>0&&k.value.length>0),se=d=>d<b.value?"completed":d===b.value?"active":"pending",de=()=>{b.value<U.value.length-1&&b.value++},ce=()=>{b.value>0&&b.value--},be=d=>d.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().slice(0,2),te=d=>{const t=x.competencies.filter(l=>l.category===d);if(E.value){const l=E.value.toLowerCase();return t.filter(f=>f.name.toLowerCase().includes(l)||f.description&&f.description.toLowerCase().includes(l))}return t},ue=d=>{const t=te(d);return t.length>0&&t.every(l=>k.value.includes(l.id))},we=d=>{const t=te(d);ue(d)?t.forEach(f=>{const X=k.value.indexOf(f.id);X>-1&&k.value.splice(X,1)}):t.forEach(f=>{k.value.includes(f.id)||k.value.push(f.id)})},me=()=>{let d=[];switch($.value){case"all":d=x.employees.map(t=>t.id);break;case"department":d=x.employees.filter(t=>t.department&&I.value.includes(t.department.id)).map(t=>t.id);break;case"individual":d=v.value;break}r.target_employees=d,r.competencies=k.value,W("save",r.data())};Re(()=>x.show,d=>{d&&pe()}),Re(()=>x.cycle,d=>{d&&H(d)});const pe=()=>{b.value=0,$.value="all",I.value=[],v.value=[],k.value=[],A.value="",E.value="",x.cycle?H(x.cycle):(r.reset(),r.notification_settings={send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7})},H=d=>{r.name=d.name||"",r.description=d.description||"",r.start_date=d.start_date||"",r.end_date=d.end_date||"",r.assessment_types=d.assessment_types||[],r.notification_settings=d.notification_settings||{send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7},d.target_employees&&(v.value=d.target_employees,$.value="individual"),d.competencies&&(k.value=d.competencies)};return We(()=>{x.cycle&&H(x.cycle)}),(d,t)=>(c(),G(o(vs),{as:"template",show:Q.show},{default:g(()=>[a(o(us),{as:"div",class:"relative z-50",onClose:t[20]||(t[20]=l=>d.$emit("close"))},{default:g(()=>[a(o(Ye),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>t[21]||(t[21]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1,__:[21]}),e("div",gs,[e("div",_s,[a(o(Ye),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:g(()=>[a(o(ms),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl"},{default:g(()=>[e("div",hs,[e("div",xs,[a(o(ps),{as:"h3",class:"modal-title"},{default:g(()=>[p(m(q.value?"Edit Assessment Cycle":"Create Assessment Cycle"),1)]),_:1}),e("p",bs,m(q.value?"Update the assessment cycle details":"Set up a new assessment cycle for systematic competency evaluation"),1)]),e("button",{onClick:t[0]||(t[0]=l=>d.$emit("close")),class:"close-button"},[a(o(oe),{class:"w-5 h-5"})])]),e("div",ws,[e("form",{onSubmit:z(me,["prevent"]),class:"cycle-form"},[e("div",Cs,[e("div",$s,[(c(!0),u(L,null,B(U.value,(l,f)=>(c(),u("div",{key:l.id,class:M(["step-item",se(f)])},[e("div",ks,m(f+1),1),e("div",Ss,m(l.label),1)],2))),128))])]),e("div",As,[w(e("div",Vs,[t[22]||(t[22]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Basic Information"),e("p",{class:"step-description"},"Provide the basic details for your assessment cycle")],-1)),e("div",Ds,[a(P,{label:"Cycle Name",required:!0,"error-message":o(r).errors.name,"help-text":"A descriptive name for this assessment cycle"},{default:g(()=>[a(ge,{modelValue:o(r).name,"onUpdate:modelValue":t[1]||(t[1]=l=>o(r).name=l),placeholder:"e.g., Q1 2024 Performance Review","error-message":o(r).errors.name,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),a(P,{label:"Description","error-message":o(r).errors.description,"help-text":"Optional description of the assessment cycle's purpose"},{default:g(()=>[a(os,{modelValue:o(r).description,"onUpdate:modelValue":t[2]||(t[2]=l=>o(r).description=l),placeholder:"Describe the purpose and scope of this assessment cycle...",rows:3,"error-message":o(r).errors.description},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),e("div",Ms,[a(P,{label:"Start Date",required:!0,"error-message":o(r).errors.start_date},{default:g(()=>[a(ge,{modelValue:o(r).start_date,"onUpdate:modelValue":t[3]||(t[3]=l=>o(r).start_date=l),type:"date","error-message":o(r).errors.start_date,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),a(P,{label:"End Date",required:!0,"error-message":o(r).errors.end_date},{default:g(()=>[a(ge,{modelValue:o(r).end_date,"onUpdate:modelValue":t[4]||(t[4]=l=>o(r).end_date=l),type:"date","error-message":o(r).errors.end_date,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"])]),a(P,{label:"Assessment Types",required:!0,"error-message":o(r).errors.assessment_types,"help-text":"Select the types of assessments to include in this cycle"},{default:g(()=>[e("div",Us,[(c(!0),u(L,null,B(_.value,l=>(c(),u("label",{key:l.value,class:"assessment-type-option"},[w(e("input",{"onUpdate:modelValue":t[5]||(t[5]=f=>o(r).assessment_types=f),value:l.value,type:"checkbox",class:"assessment-type-checkbox"},null,8,Fs),[[O,o(r).assessment_types]]),e("div",Ns,[e("div",js,m(l.label),1),e("div",Es,m(l.description),1)])]))),128))])]),_:1},8,["error-message"])])],512),[[fe,b.value===0]]),w(e("div",Rs,[t[28]||(t[28]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Participant Selection"),e("p",{class:"step-description"},"Choose which employees will participate in this assessment cycle")],-1)),e("div",Ps,[e("div",Ls,[e("div",Bs,[e("label",qs,[w(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>$.value=l),value:"all",type:"radio",class:"mode-radio"},null,512),[[Se,$.value]]),t[23]||(t[23]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"All Employees"),e("div",{class:"mode-description"},"Include all active employees")],-1))]),e("label",Ts,[w(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>$.value=l),value:"department",type:"radio",class:"mode-radio"},null,512),[[Se,$.value]]),t[24]||(t[24]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"By Department"),e("div",{class:"mode-description"},"Select specific departments")],-1))]),e("label",zs,[w(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>$.value=l),value:"individual",type:"radio",class:"mode-radio"},null,512),[[Se,$.value]]),t[25]||(t[25]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"Individual Selection"),e("div",{class:"mode-description"},"Choose specific employees")],-1))])])]),$.value==="department"?(c(),u("div",Is,[a(P,{label:"Select Departments","error-message":o(r).errors.departments},{default:g(()=>[e("div",Ys,[(c(!0),u(L,null,B(Y.value,l=>(c(),u("label",{key:l.id,class:"department-option"},[w(e("input",{"onUpdate:modelValue":t[9]||(t[9]=f=>I.value=f),value:l.id,type:"checkbox",class:"department-checkbox"},null,8,Gs),[[O,I.value]]),e("div",Ws,[e("div",Hs,m(l.name),1),e("div",Os,m(l.employee_count||0)+" employees",1)])]))),128))])]),_:1},8,["error-message"])])):h("",!0),$.value==="individual"?(c(),u("div",Qs,[a(P,{label:"Select Employees","error-message":o(r).errors.employees},{default:g(()=>[e("div",Js,[e("div",Xs,[a(o(xe),{class:"search-icon"}),w(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>A.value=l),type:"text",placeholder:"Search employees...",class:"search-field"},null,512),[[De,A.value]])])]),e("div",Ks,[(c(!0),u(L,null,B(ae.value,l=>(c(),u("label",{key:l.id,class:"employee-option"},[w(e("input",{"onUpdate:modelValue":t[11]||(t[11]=f=>v.value=f),value:l.id,type:"checkbox",class:"employee-checkbox"},null,8,Zs),[[O,v.value]]),e("div",et,[e("div",st,[e("div",tt,m(be(l.name)),1)]),e("div",ot,[e("div",nt,m(l.name),1),e("div",at,[l.position?(c(),u("span",lt,m(l.position),1)):h("",!0),l.department?(c(),u("span",it,m(l.department.name),1)):h("",!0)])])])]))),128))])]),_:1},8,["error-message"])])):h("",!0),e("div",rt,[e("div",dt,[e("div",ct,[a(o(he),{class:"summary-icon"}),t[26]||(t[26]=e("h5",{class:"summary-title"},"Selected Participants",-1))]),e("div",ut,[e("div",mt,m(J.value),1),t[27]||(t[27]=e("div",{class:"summary-label"},"employees selected",-1))])])])])],512),[[fe,b.value===1]]),w(e("div",pt,[t[29]||(t[29]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Competency Assignment"),e("p",{class:"step-description"},"Select which competencies will be assessed in this cycle")],-1)),e("div",vt,[a(P,{label:"Select Competencies",required:!0,"error-message":o(r).errors.competencies,"help-text":"Choose the competencies that will be evaluated"},{default:g(()=>[e("div",ft,[e("div",yt,[a(o(xe),{class:"search-icon"}),w(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>E.value=l),type:"text",placeholder:"Search competencies...",class:"search-field"},null,512),[[De,E.value]])])]),e("div",gt,[(c(!0),u(L,null,B(le.value,l=>(c(),u("div",{key:l,class:"category-section"},[e("div",_t,[e("h6",ht,m(l),1),e("button",{onClick:f=>we(l),type:"button",class:"category-toggle"},m(ue(l)?"Deselect All":"Select All"),9,xt)]),e("div",bt,[(c(!0),u(L,null,B(te(l),f=>(c(),u("label",{key:f.id,class:"competency-option"},[w(e("input",{"onUpdate:modelValue":t[13]||(t[13]=X=>k.value=X),value:f.id,type:"checkbox",class:"competency-checkbox"},null,8,wt),[[O,k.value]]),e("div",Ct,[e("div",$t,m(f.name),1),e("div",kt,m(f.description),1),f.weight?(c(),u("div",St," Weight: "+m(f.weight),1)):h("",!0)])]))),128))])]))),128))])]),_:1},8,["error-message"])])],512),[[fe,b.value===2]]),w(e("div",At,[t[36]||(t[36]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Notification Settings"),e("p",{class:"step-description"},"Configure how participants will be notified about the assessment cycle")],-1)),e("div",Vt,[a(P,{label:"Notification Preferences","help-text":"Choose when and how to notify participants"},{default:g(()=>[e("div",Dt,[e("label",Mt,[w(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>o(r).notification_settings.send_start_notification=l),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_start_notification]]),t[30]||(t[30]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Start Notification"),e("div",{class:"notification-description"},"Notify participants when the cycle begins")],-1))]),e("label",Ut,[w(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>o(r).notification_settings.send_reminders=l),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_reminders]]),t[31]||(t[31]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Reminders"),e("div",{class:"notification-description"},"Send reminder notifications for pending assessments")],-1))]),e("label",Ft,[w(e("input",{"onUpdate:modelValue":t[16]||(t[16]=l=>o(r).notification_settings.send_completion_notification=l),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_completion_notification]]),t[32]||(t[32]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Completion Notification"),e("div",{class:"notification-description"},"Notify when assessments are completed")],-1))])])]),_:1}),o(r).notification_settings.send_reminders?(c(),u("div",Nt,[a(P,{label:"Reminder Schedule","help-text":"Configure when reminders should be sent"},{default:g(()=>[e("div",jt,[e("div",Et,[t[34]||(t[34]=e("label",{class:"reminder-label"},"Reminder Frequency",-1)),w(e("select",{"onUpdate:modelValue":t[17]||(t[17]=l=>o(r).notification_settings.reminder_frequency=l),class:"reminder-select"},t[33]||(t[33]=[e("option",{value:"daily"},"Daily",-1),e("option",{value:"weekly"},"Weekly",-1),e("option",{value:"custom"},"Custom",-1)]),512),[[Me,o(r).notification_settings.reminder_frequency]])]),e("div",Rt,[t[35]||(t[35]=e("label",{class:"reminder-label"},"Days Before Deadline",-1)),a(ge,{modelValue:o(r).notification_settings.reminder_days_before,"onUpdate:modelValue":t[18]||(t[18]=l=>o(r).notification_settings.reminder_days_before=l),type:"number",min:"1",max:"30",placeholder:"7"},null,8,["modelValue"])])])]),_:1})])):h("",!0)])],512),[[fe,b.value===3]])]),e("div",Pt,[e("div",Lt,[b.value>0?(c(),G(ee,{key:0,onClick:ce,type:"button"},{default:g(()=>[a(o(ns),{class:"w-4 h-4 mr-2"}),t[37]||(t[37]=p(" Previous "))]),_:1,__:[37]})):h("",!0),t[41]||(t[41]=e("div",{class:"nav-spacer"},null,-1)),a(ee,{onClick:t[19]||(t[19]=l=>d.$emit("close")),type:"button"},{default:g(()=>t[38]||(t[38]=[p(" Cancel ")])),_:1,__:[38]}),b.value<U.value.length-1?(c(),G(Be,{key:1,onClick:de,type:"button",disabled:!ie.value},{default:g(()=>[t[39]||(t[39]=p(" Next ")),a(o(Ue),{class:"w-4 h-4 ml-2"})]),_:1,__:[39]},8,["disabled"])):(c(),G(Be,{key:2,type:"submit",disabled:o(r).processing||!re.value},{default:g(()=>[o(r).processing?(c(),u("span",Bt,[t[40]||(t[40]=e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),p(" "+m(q.value?"Updating...":"Creating..."),1)])):(c(),u("span",qt,m(q.value?"Update Cycle":"Create Cycle"),1))]),_:1},8,["disabled"]))])])],32)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},zt=He(Tt,[["__scopeId","data-v-84764757"]]),It={class:"min-h-screen bg-gray-50"},Yt={class:"bg-white border-b border-gray-200"},Gt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Wt={class:"py-6"},Ht={class:"flex mb-4","aria-label":"Breadcrumb"},Ot={class:"flex items-center space-x-2 text-sm"},Qt={class:"flex items-center"},Jt={class:"flex items-center"},Xt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},Kt={class:"flex items-center space-x-3"},Zt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},eo={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},so={class:"p-6"},to={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},oo={class:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4"},no={class:"relative"},ao={class:"relative"},lo={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},io={class:"relative"},ro={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},co={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},uo={class:"flex items-center space-x-3"},mo={class:"flex bg-gray-100 rounded-lg p-1 border border-gray-200"},po={key:0,class:"mt-6 pt-4 border-t border-gray-200"},vo={class:"flex flex-wrap items-center gap-3"},fo={class:"flex flex-wrap gap-2"},yo={key:0,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-teal-50 text-teal-700 border border-teal-200"},go={key:1,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-green-50 text-green-700 border border-green-200"},_o={key:2,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-purple-50 text-purple-700 border border-purple-200"},ho={key:0,class:"mb-6 flex items-center justify-between"},xo={class:"text-sm text-gray-600"},bo={key:0},wo={key:1},Co={key:0,class:"text-sm text-gray-500"},$o={key:1,class:"space-y-6"},ko={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},So={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200"},Ao={class:"text-center py-16 px-6"},Vo={class:"text-gray-600 mb-6 max-w-md mx-auto"},Do={class:"flex flex-col sm:flex-row items-center justify-center space-y-3 sm:space-y-0 sm:space-x-3"},Mo={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Uo=["onClick"],Fo={class:"p-6 pb-4"},No={class:"flex items-start justify-between mb-3"},jo={class:"flex-1 min-w-0"},Eo={class:"text-lg font-semibold text-gray-900 truncate group-hover:text-teal-600 transition-colors"},Ro={class:"text-sm text-gray-600 mt-1 line-clamp-2"},Po={class:"flex items-center text-sm text-gray-500 mb-4"},Lo={class:"mb-4"},Bo={class:"flex items-center justify-between mb-2"},qo={class:"text-sm text-gray-600"},To={class:"w-full bg-gray-200 rounded-full h-2"},zo={class:"grid grid-cols-2 gap-4 mb-4"},Io={class:"text-center p-3 bg-gray-50 rounded-lg"},Yo={class:"flex items-center justify-center mb-1"},Go={class:"text-lg font-semibold text-gray-900"},Wo={class:"text-center p-3 bg-gray-50 rounded-lg"},Ho={class:"flex items-center justify-center mb-1"},Oo={class:"text-lg font-semibold text-gray-900"},Qo={class:"px-6 py-4 bg-gray-50 border-t border-gray-100 rounded-b-lg"},Jo={class:"flex items-center justify-between"},Xo={class:"flex items-center space-x-2"},Ko=["onClick","disabled"],Zo=["onClick","disabled"],en=["onClick"],sn=["onClick"],tn={class:"relative"},on=["onClick"],nn={key:4,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},an={class:"divide-y divide-gray-200"},ln=["onClick"],rn={class:"hidden md:grid md:grid-cols-12 md:gap-4"},dn={class:"col-span-5"},cn={class:"min-w-0"},un={class:"text-sm font-semibold text-gray-900 truncate group-hover:text-teal-600 transition-colors"},mn={class:"text-sm text-gray-600 mt-1 line-clamp-2"},pn={class:"col-span-2 flex items-center"},vn={class:"col-span-2 flex items-center"},fn={class:"text-sm text-gray-900"},yn={class:"flex items-center"},gn={class:"col-span-2 flex items-center"},_n={class:"w-full"},hn={class:"flex items-center justify-between mb-1"},xn={class:"text-xs text-gray-600"},bn={class:"w-full bg-gray-200 rounded-full h-2"},wn={class:"col-span-1 flex items-center justify-center"},Cn={class:"flex items-center justify-center space-x-2"},$n={class:"flex items-center text-sm text-gray-900"},kn={class:"font-medium"},Sn={class:"relative"},An=["onClick"],Vn={class:"md:hidden space-y-3"},Dn={class:"flex items-start justify-between"},Mn={class:"flex-1 min-w-0"},Un={class:"text-sm font-semibold text-gray-900 truncate group-hover:text-teal-600 transition-colors"},Fn={class:"text-sm text-gray-600 mt-1"},Nn={class:"space-y-2"},jn={class:"flex items-center text-sm text-gray-500"},En={class:"flex items-center justify-between mb-1"},Rn={class:"text-xs text-gray-600"},Pn={class:"w-full bg-gray-200 rounded-full h-2"},Ln={class:"flex items-center justify-between"},Bn={class:"flex items-center text-sm text-gray-600"},qn={class:"relative"},Tn=["onClick"],zn={class:"menu-items"},In=["disabled"],Yn={key:3,class:"menu-divider"},Gn=["disabled"],Wn=["disabled"],Hn={key:1,class:"notification-overlay"},On={class:"notification-center"},Qn={class:"notification-icon"},Jn={class:"notification-text"},Xn={class:"notification-message"},Kn=["onClick"],Zn={__name:"AssessmentCycleManager",props:{cycles:{type:Array,default:()=>[]},employees:{type:Array,default:()=>[]},competencies:{type:Array,default:()=>[]}},setup(Q){const ne=Q,x=j(()=>!!(v.value.search||v.value.status||v.value.dateRange)),W=C(!1),b=C("grid"),$=C([]),I=C(!1),v=C({search:"",status:"",dateRange:""}),k=C(null),A=C(!1),E=C(""),r=C(""),q=C("Confirm"),U=C(null),_=C({show:!1,x:0,y:0,cycle:null}),Y=j(()=>{let i=[...ne.cycles];if(v.value.search){const s=v.value.search.toLowerCase();i=i.filter(y=>y.name.toLowerCase().includes(s)||y.description&&y.description.toLowerCase().includes(s))}if(v.value.status&&(i=i.filter(s=>s.status===v.value.status)),v.value.dateRange){const s=new Date,y=s.getMonth(),S=s.getFullYear();i=i.filter(V=>{const T=new Date(V.start_date),R=new Date(V.end_date);switch(v.value.dateRange){case"current":return T.getMonth()===y&&T.getFullYear()===S||R.getMonth()===y&&R.getFullYear()===S;case"upcoming":return T>s;case"past":return R<s;default:return!0}})}return i}),ae=()=>{W.value=!0,N.reload({only:["cycles"],preserveScroll:!0,onFinish:()=>{W.value=!1,F("Data refreshed successfully","success")}})},le=es.debounce(()=>{},300),J=()=>{},ie=()=>{v.value={search:"",status:"",dateRange:""}},re=i=>{N.visit(route("assessment-cycles.edit",i.id))},se=i=>{N.visit(route("assessment-cycles.show",i.id))},de=i=>{E.value="Start Assessment Cycle",r.value=`Are you sure you want to start "${i.name}"? This will notify all participants and begin the assessment process.`,q.value="Start Cycle",U.value=()=>{pe(i.id,"start","Assessment cycle started successfully")},A.value=!0,d()},ce=i=>{E.value="Complete Assessment Cycle",r.value=`Are you sure you want to complete "${i.name}"? This action cannot be undone.`,q.value="Complete Cycle",U.value=()=>{pe(i.id,"complete","Assessment cycle completed successfully")},A.value=!0,d()},be=i=>{N.post(route("assessment-cycles.duplicate",i.id),{},{onSuccess:()=>{F("Assessment cycle duplicated successfully","success")},onError:()=>{F("Failed to duplicate assessment cycle","error")}}),d()},te=i=>{N.post(route("assessment-cycles.send-reminders",i.id),{},{onSuccess:()=>{F("Reminders sent successfully","success")},onError:()=>{F("Failed to send reminders","error")}}),d()},ue=i=>{window.open(route("assessment-cycles.export",i.id),"_blank"),d()},we=i=>{E.value="Delete Assessment Cycle",r.value=`Are you sure you want to delete "${i.name}"? This action cannot be undone and will remove all associated data.`,q.value="Delete",U.value=()=>{N.delete(route("assessment-cycles.destroy",i.id),{onSuccess:()=>{F("Assessment cycle deleted successfully","success")},onError:()=>{F("Failed to delete assessment cycle","error")}})},A.value=!0,d()},me=i=>{const s=new URLSearchParams({assessment_cycle_id:i.id,assessment_type:"manager"}),y=`${route("competency-assessments.create")}?${s.toString()}`;N.visit(y)},pe=(i,s,y)=>{N.post(route(`assessment-cycles.${s}`,i),{},{onSuccess:()=>{F(y,"success")},onError:()=>{F(`Failed to ${s} assessment cycle`,"error")}})},H=(i,s)=>{s.preventDefault();const y=200,S=250,V=window.innerWidth,T=window.innerHeight;let R=s.clientX,K=s.clientY;R+y>V&&(R=V-y-10),K+S>T&&(K=T-S-10),_.value={show:!0,x:Math.max(10,R),y:Math.max(10,K),cycle:i}},d=()=>{_.value.show=!1},t=()=>{I.value=!1,k.value=null},l=i=>{const s=!!k.value,y=s?"assessment-cycles.update":"assessment-cycles.store",S=s?"put":"post",V=s?[k.value.id]:[];N[S](route(y,...V),i,{onSuccess:()=>{F(`Assessment cycle ${s?"updated":"created"} successfully`,"success"),t()},onError:()=>{F(`Failed to ${s?"update":"create"} assessment cycle`,"error")}})},f=()=>{A.value=!1,U.value&&(U.value(),U.value=null)},X=()=>{A.value=!1,U.value=null},ve=i=>({planned:"Planned",active:"Active",completed:"Completed",cancelled:"Cancelled"})[i]||i,Ce=i=>({planned:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",completed:"bg-teal-100 text-teal-800",cancelled:"bg-red-100 text-red-800"})[i]||"bg-gray-100 text-gray-800",$e=(i,s)=>{const y=new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric"}),S=new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"});return`${y} - ${S}`},Oe=i=>({current:"Current Month",upcoming:"Upcoming",past:"Past Cycles"})[i]||i,ke=i=>({planned:"bg-gray-400",active:"bg-teal-500",completed:"bg-green-500",cancelled:"bg-red-500"})[i]||"bg-gray-400",Fe=()=>{try{typeof route<"u"?N.visit(route("assessment-cycles.create")):N.visit("/assessment-cycles/create")}catch(i){console.error("Navigation error:",i),window.location.href="/assessment-cycles/create"}},F=(i,s="info",y=4e3)=>{const S=Date.now(),V={id:S,message:i,type:s,visible:!0};$.value.push(V),setTimeout(()=>{Ne(S)},y)},Ne=i=>{const s=$.value.findIndex(y=>y.id===i);s>-1&&$.value.splice(s,1)},Qe=i=>{const s="notification-toast",y={success:"notification-success",error:"notification-error",warning:"notification-warning",info:"notification-info"};return`${s} ${y[i]||y.info}`},Je=i=>({success:Ae,error:Ie,warning:Ie,info:ze})[i]||ze,je=i=>{_.value.show&&!i.target.closest(".context-menu")&&d()};return We(()=>{document.addEventListener("click",je),console.log("AssessmentCycleManager mounted"),console.log("Route helper available:",typeof route<"u"),typeof route<"u"?console.log("Test route generation:",route("assessment-cycles.create")):console.warn("Route helper not available - using fallback URLs")}),Ke(()=>{document.removeEventListener("click",je)}),(i,s)=>(c(),G(ss,null,{default:g(()=>{var y,S,V,T,R,K,Ee;return[e("div",It,[e("div",Yt,[e("div",Gt,[e("div",Wt,[e("nav",Ht,[e("ol",Ot,[e("li",null,[a(o(Pe),{href:i.route("dashboard"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:g(()=>s[19]||(s[19]=[p(" Dashboard ")])),_:1,__:[19]},8,["href"])]),e("li",Qt,[a(o(Ue),{class:"w-4 h-4 text-gray-400 mx-2"}),a(o(Pe),{href:i.route("assessment-dashboard"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:g(()=>s[20]||(s[20]=[p(" Assessment Dashboard ")])),_:1,__:[20]},8,["href"])]),e("li",Jt,[a(o(Ue),{class:"w-4 h-4 text-gray-400 mx-2"}),s[21]||(s[21]=e("span",{class:"text-gray-900 font-medium"},"Assessment Cycles",-1))])])]),e("div",Xt,[s[24]||(s[24]=e("div",{class:"mb-4 sm:mb-0"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"Assessment Cycle Manager"),e("p",{class:"mt-1 text-sm text-gray-600"},"Create and manage assessment cycles for systematic competency evaluation")],-1)),e("div",Kt,[a(ee,{onClick:ae,disabled:W.value},{default:g(()=>[a(o(Ge),{class:"w-4 h-4 mr-2"}),s[22]||(s[22]=p(" Refresh "))]),_:1,__:[22]},8,["disabled"]),e("button",{onClick:Fe,class:"inline-flex items-center px-4 py-2 bg-teal-500 text-white text-sm font-medium rounded-lg hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors"},[a(o(_e),{class:"w-4 h-4 mr-2"}),s[23]||(s[23]=p(" New Assessment Cycle "))])])])])])]),e("div",Zt,[e("div",eo,[e("div",so,[e("div",to,[e("div",oo,[e("div",no,[a(o(xe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),w(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>v.value.search=n),type:"text",placeholder:"Search cycles...",class:"pl-10 pr-4 py-2.5 w-full sm:w-64 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors",onInput:s[1]||(s[1]=(...n)=>o(le)&&o(le)(...n))},null,544),[[De,v.value.search]])]),e("div",ao,[w(e("select",{"onUpdate:modelValue":s[2]||(s[2]=n=>v.value.status=n),onChange:J,class:"appearance-none pl-10 pr-10 py-2.5 min-w-40 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all duration-200 bg-white text-gray-900 hover:border-gray-400 cursor-pointer"},s[25]||(s[25]=[e("option",{value:""},"All Statuses",-1),e("option",{value:"planned"},"Planned",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),544),[[Me,v.value.status]]),s[26]||(s[26]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("div",{class:"w-4 h-4 text-gray-400"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])])],-1)),e("div",lo,[a(o(qe),{class:"w-4 h-4 text-gray-400"})])]),e("div",io,[w(e("select",{"onUpdate:modelValue":s[3]||(s[3]=n=>v.value.dateRange=n),onChange:J,class:"appearance-none pl-10 pr-10 py-2.5 min-w-40 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all duration-200 bg-white text-gray-900 hover:border-gray-400 cursor-pointer"},s[27]||(s[27]=[e("option",{value:""},"All Dates",-1),e("option",{value:"current"},"Current Month",-1),e("option",{value:"upcoming"},"Upcoming",-1),e("option",{value:"past"},"Past Cycles",-1)]),544),[[Me,v.value.dateRange]]),e("div",ro,[a(o(Z),{class:"w-4 h-4 text-gray-400"})]),e("div",co,[a(o(qe),{class:"w-4 h-4 text-gray-400"})])]),x.value?(c(),G(ee,{key:0,onClick:ie,size:"sm"},{default:g(()=>s[28]||(s[28]=[p(" Clear Filters ")])),_:1,__:[28]})):h("",!0)]),e("div",uo,[s[31]||(s[31]=e("span",{class:"text-sm font-medium text-gray-700"},"View:",-1)),e("div",mo,[e("button",{onClick:s[4]||(s[4]=n=>b.value="grid"),class:M(["flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200",b.value==="grid"?" bg-teal-500 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[a(o(as),{class:"w-4 h-4 mr-2"}),s[29]||(s[29]=p(" Grid "))],2),e("button",{onClick:s[5]||(s[5]=n=>b.value="list"),class:M(["flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200",b.value==="list"?"bg-teal-500 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[a(o(ls),{class:"w-4 h-4 mr-2"}),s[30]||(s[30]=p(" List "))],2)])])]),x.value?(c(),u("div",po,[e("div",vo,[s[33]||(s[33]=e("span",{class:"text-sm font-medium text-gray-700"},"Active filters:",-1)),e("div",fo,[v.value.search?(c(),u("span",yo,[a(o(xe),{class:"w-4 h-4 mr-1.5"}),p(' "'+m(v.value.search)+'" ',1),e("button",{onClick:s[6]||(s[6]=n=>v.value.search=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-teal-200 transition-colors"},[a(o(oe),{class:"w-3 h-3"})])])):h("",!0),v.value.status?(c(),u("span",go,[s[32]||(s[32]=e("div",{class:"w-4 h-4 mr-1.5"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),p(" "+m(ve(v.value.status))+" ",1),e("button",{onClick:s[7]||(s[7]=n=>v.value.status=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-green-200 transition-colors"},[a(o(oe),{class:"w-3 h-3"})])])):h("",!0),v.value.dateRange?(c(),u("span",_o,[a(o(Z),{class:"w-4 h-4 mr-1.5"}),p(" "+m(Oe(v.value.dateRange))+" ",1),e("button",{onClick:s[8]||(s[8]=n=>v.value.dateRange=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-purple-200 transition-colors"},[a(o(oe),{class:"w-3 h-3"})])])):h("",!0)])])])):h("",!0)])]),W.value?h("",!0):(c(),u("div",ho,[e("div",xo,[Y.value.length>0?(c(),u("span",bo," Showing "+m(Y.value.length)+" of "+m(ne.cycles.length)+" assessment cycles ",1)):(c(),u("span",wo," No assessment cycles found "))]),Y.value.length>0?(c(),u("div",Co,m(b.value==="grid"?"Grid":"List")+" view ",1)):h("",!0)])),W.value?(c(),u("div",$o,[e("div",ko,[(c(),u(L,null,B(6,n=>e("div",{key:n,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},s[34]||(s[34]=[e("div",{class:"animate-pulse space-y-4"},[e("div",{class:"flex items-center justify-between"},[e("div",{class:"h-5 bg-gray-200 rounded w-3/4"}),e("div",{class:"h-6 bg-gray-200 rounded-full w-16"})]),e("div",{class:"h-4 bg-gray-200 rounded w-full"}),e("div",{class:"h-3 bg-gray-200 rounded w-2/3"}),e("div",{class:"space-y-2"},[e("div",{class:"h-2 bg-gray-200 rounded w-full"}),e("div",{class:"h-2 bg-gray-200 rounded w-1/2"})]),e("div",{class:"flex justify-between"},[e("div",{class:"h-8 bg-gray-200 rounded w-16"}),e("div",{class:"h-8 bg-gray-200 rounded w-16"})])],-1)]))),64))])])):Y.value.length===0?(c(),u("div",So,[e("div",Ao,[a(o(Z),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s[38]||(s[38]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No Assessment Cycles Found",-1)),e("p",Vo,m(x.value?"No cycles match your current filters. Try adjusting your search criteria.":"Get started by creating your first assessment cycle to begin systematic competency evaluation."),1),e("div",Do,[x.value?h("",!0):(c(),u("button",{key:0,class:"inline-flex items-center px-4 py-2 bg-teal-500 text-white text-sm font-medium rounded-lg hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors",onClick:Fe},[a(o(_e),{class:"w-4 h-4 mr-2"}),s[35]||(s[35]=p(" Create Assessment Cycle "))])),x.value?(c(),G(ee,{key:1,onClick:ie},{default:g(()=>s[36]||(s[36]=[p(" Clear Filters ")])),_:1,__:[36]})):h("",!0),a(ee,{onClick:ae},{default:g(()=>[a(o(Ge),{class:"w-4 h-4 mr-2"}),s[37]||(s[37]=p(" Refresh "))]),_:1,__:[37]})])])])):b.value==="grid"?(c(),u("div",Mo,[(c(!0),u(L,null,B(Y.value,n=>(c(),u("div",{key:n.id,class:"bg-white roundedt-white rounded-lg shadrder-gray-200 hover:shadow-md hover:border-gray-300 transition-all duration-200 cursor-pointer group",onClick:D=>se(n)},[e("div",Fo,[e("div",No,[e("div",jo,[e("h3",Eo,m(n.name),1),e("p",Ro,m(n.description||"No description provided"),1)]),e("span",{class:M([Ce(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0"])},m(ve(n.status)),3)]),e("div",Po,[a(o(Z),{class:"w-4 h-4 mr-2 flex-shrink-0"}),e("span",null,m($e(n.start_date,n.end_date)),1)]),e("div",Lo,[e("div",Bo,[s[39]||(s[39]=e("span",{class:"text-sm font-medium text-gray-700"},"Progress",-1)),e("span",qo,m(n.completion_percentage||0)+"%",1)]),e("div",To,[e("div",{class:M(["h-2 rounded-full transition-all duration-300",ke(n.status)]),style:ye({width:`${n.completion_percentage||0}%`})},null,6)])]),e("div",zo,[e("div",Io,[e("div",Yo,[a(o(he),{class:"w-4 h-4 text-gray-500 mr-1"}),e("span",Go,m(n.participant_count||0),1)]),s[40]||(s[40]=e("span",{class:"text-xs text-gray-600"},"Participants",-1))]),e("div",Wo,[e("div",Ho,[a(o(is),{class:"w-4 h-4 text-gray-500 mr-1"}),e("span",Oo,m(n.assessment_count||0),1)]),s[41]||(s[41]=e("span",{class:"text-xs text-gray-600"},"Assessments",-1))])])]),e("div",Qo,[e("div",Jo,[e("div",Xo,[e("button",{onClick:z(D=>me(n),["stop"]),disabled:n.status!=="active",class:M(["inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors",n.status==="active"?" bg-teal-500 text-white":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"])},[a(o(_e),{class:"w-3 h-3 mr-1"}),s[42]||(s[42]=p(" Create Assessment "))],10,Ko),e("button",{onClick:z(D=>re(n),["stop"]),disabled:n.status==="completed",class:M(["inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors",n.status!=="completed"?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"])},[a(o(Te),{class:"w-3 h-3 mr-1"}),s[43]||(s[43]=p(" Edit "))],10,Zo),n.status==="planned"?(c(),u("button",{key:0,onClick:z(D=>de(n),["stop"]),class:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors bg-green-50 text-green-700 border border-green-200 hover:bg-green-100"},[a(o(Le),{class:"w-3 h-3 mr-1"}),s[44]||(s[44]=p(" Start "))],8,en)):n.status==="active"?(c(),u("button",{key:1,onClick:z(D=>ce(n),["stop"]),class:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors bg-green-50 text-green-700 border border-green-200 hover:bg-green-100"},[a(o(Ae),{class:"w-3 h-3 mr-1"}),s[45]||(s[45]=p(" Complete "))],8,sn)):h("",!0)]),e("div",tn,[e("button",{onClick:z(D=>H(n,D),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[a(o(Ve),{class:"w-4 h-4"})],8,on)])])])],8,Uo))),128))])):(c(),u("div",nn,[s[47]||(s[47]=e("div",{class:"bg-gray-50 border-b border-gray-200 hidden md:block"},[e("div",{class:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-medium text-gray-700"},[e("div",{class:"col-span-5"},"Name & Description"),e("div",{class:"col-span-2"},"Status"),e("div",{class:"col-span-2"},"Date Range"),e("div",{class:"col-span-2"},"Progress"),e("div",{class:"col-span-1 text-center"},"Participants")])],-1)),e("div",an,[(c(!0),u(L,null,B(Y.value,n=>(c(),u("div",{key:n.id,class:"px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors group",onClick:D=>se(n)},[e("div",rn,[e("div",dn,[e("div",cn,[e("h4",un,m(n.name),1),e("p",mn,m(n.description||"No description provided"),1)])]),e("div",pn,[e("span",{class:M([Ce(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},m(ve(n.status)),3)]),e("div",vn,[e("div",fn,[e("div",yn,[a(o(Z),{class:"w-4 h-4 text-gray-400 mr-2"}),p(" "+m($e(n.start_date,n.end_date)),1)])])]),e("div",gn,[e("div",_n,[e("div",hn,[e("span",xn,m(n.completion_percentage||0)+"%",1)]),e("div",bn,[e("div",{class:M(["h-2 rounded-full transition-all duration-300",ke(n.status)]),style:ye({width:`${n.completion_percentage||0}%`})},null,6)])])]),e("div",wn,[e("div",Cn,[e("div",$n,[a(o(he),{class:"w-4 h-4 text-gray-400 mr-1"}),e("span",kn,m(n.participant_count||0),1)]),e("div",Sn,[e("button",{onClick:z(D=>H(n,D),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[a(o(Ve),{class:"w-4 h-4"})],8,An)])])])]),e("div",Vn,[e("div",Dn,[e("div",Mn,[e("h4",Un,m(n.name),1),e("p",Fn,m(n.description||"No description provided"),1)]),e("span",{class:M([Ce(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0"])},m(ve(n.status)),3)]),e("div",Nn,[e("div",jn,[a(o(Z),{class:"w-4 h-4 mr-2"}),p(" "+m($e(n.start_date,n.end_date)),1)]),e("div",null,[e("div",En,[s[46]||(s[46]=e("span",{class:"text-xs text-gray-600"},"Progress",-1)),e("span",Rn,m(n.completion_percentage||0)+"%",1)]),e("div",Pn,[e("div",{class:M(["h-2 rounded-full transition-all duration-300",ke(n.status)]),style:ye({width:`${n.completion_percentage||0}%`})},null,6)])])]),e("div",Ln,[e("div",Bn,[a(o(he),{class:"w-4 h-4 mr-1"}),e("span",null,m(n.participant_count||0)+" participants",1)]),e("div",qn,[e("button",{onClick:z(D=>H(n,D),["stop"]),class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[a(o(Ve),{class:"w-5 h-5"})],8,Tn)])])])],8,ln))),128))])]))])]),_.value.show?(c(),u("div",{key:0,style:ye({top:_.value.y+"px",left:_.value.x+"px"}),class:"context-menu",onClick:s[18]||(s[18]=z(()=>{},["stop"]))},[e("div",zn,[e("button",{onClick:s[9]||(s[9]=n=>se(_.value.cycle)),class:"menu-item"},[a(o(rs),{class:"menu-icon"}),s[48]||(s[48]=p(" View Details "))]),e("button",{onClick:s[10]||(s[10]=n=>re(_.value.cycle)),class:"menu-item",disabled:((y=_.value.cycle)==null?void 0:y.status)==="completed"},[a(o(Te),{class:"menu-icon"}),s[49]||(s[49]=p(" Edit Cycle "))],8,In),s[57]||(s[57]=e("hr",{class:"menu-divider"},null,-1)),((S=_.value.cycle)==null?void 0:S.status)==="active"?(c(),u("button",{key:0,onClick:s[11]||(s[11]=n=>me(_.value.cycle)),class:"menu-item"},[a(o(_e),{class:"menu-icon"}),s[50]||(s[50]=p(" Create Assessment "))])):h("",!0),((V=_.value.cycle)==null?void 0:V.status)==="planned"?(c(),u("button",{key:1,onClick:s[12]||(s[12]=n=>de(_.value.cycle)),class:"menu-item"},[a(o(Le),{class:"menu-icon"}),s[51]||(s[51]=p(" Start Cycle "))])):h("",!0),((T=_.value.cycle)==null?void 0:T.status)==="active"?(c(),u("button",{key:2,onClick:s[13]||(s[13]=n=>ce(_.value.cycle)),class:"menu-item"},[a(o(Ae),{class:"menu-icon"}),s[52]||(s[52]=p(" Complete Cycle "))])):h("",!0),((R=_.value.cycle)==null?void 0:R.status)!=="completed"?(c(),u("hr",Yn)):h("",!0),e("button",{onClick:s[14]||(s[14]=n=>be(_.value.cycle)),class:"menu-item"},[a(o(fs),{class:"menu-icon"}),s[53]||(s[53]=p(" Duplicate "))]),e("button",{onClick:s[15]||(s[15]=n=>te(_.value.cycle)),class:"menu-item",disabled:((K=_.value.cycle)==null?void 0:K.status)!=="active"},[a(o(cs),{class:"menu-icon"}),s[54]||(s[54]=p(" Send Reminders "))],8,Gn),e("button",{onClick:s[16]||(s[16]=n=>ue(_.value.cycle)),class:"menu-item"},[a(o(ys),{class:"menu-icon"}),s[55]||(s[55]=p(" Export Data "))]),s[58]||(s[58]=e("hr",{class:"menu-divider"},null,-1)),e("button",{onClick:s[17]||(s[17]=n=>we(_.value.cycle)),class:"menu-item danger",disabled:((Ee=_.value.cycle)==null?void 0:Ee.status)==="active"},[a(o(ds),{class:"menu-icon"}),s[56]||(s[56]=p(" Delete "))],8,Wn)])],4)):h("",!0),a(zt,{show:I.value,cycle:k.value,employees:Q.employees,competencies:Q.competencies,onClose:t,onSave:l},null,8,["show","cycle","employees","competencies"]),a(ts,{show:A.value,title:E.value,message:r.value,"confirm-text":q.value,onConfirm:f,onCancel:X},null,8,["show","title","message","confirm-text"]),$.value.length>0?(c(),u("div",Hn,[e("div",On,[(c(!0),u(L,null,B($.value,n=>(c(),u("div",{key:n.id,class:M([Qe(n.type),"notification-card"])},[e("div",Qn,[(c(),G(Ze(Je(n.type)),{class:"w-5 h-5"}))]),e("div",Jn,[e("p",Xn,m(n.message),1)]),e("button",{onClick:D=>Ne(n.id),class:"notification-close"},[a(o(oe),{class:"w-4 h-4"})],8,Kn)],2))),128))])])):h("",!0)]}),_:1}))}},ha=He(Zn,[["__scopeId","data-v-49552406"]]);export{ha as default};
