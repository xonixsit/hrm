import{c as o,o as s,a as e,i as h,m as ke,n as y,d as Re,u as r,A as K,t as a,F,g as U,s as X,f as $,Q as we,e as E,h as O,r as z,l as q,z as _e,k as u,q as se,B as Ue,w as Qe,b as Ge,G as ie}from"./app-C4eXLkXb.js";import{u as Ce}from"./useAuth-BQ95AmKh.js";import{b as Ve,a as Ke,r as Je,A as Ye}from"./AuthenticatedLayout-Cmy46xq9.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as Ae}from"./StatsCard-BgMh5xFU.js";import{A as Xe}from"./ApprovalModal-C3AFCpTB.js";import{a as Se,H as Ie,q as Ne,n as ae,w as Le,f as Te,G as Oe,b as Ze,m as oe,e as Ee,h as He,p as ne,O as De,l as je,k as re}from"./icons-CmXFgfrm.js";import{r as le}from"./ChartBarIcon-JMeFa4yH.js";import{r as ye}from"./AcademicCapIcon-Y6xp-GrY.js";import{r as et}from"./ArrowTrendingUpIcon-Db5a0Aty.js";import{r as Pe}from"./ArrowPathIcon-v5TvM4kh.js";import{r as Be}from"./CogIcon-BG5s3v9i.js";import"./useAccessibility-Bd7d52Gp.js";import"./ArrowTrendingDownIcon-DtsOKLs5.js";import"./ArrowTopRightOnSquareIcon-CzRfhbiq.js";function We(t,S){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])}const tt=["role","tabindex"],st={key:0,class:"flex items-center justify-between mb-4"},at={class:"flex items-center space-x-3"},nt={key:0,class:"flex items-center space-x-2"},ot={class:"flex-1"},it={class:"flex items-center space-x-3"},xe={__name:"UnifiedCard",props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:[String,Object],default:null},iconVariant:{type:String,default:null,validator:t=>["primary","success","warning","danger","info"].includes(t)},variant:{type:String,default:"default",validator:t=>["default","elevated"].includes(t)},size:{type:String,default:"default",validator:t=>["small","default"].includes(t)},clickable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},status:{type:String,default:null,validator:t=>["success","warning","error","info"].includes(t)},statusText:{type:String,default:null},className:{type:String,default:""}},emits:["click"],setup(t,{emit:S}){const{isDark:n}=Ve();return(g,c)=>(s(),o(F,null,[e("div",{class:y(["group relative transition-all duration-300",r(n)?"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50":"bg-white/80 backdrop-blur-sm border border-gray-200/60",t.variant==="elevated"?r(n)?"shadow-xl shadow-gray-900/30":"shadow-xl shadow-gray-900/15":r(n)?"shadow-lg shadow-gray-900/20":"shadow-lg shadow-gray-900/10",t.size==="small"?"rounded-lg":"rounded-2xl",t.clickable&&"cursor-pointer hover:scale-[1.02] hover:shadow-2xl",t.clickable&&(r(n)?"hover:bg-gray-700/60 hover:border-gray-600/60":"hover:bg-white/90 hover:border-gray-300/60"),t.size==="small"?"p-3":"p-4",t.className]),onClick:c[0]||(c[0]=M=>t.clickable&&g.$emit("click")),role:t.clickable?"button":void 0,tabindex:t.clickable?"0":void 0,onKeydown:[c[1]||(c[1]=ke(M=>t.clickable&&g.$emit("click"),["enter"])),c[2]||(c[2]=ke(Re(M=>t.clickable&&g.$emit("click"),["prevent"]),["space"]))]},null,42,tt),g.$slots.header||t.title?(s(),o("div",st,[e("div",at,[t.icon||g.$slots.icon?(s(),o("div",{key:0,class:y(["flex items-center justify-center rounded-xl transition-all duration-200",t.size==="small"?"w-10 h-10 p-2":"w-12 h-12 p-3",t.iconVariant==="primary"&&(r(n)?"bg-blue-600/20 text-blue-400 border border-blue-500/30":"bg-blue-50 text-blue-600 border border-blue-200/50"),t.iconVariant==="success"&&(r(n)?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-green-50 text-green-600 border border-green-200/50"),t.iconVariant==="warning"&&(r(n)?"bg-orange-600/20 text-orange-400 border border-orange-500/30":"bg-orange-50 text-orange-600 border border-orange-200/50"),t.iconVariant==="danger"&&(r(n)?"bg-red-600/20 text-red-400 border border-red-500/30":"bg-red-50 text-red-600 border border-red-200/50"),t.iconVariant==="info"&&(r(n)?"bg-purple-600/20 text-purple-400 border border-purple-500/30":"bg-purple-50 text-purple-600 border border-purple-200/50"),!t.iconVariant&&(r(n)?"bg-gray-700/50 text-gray-300 border border-gray-600/50":"bg-gray-100 text-gray-600 border border-gray-200/50")])},[K(g.$slots,"icon",{},()=>[t.icon?(s(),U(X(t.icon),{key:0,class:y(t.size==="small"?"w-4 h-4":"w-5 h-5")},null,8,["class"])):h("",!0)])],2)):h("",!0),e("div",null,[t.title?(s(),o("h3",{key:0,class:y(["font-semibold transition-colors duration-200",t.size==="small"?"text-base":"text-lg",r(n)?"text-white":"text-gray-900"])},a(t.title),3)):h("",!0),t.description?(s(),o("p",{key:1,class:y(["transition-colors duration-200",t.size==="small"?"text-xs":"text-sm",r(n)?"text-gray-400":"text-gray-600"])},a(t.description),3)):h("",!0),K(g.$slots,"header")])]),g.$slots.headerActions?(s(),o("div",nt,[K(g.$slots,"headerActions")])):h("",!0)])):h("",!0),e("div",ot,[K(g.$slots,"default")]),g.$slots.footer?(s(),o("div",{key:1,class:y(["mt-6 pt-4 border-t transition-colors duration-200",r(n)?"border-gray-700/50":"border-gray-200/50"])},[K(g.$slots,"footer")],2)):h("",!0),t.loading?(s(),o("div",{key:2,class:y(["absolute inset-0 flex items-center justify-center rounded-2xl transition-all duration-200",r(n)?"bg-gray-800/80 backdrop-blur-sm":"bg-white/80 backdrop-blur-sm"])},[e("div",it,[e("div",{class:y(["animate-spin rounded-full border-2 border-t-transparent",t.size==="small"?"w-5 h-5":"w-6 h-6",r(n)?"border-gray-400":"border-gray-600"])},null,2),e("span",{class:y(["text-sm font-medium",r(n)?"text-gray-300":"text-gray-600"])}," Loading... ",2)])],2)):h("",!0),t.status?(s(),o("div",{key:3,class:y(["absolute top-4 right-4 flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium",t.status==="success"&&(r(n)?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-green-50 text-green-700 border border-green-200"),t.status==="warning"&&(r(n)?"bg-orange-600/20 text-orange-400 border border-orange-500/30":"bg-orange-50 text-orange-700 border border-orange-200"),t.status==="error"&&(r(n)?"bg-red-600/20 text-red-400 border border-red-500/30":"bg-red-50 text-red-700 border border-red-200"),t.status==="info"&&(r(n)?"bg-blue-600/20 text-blue-400 border border-blue-500/30":"bg-blue-50 text-blue-700 border border-blue-200")])},[e("div",{class:y(["w-1.5 h-1.5 rounded-full",t.status==="success"&&"bg-green-400",t.status==="warning"&&"bg-orange-400",t.status==="error"&&"bg-red-400",t.status==="info"&&"bg-blue-400"])},null,2),e("span",null,a(t.statusText||t.status),1)],2)):h("",!0)],64))}},rt=["role","tabindex","onKeydown"],lt={class:"flex items-start justify-between mb-4"},dt={key:0,class:"flex items-center space-x-1"},ct={key:0,class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ut={key:1,class:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},mt={class:"space-y-1 mb-3"},gt={class:"flex items-center gap-2"},vt={key:2,class:"absolute z-20 -top-2 -right-2"},Z={__name:"UnifiedStatsCard",props:{value:{type:[Number,String],required:!0},label:{type:String,required:!0},description:{type:String,default:""},icon:{type:[String,Object],required:!0},variant:{type:String,default:"primary",validator:t=>["primary","success","warning","info","neutral"].includes(t)},trend:{type:Number,default:null},trendSuffix:{type:String,default:"%"},status:{type:String,default:null,validator:t=>["excellent","good","warning","critical"].includes(t)},statusText:{type:String,default:null},loading:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},route:{type:String,default:null},urgent:{type:Boolean,default:!1},prefix:{type:String,default:""},suffix:{type:String,default:""}},emits:["click"],setup(t,{emit:S}){const n=t,g=S,{isDark:c}=Ve(),M=$(()=>{if(n.loading)return"...";let A=n.value;return typeof A=="number"&&(A=A.toLocaleString()),`${n.prefix}${A}${n.suffix}`}),T=()=>{!n.clickable||n.loading||(n.route&&we.visit(route(n.route)),g("click"))};return(A,b)=>(s(),o("div",{class:y(["group relative transition-all duration-300",t.clickable&&"cursor-pointer",r(c)?"bg-gray-800/50 border border-gray-700/50 backdrop-blur-sm":"bg-white border border-gray-100 shadow-sm backdrop-blur-sm","hover:shadow-md hover:-translate-y-0.5","rounded-2xl p-5 sm:p-6"]),onClick:T,role:t.clickable?"button":void 0,tabindex:t.clickable?"0":void 0,onKeydown:[ke(T,["enter"]),ke(Re(T,["prevent"]),["space"])]},[e("div",lt,[e("div",{class:y(["flex items-center justify-center w-12 h-12 rounded-xl flex-shrink-0 shadow-sm",t.variant==="primary"&&(r(c)?"bg-blue-600/20 text-blue-400":"bg-blue-500 text-white shadow-blue-100"),t.variant==="success"&&(r(c)?"bg-green-600/20 text-green-400":"bg-green-500 text-white shadow-green-100"),t.variant==="warning"&&(r(c)?"bg-orange-600/20 text-orange-400":"bg-orange-500 text-white shadow-orange-100"),t.variant==="info"&&(r(c)?"bg-purple-600/20 text-purple-400":"bg-purple-500 text-white shadow-purple-100"),t.variant==="neutral"&&(r(c)?"bg-gray-700/50 text-gray-300":"bg-gray-500 text-white shadow-gray-100")])},[(s(),U(X(t.icon),{class:"w-6 h-6"}))],2),t.trend!==null&&!t.loading?(s(),o("div",dt,[t.trend>0?(s(),o("svg",ct,b[0]||(b[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):t.trend<0?(s(),o("svg",ut,b[1]||(b[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))):h("",!0),e("span",{class:y(["text-sm font-medium",t.trend>0&&"text-green-600",t.trend<0&&"text-red-600",t.trend===0&&"text-gray-500"])},a(t.trend>0?"+":"")+a(t.trend)+a(t.trendSuffix),3)])):t.status&&!t.loading?(s(),o("div",{key:1,class:y(["flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",t.status==="excellent"&&(r(c)?"bg-green-600/20 text-green-400":"bg-green-50 text-green-700 border border-green-100"),t.status==="good"&&(r(c)?"bg-blue-600/20 text-blue-400":"bg-blue-50 text-blue-700 border border-blue-100"),t.status==="warning"&&(r(c)?"bg-orange-600/20 text-orange-400":"bg-orange-50 text-orange-700 border border-orange-100"),t.status==="critical"&&(r(c)?"bg-red-600/20 text-red-400":"bg-red-50 text-red-700 border border-red-100")])},[e("span",{class:y(["w-1.5 h-1.5 rounded-full",t.status==="excellent"&&"bg-green-500",t.status==="good"&&"bg-blue-500",t.status==="warning"&&"bg-orange-500",t.status==="critical"&&"bg-red-500"])},null,2),e("span",null,a(t.statusText||t.status),1)],2)):h("",!0)]),e("div",mt,[e("div",{class:y(["text-3xl font-semibold tracking-tight transition-colors duration-200",r(c)?"text-white":"text-gray-900",t.variant==="success"&&!r(c)&&"text-green-600",t.variant==="warning"&&!r(c)&&"text-orange-600"])},a(t.loading?"...":M.value),3),e("div",{class:y(["text-sm font-medium transition-colors duration-200",r(c)?"text-gray-400":"text-gray-600"])},a(t.label),3)]),t.description?(s(),o("div",{key:0,class:y(["text-sm leading-relaxed transition-colors duration-200",(r(c),"text-gray-500")])},a(t.description),3)):h("",!0),t.loading?(s(),o("div",{key:1,class:y(["absolute inset-0 z-10 flex items-center justify-center rounded-2xl backdrop-blur-sm",r(c)?"bg-gray-800/80":"bg-white/80"])},[e("div",gt,[e("div",{class:y(["animate-spin rounded-full w-5 h-5 border-2 border-t-transparent",r(c)?"border-gray-400":"border-gray-600"])},null,2),e("span",{class:y(["text-sm font-medium",r(c)?"text-gray-300":"text-gray-600"])}," Loading... ",2)])],2)):h("",!0),t.urgent&&!t.loading?(s(),o("div",vt,b[2]||(b[2]=[e("div",{class:"relative"},[e("div",{class:"w-4 h-4 bg-red-500 rounded-full animate-pulse"}),e("div",{class:"absolute inset-0 w-4 h-4 bg-red-500 rounded-full animate-ping opacity-75"})],-1)]))):h("",!0)],42,rt))}},bt={key:0,class:"widget-header"},ht={class:"flex items-center justify-between"},ft={class:"widget-title"},yt={key:0,class:"widget-actions"},xt={class:"widget-content"},wt={key:1,class:"widget-footer"},pt={__name:"DashboardWidget",props:{title:{type:String,default:""},size:{type:String,default:"md",validator:t=>["sm","md","lg","xl"].includes(t)},padding:{type:String,default:"md",validator:t=>["none","sm","md","lg"].includes(t)},background:{type:String,default:"white",validator:t=>["white","neutral","gradient"].includes(t)},interactive:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},error:{type:Boolean,default:!1},class:{type:[String,Array,Object],default:""}},setup(t){const S=t,n=$(()=>["dashboard-widget","relative","overflow-hidden","transition-all","duration-200",{"cursor-pointer":S.interactive,"hover:shadow-lg":S.interactive,"opacity-50":S.loading,"border-error-200":S.error,"bg-error-50":S.error}]),g=$(()=>({sm:"min-h-[120px]",md:"min-h-[160px]",lg:"min-h-[200px]",xl:"min-h-[240px]"})[S.size]),c=$(()=>({none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"})[S.padding]),M=$(()=>({white:"bg-white border border-neutral-200 shadow-sm",neutral:"bg-neutral-50 border border-neutral-200",gradient:"bg-gradient-to-br from-white to-neutral-50 border border-neutral-200 shadow-sm"})[S.background]),T=$(()=>"rounded-xl"),A=$(()=>[...n.value,g.value,c.value,M.value,T.value,S.class]);return(b,P)=>(s(),o("div",{class:y(A.value)},[b.$slots.header||t.title?(s(),o("div",bt,[K(b.$slots,"header",{},()=>[e("div",ht,[e("h3",ft,a(t.title),1),b.$slots.actions?(s(),o("div",yt,[K(b.$slots,"actions",{},void 0,!0)])):h("",!0)])],!0)])):h("",!0),e("div",xt,[K(b.$slots,"default",{},void 0,!0)]),b.$slots.footer?(s(),o("div",wt,[K(b.$slots,"footer",{},void 0,!0)])):h("",!0)],2))}},de=ce(pt,[["__scopeId","data-v-0708b2c1"]]),kt={class:"timeline-container"},$t={key:0,class:"timeline-empty"},At={class:"empty-state"},St={class:"text-neutral-500 text-center"},Tt={key:1,class:"timeline-list"},Ct={class:"timeline-line"},Mt={class:"timeline-content"},It={class:"activity-header"},Dt={class:"activity-main"},jt={class:"activity-title"},Pt={key:0,class:"activity-description"},Bt={class:"activity-meta"},Rt=["datetime"],_t={key:0,class:"activity-details"},Vt={class:"detail-label"},Nt={class:"detail-value"},Lt={key:1,class:"activity-actions"},Ot=["onClick"],Et={key:2,class:"timeline-footer"},Ht=["disabled"],Wt={__name:"ActivityTimeline",props:{activities:{type:Array,default:()=>[]},title:{type:String,default:"Recent Activity"},maxItems:{type:Number,default:10},showLoadMore:{type:Boolean,default:!0},emptyMessage:{type:String,default:"No recent activity"},emptyIcon:{type:[String,Object],default:null},loading:{type:Boolean,default:!1},timeFormat:{type:String,default:"relative",validator:t=>["relative","absolute","both"].includes(t)}},emits:["load-more","action"],setup(t,{emit:S}){const n=t,g=S,c=E(!1),M=E(n.maxItems),T=$(()=>n.activities.slice(0,M.value)),A=$(()=>n.showLoadMore&&n.activities.length>M.value),b=async()=>{if(!c.value){c.value=!0;try{await g("load-more"),M.value+=n.maxItems}finally{c.value=!1}}},P=(D,B)=>{g("action",{action:D,activity:B})},x=D=>{const B=new Date(D),W=Math.floor((new Date-B)/(1e3*60));if(n.timeFormat==="absolute")return B.toLocaleString();if(n.timeFormat==="relative"||W<60){if(W<1)return"Just now";if(W<60)return`${W}m ago`;const G=Math.floor(W/60);if(G<24)return`${G}h ago`;const Y=Math.floor(G/24);return Y<7?`${Y}d ago`:B.toLocaleDateString()}const H=x(D),Q=B.toLocaleString();return`${H} (${Q})`},j=D=>{const B="timeline-dot w-3 h-3 rounded-full border-2 border-white shadow-sm",C={success:"bg-success-500",warning:"bg-warning-500",error:"bg-error-500",info:"bg-info-500",default:"bg-neutral-400"},W=C[D.status]||C.default;return`${B} ${W}`},N=D=>{const B="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",C={create:"bg-success-100 text-success-800",update:"bg-info-100 text-info-800",delete:"bg-error-100 text-error-800",approve:"bg-success-100 text-success-800",reject:"bg-error-100 text-error-800",pending:"bg-warning-100 text-warning-800",default:"bg-neutral-100 text-neutral-800"};return`${B} ${C[D]||C.default}`},p=D=>{const B="inline-flex items-center space-x-1 px-3 py-1 text-sm font-medium rounded-md transition-colors",C={primary:"bg-primary-100 text-primary-700 hover:bg-primary-200",secondary:"bg-neutral-100 text-neutral-700 hover:bg-neutral-200",success:"bg-success-100 text-success-700 hover:bg-success-200",warning:"bg-warning-100 text-warning-700 hover:bg-warning-200",error:"bg-error-100 text-error-700 hover:bg-error-200",default:"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"};return`${B} ${C[D]||C.default}`};return(D,B)=>(s(),U(de,{title:t.title,loading:t.loading,class:"activity-timeline",padding:"md"},{actions:O(()=>[K(D.$slots,"actions",{},void 0,!0)]),default:O(()=>[e("div",kt,[t.activities.length===0?(s(),o("div",$t,[e("div",At,[t.emptyIcon?(s(),U(X(t.emptyIcon),{key:0,class:"w-12 h-12 text-neutral-400 mx-auto mb-3"})):h("",!0),e("p",St,a(t.emptyMessage),1)])])):(s(),o("div",Tt,[(s(!0),o(F,null,z(T.value,(C,W)=>(s(),o("div",{key:C.id||W,class:y(["timeline-item",{"timeline-item--last":W===T.value.length-1}])},[e("div",Ct,[e("div",{class:y(j(C))},null,2)]),e("div",Mt,[e("div",It,[e("div",Dt,[e("h4",jt,a(C.title),1),C.description?(s(),o("p",Pt,a(C.description),1)):h("",!0)]),e("div",Bt,[e("time",{class:"activity-time",datetime:C.timestamp},a(x(C.timestamp)),9,Rt),C.type?(s(),o("span",{key:0,class:y(N(C.type))},a(C.type),3)):h("",!0)])]),C.details?(s(),o("div",_t,[(s(!0),o(F,null,z(C.details,(H,Q)=>(s(),o("div",{key:Q,class:"detail-item"},[e("span",Vt,a(Q)+":",1),e("span",Nt,a(H),1)]))),128))])):h("",!0),C.actions?(s(),o("div",Lt,[(s(!0),o(F,null,z(C.actions,H=>(s(),o("button",{key:H.label,onClick:Q=>P(H,C),class:y(["action-button",p(H.type)])},[H.icon?(s(),U(X(H.icon),{key:0,class:"w-4 h-4"})):h("",!0),q(" "+a(H.label),1)],10,Ot))),128))])):h("",!0)])],2))),128))])),A.value&&!t.loading?(s(),o("div",Et,[e("button",{onClick:b,class:"load-more-button",disabled:c.value},[c.value?(s(),U(X("LoadingIcon"),{key:0,class:"w-4 h-4 animate-spin"})):h("",!0),q(" "+a(c.value?"Loading...":"Load More"),1)],8,Ht)])):h("",!0)])]),_:3},8,["title","loading"]))}},Ft=ce(Wt,[["__scopeId","data-v-20cefea4"]]),qt={class:"actions-grid"},zt=["onClick","disabled"],Ut={class:"action-icon"},Qt={class:"action-content"},Gt={class:"action-label"},Kt={key:0,class:"action-description"},Jt={key:0,class:"actions-footer"},Yt={__name:"QuickActions",props:{actions:{type:Array,default:()=>[]},title:{type:String,default:"Quick Actions"},maxVisible:{type:Number,default:6},layout:{type:String,default:"grid",validator:t=>["grid","list"].includes(t)},loading:{type:Boolean,default:!1}},emits:["action"],setup(t,{emit:S}){const n=t,g=S,c=E(!1),M=$(()=>c.value||n.actions.length<=n.maxVisible?n.actions:n.actions.slice(0,n.maxVisible)),T=j=>{j.disabled||(g("action",j),j.href&&(j.external?window.open(j.href,"_blank"):window.location.href=j.href),j.route&&window.route&&(window.location.href=window.route(j.route,j.params||{})))},A=()=>{c.value=!c.value},b=j=>{const N=["group relative flex items-center p-4 rounded-xl border transition-all duration-200","hover:shadow-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"];j.disabled?N.push("opacity-50 cursor-not-allowed"):N.push("cursor-pointer hover:border-primary-200 hover:bg-primary-50");const p={primary:"border-primary-200 bg-primary-50 text-primary-900",secondary:"border-neutral-200 bg-white text-neutral-900",success:"border-success-200 bg-success-50 text-success-900",warning:"border-warning-200 bg-warning-50 text-warning-900",error:"border-error-200 bg-error-50 text-error-900",default:"border-neutral-200 bg-white text-neutral-900"},D=j.variant||"default";return N.push(p[D]),N},P=j=>{const N="w-6 h-6",p={primary:"text-primary-600",secondary:"text-neutral-600",success:"text-success-600",warning:"text-warning-600",error:"text-error-600",default:"text-neutral-600"},D=j.variant||"default";return`${N} ${p[D]}`},x=j=>{const N="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",p={primary:"bg-primary-100 text-primary-800",secondary:"bg-neutral-100 text-neutral-800",success:"bg-success-100 text-success-800",warning:"bg-warning-100 text-warning-800",error:"bg-error-100 text-error-800",info:"bg-info-100 text-info-800",default:"bg-neutral-100 text-neutral-800"},D=j.variant||"default";return`${N} ${p[D]}`};return(j,N)=>(s(),U(de,{title:t.title,loading:t.loading,class:"quick-actions",padding:"md"},{actions:O(()=>[K(j.$slots,"actions",{},void 0,!0)]),default:O(()=>[e("div",qt,[(s(!0),o(F,null,z(M.value,p=>(s(),o("button",{key:p.id||p.label,onClick:D=>T(p),disabled:p.disabled||t.loading,class:y([b(p),"action-item"])},[e("div",Ut,[p.icon?(s(),U(X(p.icon),{key:0,class:y(P(p))},null,8,["class"])):h("",!0)]),e("div",Qt,[e("h4",Gt,a(p.label),1),p.description?(s(),o("p",Kt,a(p.description),1)):h("",!0),p.badge?(s(),o("span",{key:1,class:y(x(p.badge))},a(p.badge.text),3)):h("",!0)]),N[0]||(N[0]=e("div",{class:"action-arrow"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))],10,zt))),128))]),t.actions.length>t.maxVisible?(s(),o("div",Jt,[e("button",{onClick:A,class:"toggle-button"},[q(a(c.value?"Show Less":`Show ${t.actions.length-t.maxVisible} More`)+" ",1),(s(),o("svg",{class:y(["w-4 h-4 transition-transform",{"rotate-180":c.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},N[1]||(N[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])])):h("",!0)]),_:3},8,["title","loading"]))}},Fe=ce(Yt,[["__scopeId","data-v-d61ca03f"]]),Xt={class:"manager-dashboard"},Zt={class:"welcome-section"},es={class:"welcome-content"},ts={class:"welcome-title"},ss={class:"welcome-actions"},as=["disabled"],ns={class:"stats-grid"},os={class:"dashboard-content"},is={class:"left-column"},rs={class:"performance-metrics"},ls={class:"metric-item"},ds={class:"metric-header"},cs={class:"metric-value"},us={class:"metric-bar"},ms={class:"metric-item"},gs={class:"metric-header"},vs={class:"metric-value"},bs={class:"metric-bar"},hs={class:"metric-item"},fs={class:"metric-header"},ys={class:"metric-value"},xs={class:"metric-bar"},ws={class:"right-column"},ps={class:"team-members"},ks={class:"member-avatar"},$s=["src","alt"],As={key:1,class:"avatar-placeholder"},Ss={class:"member-info"},Ts={class:"member-name"},Cs={class:"member-role"},Ms={class:"member-status"},Is={key:0,class:"member-task"},Ds={class:"member-actions"},js=["onClick"],Ps=["onClick"],Bs={class:"approval-count"},Rs={key:0,class:"empty-state"},_s={key:1,class:"approvals-container"},Vs={class:"approvals-scroll"},Ns=["data-approval-id"],Ls={class:"approval-content"},Os={class:"approval-header"},Es={class:"approval-title"},Hs={class:"approval-requester"},Ws={class:"approval-date"},Fs={key:0,class:"approval-stats"},qs={class:"stats-row"},zs={class:"stat-item"},Us={class:"stat-value"},Qs={class:"stat-item"},Gs={class:"stat-value"},Ks={key:0,class:"stats-row"},Js={class:"stat-item overtime"},Ys={class:"stat-value"},Xs={key:1,class:"approval-feedback"},Zs={class:"approval-actions"},ea=["onClick","disabled","title"],ta={key:0,class:"w-4 h-4 animate-spin"},sa=["onClick","disabled","title"],aa={key:0,class:"w-4 h-4 animate-spin"},na={key:0,class:"view-all-section"},oa={__name:"ManagerDashboard",props:{stats:{type:Object,default:()=>({teamSize:0,activeProjects:0,pendingTasks:0,teamAttendance:0,teamTrend:0,projectTrend:0,taskTrend:0,attendanceTrend:0})},teamActivities:{type:Array,default:()=>[]},teamPerformance:{type:Object,default:()=>({completionRate:85,taskVelocity:12,satisfaction:4.2})},teamMembers:{type:Array,default:()=>[]},pendingApprovals:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh","approve","reject","action","view-member","send-message"],setup(t,{emit:S}){const n=S,{user:g}=Ce(),c=E(!1),M=E(!1),T=E(new Set),A=E({}),b=E(!1),P=E(null),x=E("approve"),j=$(()=>{var v;return((v=g.value)==null?void 0:v.name)||"Manager"}),N=$(()=>{const v=new Date().getHours();return v<12?"morning":v<17?"afternoon":"evening"}),p=$(()=>[{id:"create-project",label:"New Project",description:"Start a new team project",icon:Se,variant:"primary",route:"projects.create"},{id:"assign-tasks",label:"Assign Tasks",description:"Delegate tasks to team members",icon:Ie,variant:"secondary",route:"tasks.create"},{id:"team-reports",label:"Team Reports",description:"View team performance analytics",icon:le,variant:"info",route:"reports.team"},{id:"schedule-meeting",label:"Schedule Meeting",description:"Plan team meetings and reviews",icon:Ne,variant:"success",route:"meetings.create"},{id:"review-timesheets",label:"Review Timesheets",description:"Approve team time entries",icon:ae,variant:"warning",route:"timesheets.review"},{id:"team-feedback",label:"Team Feedback",description:"Provide feedback to team members",icon:Le,variant:"secondary",route:"feedback.create"}]),D=async()=>{c.value=!0;try{await n("refresh")}finally{c.value=!1}},B=v=>{n("action",{type:"timeline",data:v})},C=v=>{n("action",{type:"quick-action",data:v})},W=()=>{n("action",{type:"view-reports"})},H=v=>{n("view-member",v)},Q=v=>{n("send-message",v)},G=(v,f)=>{P.value=v,x.value=f,b.value=!0},Y=async v=>{M.value=!0,delete A.value[v.approval.id];try{const f={...v.approval,comments:v.comments};v.action==="approve"?await n("approve",f):await n("reject",f),ee(v.approval.id,"success",`${v.action==="approve"?"Approved":"Rejected"} successfully`),setTimeout(()=>{delete A.value[v.approval.id]},3e3),b.value=!1}catch{ee(v.approval.id,"error",`Failed to ${v.action}. Please try again.`),setTimeout(()=>{delete A.value[v.approval.id]},5e3)}finally{M.value=!1}},ue=()=>{n("action",{type:"view-all-approvals"})},me=v=>{const f="absolute -bottom-0 -right-0 w-3 h-3 rounded-full border-2 border-white",m={online:"bg-success-500",away:"bg-warning-500",busy:"bg-error-500",offline:"bg-neutral-400"};return`${f} ${m[v]||m.offline}`},ge=v=>{const f="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",m={online:"bg-success-100 text-success-800",away:"bg-warning-100 text-warning-800",busy:"bg-error-100 text-error-800",offline:"bg-neutral-100 text-neutral-800"};return`${f} ${m[v]||m.offline}`},ve=v=>{const f=new Date,m=new Date(v),V=Math.floor((f-m)/(1e3*60));if(V<1)return"Just now";if(V<60)return`${V}m ago`;const te=Math.floor(V/60);return te<24?`${te}h ago`:`${Math.floor(te/24)}d ago`},ee=(v,f,m)=>{A.value[v]={type:f,message:m}},w=v=>{const f="flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium",m={success:"bg-success-50 text-success-700 border border-success-200",error:"bg-error-50 text-error-700 border border-error-200",warning:"bg-warning-50 text-warning-700 border border-warning-200"};return`${f} ${m[v]||m.error}`},d=v=>({success:oe,error:ne,warning:ne})[v]||ne;return _e(()=>{}),(v,f)=>(s(),o("div",Xt,[e("div",Zt,[e("div",es,[e("h1",ts," Good "+a(N.value)+", "+a(j.value)+"! ",1),f[1]||(f[1]=e("p",{class:"welcome-subtitle"}," Here's your team overview and management tools for today. ",-1))]),e("div",ss,[e("button",{onClick:D,disabled:c.value,class:"refresh-button"},[(s(),U(X(c.value?"LoadingIcon":"ArrowPathIcon"),{class:y(["w-4 h-4",{"animate-spin":c.value}])},null,8,["class"])),f[2]||(f[2]=q(" Refresh "))],8,as)])]),e("div",ns,[u(Ae,{value:t.stats.teamSize,label:"Team Members",icon:r(Te),"icon-color":"primary",variant:"featured",trend:t.stats.teamTrend,loading:t.loading,clickable:!0,route:"employees.index"},null,8,["value","icon","trend","loading"]),u(Ae,{value:t.stats.pendingTasks,label:"Pending Tasks",icon:r(Ie),"icon-color":"warning",trend:t.stats.taskTrend,loading:t.loading,clickable:!0,route:"tasks.index"},null,8,["value","icon","trend","loading"]),u(Ae,{value:t.stats.teamAttendance,label:"Team Attendance",icon:r(Oe),"icon-color":"info",unit:"%",trend:t.stats.attendanceTrend,loading:t.loading,clickable:!0,route:"attendances.index"},null,8,["value","icon","trend","loading"])]),e("div",os,[e("div",is,[u(Ft,{activities:t.teamActivities,title:"Team Activity","max-items":8,loading:t.loading,onAction:B},null,8,["activities","loading"]),u(de,{title:"Team Performance",loading:t.loading,class:"team-performance"},{actions:O(()=>[e("button",{onClick:W,class:"text-sm text-primary-600 hover:text-primary-700"}," View Reports ")]),default:O(()=>[e("div",rs,[e("div",ls,[e("div",ds,[f[3]||(f[3]=e("span",{class:"metric-label"},"Project Completion Rate",-1)),e("span",cs,a(t.teamPerformance.completionRate)+"%",1)]),e("div",us,[e("div",{class:"metric-progress bg-success-500",style:se({width:`${t.teamPerformance.completionRate}%`})},null,4)])]),e("div",ms,[e("div",gs,[f[4]||(f[4]=e("span",{class:"metric-label"},"Average Task Velocity",-1)),e("span",vs,a(t.teamPerformance.taskVelocity)+" tasks/week",1)]),e("div",bs,[e("div",{class:"metric-progress bg-info-500",style:se({width:`${Math.min(t.teamPerformance.taskVelocity*10,100)}%`})},null,4)])]),e("div",hs,[e("div",fs,[f[5]||(f[5]=e("span",{class:"metric-label"},"Team Satisfaction",-1)),e("span",ys,a(t.teamPerformance.satisfaction)+"/5",1)]),e("div",xs,[e("div",{class:"metric-progress bg-warning-500",style:se({width:`${t.teamPerformance.satisfaction/5*100}%`})},null,4)])])])]),_:1},8,["loading"])]),e("div",ws,[u(Fe,{actions:p.value,title:"Management Tools","max-visible":6,onAction:C},null,8,["actions"]),u(de,{title:"Team Status",loading:t.loading,class:"team-status"},{default:O(()=>[e("div",ps,[(s(!0),o(F,null,z(t.teamMembers,m=>(s(),o("div",{key:m.id,class:"team-member"},[e("div",ks,[m.avatar?(s(),o("img",{key:0,src:m.avatar,alt:m.name,class:"w-10 h-10 rounded-full"},null,8,$s)):(s(),o("div",As,a(m.name.charAt(0)),1)),e("div",{class:y(me(m.status))},null,2)]),e("div",Ss,[e("h4",Ts,a(m.name),1),e("p",Cs,a(m.role),1),e("div",Ms,[e("span",{class:y(ge(m.status))},a(m.status),3),m.currentTask?(s(),o("span",Is," Working on: "+a(m.currentTask),1)):h("",!0)])]),e("div",Ds,[e("button",{onClick:V=>H(m),class:"action-button",title:"View Details"},[u(r(Ze),{class:"w-4 h-4"})],8,js),e("button",{onClick:V=>Q(m),class:"action-button",title:"Send Message"},[u(r(We),{class:"w-4 h-4"})],8,Ps)])]))),128))])]),_:1},8,["loading"]),u(de,{title:"Pending Approvals",loading:t.loading,class:"pending-approvals"},{actions:O(()=>[e("span",Bs,a(t.pendingApprovals.length),1)]),default:O(()=>[t.pendingApprovals.length===0?(s(),o("div",Rs,[u(r(oe),{class:"w-12 h-12 text-success-400 mx-auto mb-3"}),f[6]||(f[6]=e("p",{class:"text-neutral-500 text-center"},"All approvals handled!",-1))])):(s(),o("div",_s,[e("div",Vs,[(s(!0),o(F,null,z(t.pendingApprovals,m=>(s(),o("div",{key:m.id,"data-approval-id":m.id,class:y(["approval-item",{"approval-processing":T.value.has(m.id)}])},[e("div",Ls,[e("div",Os,[e("h4",Es,a(m.title),1)]),e("p",Hs," Requested by "+a(m.requester),1),e("span",Ws,a(ve(m.created_at)),1),m.type==="timesheet"&&m.stats?(s(),o("div",Fs,[e("div",qs,[e("div",zs,[f[7]||(f[7]=e("span",{class:"stat-label"},"Total Hours:",-1)),e("span",Us,a(m.stats.total_hours||"0h 0m"),1)]),e("div",Qs,[f[8]||(f[8]=e("span",{class:"stat-label"},"Days:",-1)),e("span",Gs,a(m.stats.days_count||0),1)])]),m.stats.overtime_hours?(s(),o("div",Ks,[e("div",Js,[f[9]||(f[9]=e("span",{class:"stat-label"},"Overtime:",-1)),e("span",Ys,a(m.stats.overtime_hours),1)])])):h("",!0)])):h("",!0),A.value[m.id]?(s(),o("div",Xs,[e("div",{class:y(w(A.value[m.id].type))},[(s(),U(X(d(A.value[m.id].type)),{class:"w-4 h-4"})),e("span",null,a(A.value[m.id].message),1)],2)])):h("",!0)]),e("div",Zs,[e("button",{onClick:V=>G(m,"approve"),class:"approve-button",disabled:M.value||T.value.has(m.id),title:T.value.has(m.id)?"Processing...":"Approve"},[T.value.has(m.id)?(s(),o("div",ta,f[10]||(f[10]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):(s(),U(r(Ee),{key:1,class:"w-4 h-4"}))],8,ea),e("button",{onClick:V=>G(m,"reject"),class:"reject-button",disabled:M.value||T.value.has(m.id),title:T.value.has(m.id)?"Processing...":"Reject"},[T.value.has(m.id)?(s(),o("div",aa,f[11]||(f[11]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):(s(),U(r(He),{key:1,class:"w-4 h-4"}))],8,sa)])],10,Ns))),128))]),t.pendingApprovals.length>3?(s(),o("div",na,[e("button",{onClick:ue,class:"view-all-link"},[e("span",null,"View All "+a(t.pendingApprovals.length)+" Approvals",1),f[12]||(f[12]=e("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])])):h("",!0)]))]),_:1},8,["loading"])])]),u(Xe,{show:b.value,approval:P.value,action:x.value,onClose:f[0]||(f[0]=m=>b.value=!1),onSubmit:Y},null,8,["show","approval","action"])]))}},ia=ce(oa,[["__scopeId","data-v-539c5cb0"]]),ra={key:0,class:"space-y-4"},la={key:0,class:"bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-200 rounded-lg p-4"},da={class:"space-y-2"},ca={class:"flex items-center space-x-3"},ua={class:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center"},ma={class:"text-sm font-semibold text-pink-700"},ga={class:"font-medium text-gray-900"},va={class:"text-sm text-gray-500"},ba={class:"text-right"},ha={key:0,class:"text-xs text-gray-500"},fa={key:1,class:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4"},ya={class:"flex items-center justify-between mb-3"},xa={class:"space-y-2"},wa={class:"flex items-center space-x-3"},pa={class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},ka={class:"text-sm font-semibold text-blue-700"},$a={class:"font-medium text-gray-900"},Aa={class:"text-sm text-gray-500"},Sa={class:"text-right"},Ta={class:"text-sm font-medium text-gray-900"},Ca={class:"text-xs text-gray-500"},Ma={key:2,class:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4"},pe={__name:"BirthdayNotifications",props:{todaysBirthdays:{type:Array,default:()=>[]},upcomingBirthdays:{type:Array,default:()=>[]},stats:{type:Object,default:null}},setup(t){const S=t,n=E(!1),g=$(()=>S.todaysBirthdays.length>0||S.upcomingBirthdays.length>0),c=$(()=>n.value?S.upcomingBirthdays:S.upcomingBirthdays.slice(0,3)),M=b=>b.split(" ").map(P=>P.charAt(0).toUpperCase()).join("").substring(0,2),T=b=>new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric"}),A=b=>b===0?"Today":b===1?"Tomorrow":`In ${b} days`;return(b,P)=>g.value?(s(),o("div",ra,[t.todaysBirthdays.length>0?(s(),o("div",la,[P[2]||(P[2]=e("div",{class:"flex items-center space-x-3 mb-3"},[e("div",{class:"text-2xl"},"üéâ"),e("div",null,[e("h3",{class:"text-lg font-semibold text-pink-800"},"Birthday Today!"),e("p",{class:"text-sm text-pink-600"},"Let's celebrate our team members")])],-1)),e("div",da,[(s(!0),o(F,null,z(t.todaysBirthdays,x=>(s(),o("div",{key:x.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[e("div",ca,[e("div",ua,[e("span",ma,a(M(x.user.name)),1)]),e("div",null,[e("p",ga,a(x.user.name),1),e("p",va,a(x.job_title||"Employee"),1)])]),e("div",ba,[P[1]||(P[1]=e("div",{class:"text-lg"},"üéÇ",-1)),x.age?(s(),o("p",ha,a(x.age)+" years",1)):h("",!0)])]))),128))])])):h("",!0),t.upcomingBirthdays.length>0?(s(),o("div",fa,[e("div",ya,[P[3]||(P[3]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"text-2xl"},"üéÇ"),e("div",null,[e("h3",{class:"text-lg font-semibold text-blue-800"},"Upcoming Birthdays"),e("p",{class:"text-sm text-blue-600"},"Don't forget to wish them well!")])],-1)),e("button",{onClick:P[0]||(P[0]=x=>n.value=!n.value),class:"text-sm text-blue-600 hover:text-blue-800 font-medium"},a(n.value?"Show Less":"Show All"),1)]),e("div",xa,[(s(!0),o(F,null,z(c.value,(x,j)=>(s(),o("div",{key:x.employee.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[e("div",wa,[e("div",pa,[e("span",ka,a(M(x.employee.user.name)),1)]),e("div",null,[e("p",$a,a(x.employee.user.name),1),e("p",Aa,a(x.employee.job_title||"Employee"),1)])]),e("div",Sa,[e("p",Ta,a(T(x.birthday_date)),1),e("p",Ca,a(A(x.days_until)),1)])]))),128))])])):h("",!0),t.todaysBirthdays.length===0&&t.upcomingBirthdays.length===0&&t.stats&&t.stats.this_month===0?(s(),o("div",Ma,P[4]||(P[4]=[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"text-2xl"},"üéÇ"),e("div",null,[e("h3",{class:"text-lg font-semibold text-blue-800"},"No Birthdays This Month"),e("p",{class:"text-sm text-blue-600"},"No team birthdays to celebrate right now, but stay tuned!")])],-1)]))):h("",!0)])):h("",!0)}},Ia={class:"employee-dashboard"},Da={class:"motivation-block"},ja={class:"motivation-content"},Pa={class:"motivation-text"},Ba={class:"quick-clock-actions"},Ra=["disabled"],_a=["disabled"],Va=["disabled"],Na={key:0,class:"birthday-floating-widget"},La={class:"time-tracking-section"},Oa={class:"real-time-clock"},Ea={class:"clock-display"},Ha={class:"current-time"},Wa={class:"current-date"},Fa={class:"work-status"},qa={class:"status-text"},za={class:"time-progress-block"},Ua={class:"duration-display"},Qa={class:"duration-item"},Ga={class:"duration-value"},Ka={key:0,class:"duration-item"},Ja={class:"duration-value"},Ya={class:"duration-item"},Xa={class:"duration-value"},Za={class:"horizontal-clock-container"},en={class:"time-markers"},tn={class:"marker-time"},sn={class:"time-progress-bar"},an={key:0,class:"current-time-indicator"},nn={class:"time-tooltip"},on={class:"time-progress-info"},rn={class:"progress-left"},ln={class:"progress-time"},dn={class:"progress-right"},cn={class:"progress-percentage"},un={class:"journey-overview-section"},mn={class:"journey-milestones"},gn={class:"milestone-grid"},vn={class:"milestone-card"},bn={class:"milestone-icon"},hn={class:"milestone-content"},fn={class:"milestone-value"},yn={class:"milestone-sublabel"},xn={class:"milestone-card"},wn={class:"milestone-icon"},pn={class:"milestone-content"},kn={class:"milestone-value"},$n={class:"milestone-card"},An={class:"milestone-icon"},Sn={class:"milestone-content"},Tn={class:"milestone-value"},Cn={class:"milestone-card"},Mn={class:"milestone-icon"},In={class:"milestone-content"},Dn={class:"milestone-value"},jn={class:"performance-stats"},Pn={class:"stats-grid"},Bn={class:"stat-card primary"},Rn={class:"stat-header"},_n={class:"stat-value"},Vn={class:"stat-card success"},Nn={class:"stat-header"},Ln={class:"stat-value"},On={class:"stat-card info"},En={class:"stat-header"},Hn={class:"stat-value"},Wn={class:"stat-card warning"},Fn={class:"stat-header"},qn={class:"consistency-score"},zn={class:"stat-value"},Un={key:0,class:"achievements-section"},Qn={class:"achievements-grid"},Gn={class:"achievement-summary"},Kn={class:"achievement-count"},Jn={class:"recent-achievements"},Yn={class:"achievement-text"},Xn={class:"growth-progress"},Zn={class:"progress-items"},eo={class:"progress-item"},to={class:"progress-header"},so={class:"progress-value"},ao={class:"progress-bar"},no={class:"dashboard-content"},oo={class:"left-column"},io={key:0,class:"empty-state"},ro={key:1,class:"feedback-list"},lo={class:"feedback-header"},co={class:"feedback-from"},uo={class:"feedback-author"},mo={class:"feedback-role"},go={class:"feedback-rating"},vo={class:"rating-stars"},bo={class:"feedback-comment"},ho={class:"feedback-date"},fo={class:"right-column"},yo={__name:"EmployeeDashboard",props:{stats:{type:Object,default:()=>({hoursToday:0,tasksCompleted:0,leaveBalance:0,upcomingDeadlines:0,taskTrend:0})},personalActivities:{type:Array,default:()=>[]},myTasks:{type:Array,default:()=>[]},recentFeedback:{type:Array,default:()=>[]},clockedIn:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},currentAttendance:{type:Object,default:()=>({clocked_in:!1,on_break:!1,clock_in_time:null,todays_summary:{total_hours:"0h 0m",break_time:"0h 0m",sessions:0,clock_ins:0},recent_activities:[],stats:{weekly_hours:"0h 0m",monthly_hours:"0h 0m",average_daily:"0h 0m"}})},birthdayNotifications:{type:Object,default:null}},emits:["clock-in-out","toggle-task","action","view-task"],setup(t,{emit:S}){const n=t,g=S;Ce();const c=E(new Date),M=E(""),T=E("0h 0m 0s"),A=E("0h 0m 0s"),b=E(null);let P=null;const x=$(()=>{const l=n.clockedIn||n.currentAttendance.clocked_in;return console.log("üîç isCurrentlyClockedIn computed:",{propsClockedIn:n.clockedIn,currentAttendanceClockedIn:n.currentAttendance.clocked_in,result:l}),l}),j=$(()=>x.value?"Clock Out":"Clock In"),N=$(()=>["inline-flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",x.value?"text-white bg-error-600 border border-error-600 hover:bg-error-700 focus:ring-error-500":"text-white bg-success-600 border border-success-600 hover:bg-success-700 focus:ring-success-500"]),p=$(()=>c.value.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})),D=$(()=>!x.value||!n.currentAttendance.clock_in_time?"before-work":"during-work"),B=$(()=>{if(!x.value)return console.log("üîç Progress: Not clocked in, returning 0%"),0;const l=n.currentAttendance.clock_in_time;if(!l)return console.log("üîç Progress: No clock in time, returning 0%"),0;const i=c.value,I=new Date(l);if(i<I)return console.log("üîç Progress: Current time before clock in, returning 0%"),0;const k=(i.getTime()-I.getTime())/(1e3*60*60),R=k/8*100,J=Math.min(100,Math.max(0,R));return console.log("üîç Progress calculation:",{clockInTime:l,now:i.toISOString(),workTimeElapsedHours:k.toFixed(2),percentage:R.toFixed(2),finalPercentage:J.toFixed(2)}),J}),C=$(()=>{const l=Math.round(B.value);switch(D.value){case"before-work":return x.value?"Work session starting":"Ready to clock in";case"after-work":return"Workday complete!";case"during-work":return`${l}% of workday`;default:return`${l}% of workday`}}),W=$(()=>{switch(D.value){case"before-work":return"Pre-work";case"after-work":return"Complete";case"during-work":return"Active";default:return"Active"}}),H=$(()=>[{label:"8 AM",isLunch:!1},{label:"9",isLunch:!1},{label:"10",isLunch:!1},{label:"11",isLunch:!1},{label:"12 PM",isLunch:!0},{label:"1",isLunch:!1},{label:"2",isLunch:!1},{label:"3",isLunch:!1},{label:"4",isLunch:!1},{label:"5 PM",isLunch:!1}]),Q=$(()=>{if(!x.value)return 0;const l=n.currentAttendance.clock_in_time;if(!l)return 0;const i=c.value,I=new Date(i);I.setHours(8,0,0,0);const L=new Date(i);L.setHours(17,0,0,0);const k=new Date(l),_=L.getTime()-I.getTime(),R=k.getTime()-I.getTime(),J=Math.max(0,R/_*100);return Math.min(100,J)}),G=$(()=>{if(!x.value)return console.log("üîç ProgressWidth: Not clocked in, returning 0"),0;const l=n.currentAttendance.clock_in_time;if(!l)return console.log("üîç ProgressWidth: No clock in time, returning 0"),0;const i=c.value,I=new Date(i);I.setHours(8,0,0,0);const L=new Date(i);L.setHours(17,0,0,0);const k=new Date(l),_=L.getTime()-I.getTime();if(i<k)return console.log("üîç ProgressWidth: Current time before clock in, returning 0"),0;const R=i.getTime()-I.getTime(),J=Math.min(100,Math.max(0,R/_*100)),$e=k.getTime()-I.getTime(),be=Math.max(0,$e/_*100),he=J-be,fe=Math.max(0,he);return console.log("üîç ProgressWidth calculation:",{clockInTime:l,timelineStart:I.toISOString(),timelineEnd:L.toISOString(),currentPositionPercent:J.toFixed(2),clockInPositionPercent:be.toFixed(2),width:he.toFixed(2),finalWidth:fe.toFixed(2)}),fe}),Y=$(()=>{if(!x.value)return 0;const l=n.currentAttendance.clock_in_time;if(!l)return 0;const i=c.value,I=new Date(i);I.setHours(8,0,0,0);const L=new Date(i);L.setHours(17,0,0,0);const k=new Date(l),_=L.getTime()-I.getTime(),R=k.getTime()-I.getTime(),J=Math.max(0,R/_*100);return Math.min(100,J)}),ue=$(()=>{if(!x.value)return[];const l=c.value,i=new Date(l);i.setHours(8,0,0,0);const I=new Date(l);I.setHours(17,0,0,0);const L=I.getTime()-i.getTime(),k=[];if((n.currentAttendance.break_sessions||[]).forEach(R=>{R.start&&k.push({start:R.start,end:R.end,isOngoing:!1})}),n.currentAttendance.on_break){let R=null;n.currentAttendance.current_break_start?R=n.currentAttendance.current_break_start:b.value&&(R=b.value),R&&k.push({start:R,end:null,isOngoing:!0})}return k.length===0?[]:k.map((R,J)=>{const $e=new Date(R.start),be=R.end?new Date(R.end):l,he=$e.getTime()-i.getTime(),fe=be.getTime()-i.getTime(),Me=Math.max(0,he/L*100),qe=Math.min(100,fe/L*100),ze=Math.max(0,qe-Me);return{left:Me,width:ze,isOngoing:R.isOngoing}}).filter(R=>R.width>0)}),me=$(()=>[{id:"my-assessments",label:"My Assessments",description:"View and complete competency assessments",icon:oe,variant:"primary",route:"competency-assessments.my-assessments"},{id:"request-leave",label:"Request Leave",description:"Submit a new leave request",icon:Ne,variant:"secondary",route:"leaves.create"},{id:"assessment-dashboard",label:"Assessment Dashboard",description:"View assessment overview and analytics",icon:ne,variant:"success",route:"assessment-dashboard"}]),ge=()=>{const l="text-xs font-medium px-2 py-1 rounded-full";switch(D.value){case"before-work":return`${l} bg-neutral-100 text-neutral-600`;case"after-work":return`${l} bg-success-100 text-success-700`;case"during-work":return`${l} bg-primary-100 text-primary-700`;default:return`${l} bg-primary-100 text-primary-700`}},ve=()=>{const l="flex items-center space-x-2";switch(D.value){case"before-work":return`${l} text-neutral-600`;case"after-work":return`${l} text-success-700`;case"during-work":return n.currentAttendance.on_break?`${l} text-warning-700`:`${l} text-primary-700`;default:return`${l} text-primary-700`}},ee=()=>{const l=new Date;c.value=l,M.value=l.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},w=()=>{if(x.value&&n.currentAttendance.clock_in_time){const l=new Date(n.currentAttendance.clock_in_time),I=new Date-l,L=Math.floor(I/(1e3*60*60)),k=Math.floor(I%(1e3*60*60)/(1e3*60)),_=Math.floor(I%(1e3*60)/1e3);T.value=`${L}h ${k}m ${_}s`}else T.value="0h 0m 0s";if(n.currentAttendance.on_break){let l=null;if(n.currentAttendance.current_break_start)l=new Date(n.currentAttendance.current_break_start);else if(b.value)l=new Date(b.value);else if(n.currentAttendance.break_sessions&&n.currentAttendance.break_sessions.length>0){const i=n.currentAttendance.break_sessions[n.currentAttendance.break_sessions.length-1];i&&!i.end&&(l=new Date(i.start))}if(l&&!isNaN(l.getTime())){const I=Math.max(0,new Date-l),L=Math.floor(I/(1e3*60*60)),k=Math.floor(I%(1e3*60*60)/(1e3*60)),_=Math.floor(I%(1e3*60)/1e3);A.value=`${L}h ${k}m ${_}s`,b.value||(b.value=l.toISOString())}else b.value||(b.value=new Date().toISOString()),A.value="0h 0m 1s"}else A.value="0h 0m 0s",b.value=null},d=async()=>{try{console.log("üîç EmployeeDashboard: Clock in/out button clicked"),console.log("üîç Current state:",{isCurrentlyClockedIn:x.value,clockedIn:n.clockedIn,currentAttendanceClockedIn:n.currentAttendance.clocked_in}),g("clock-in-out"),setTimeout(()=>{const l=new CustomEvent("attendance-state-changed",{detail:{clockedIn:!x.value,onBreak:!1,clockInTime:x.value?null:new Date().toISOString(),breakStartTime:null,timestamp:Date.now()}});window.dispatchEvent(l)},100)}catch(l){console.error("Clock in/out failed:",l)}},v=async()=>{try{b.value=new Date().toISOString(),g("action",{type:"take-break"}),setTimeout(()=>{const l=new CustomEvent("attendance-state-changed",{detail:{clockedIn:!0,onBreak:!0,clockInTime:n.currentAttendance.clock_in_time,breakStartTime:b.value,timestamp:Date.now()}});window.dispatchEvent(l)},100)}catch(l){console.error("Take break failed:",l)}},f=async()=>{try{g("action",{type:"end-break"}),setTimeout(()=>{const l=new CustomEvent("attendance-state-changed",{detail:{clockedIn:!0,onBreak:!1,clockInTime:n.currentAttendance.clock_in_time,breakStartTime:null,timestamp:Date.now()}});window.dispatchEvent(l)},100)}catch(l){console.error("End break failed:",l)}},m=(l,i)=>l>0?`${l} year${l>1?"s":""} ${i%12} month${i%12!==1?"s":""}`:`${i} month${i!==1?"s":""}`,V=l=>!l||l===0?"0%":`${l>0?"+":""}${Math.round(l)}%`,te=l=>!l||l===0?"neutral":l>0?"positive":"negative";return _e(()=>{ee(),w(),P=setInterval(()=>{ee(),w()},1e3)}),Ue(()=>{P&&clearInterval(P)}),(l,i)=>{var I,L;return s(),o("div",Ia,[e("div",Da,[e("div",ja,[e("p",Pa,[u(r(De),{class:"w-5 h-5 inline-block mr-2 text-yellow-500"}),i[0]||(i[0]=q(" Ready to tackle today's challenges? "))])]),e("div",Ba,[e("button",{onClick:d,disabled:t.loading,class:y(N.value)},[u(r(ae),{class:"w-4 h-4"}),q(" "+a(j.value),1)],10,Ra),x.value&&!t.currentAttendance.on_break?(s(),o("button",{key:0,onClick:v,disabled:t.loading,class:"break-button"},[u(r(Ke),{class:"w-4 h-4"}),i[1]||(i[1]=q(" Take Break "))],8,_a)):h("",!0),x.value&&t.currentAttendance.on_break?(s(),o("button",{key:1,onClick:f,disabled:t.loading,class:"end-break-button"},[u(r(Je),{class:"w-4 h-4"}),i[2]||(i[2]=q(" End Break "))],8,Va)):h("",!0)])]),t.birthdayNotifications&&(((I=t.birthdayNotifications.todaysBirthdays)==null?void 0:I.length)>0||((L=t.birthdayNotifications.upcomingBirthdays)==null?void 0:L.length)>0)?(s(),o("div",Na,[u(pe,{"todays-birthdays":t.birthdayNotifications.todaysBirthdays||[],"upcoming-birthdays":t.birthdayNotifications.upcomingBirthdays||[],stats:t.birthdayNotifications.stats},null,8,["todays-birthdays","upcoming-birthdays","stats"])])):h("",!0),e("div",La,[e("div",Oa,[e("div",Ea,[e("div",Ha,a(p.value),1),e("div",Wa,a(M.value),1)]),e("div",Fa,[e("div",{class:y(["status-indicator",ve()])},[i[3]||(i[3]=e("div",{class:"status-dot"},null,-1)),e("span",qa,a(W.value),1)],2)])]),e("div",za,[e("div",Ua,[e("div",Qa,[i[4]||(i[4]=e("div",{class:"duration-label"},"Work Time",-1)),e("div",Ga,a(T.value),1)]),t.currentAttendance.on_break?(s(),o("div",Ka,[i[5]||(i[5]=e("div",{class:"duration-label"},"Break Time",-1)),e("div",Ja,a(A.value),1)])):h("",!0),e("div",Ya,[i[6]||(i[6]=e("div",{class:"duration-label"},"Progress",-1)),e("div",Xa,a(Math.round(B.value))+"%",1)])]),e("div",Za,[e("div",en,[(s(!0),o(F,null,z(H.value,(k,_)=>(s(),o("div",{key:_,class:y(["time-marker",{"start-marker":_===0,"end-marker":_===H.value.length-1,"lunch-marker":k.isLunch,"regular-marker":!k.isLunch&&_!==0&&_!==H.value.length-1}])},[i[7]||(i[7]=e("div",{class:"marker-line"},null,-1)),e("span",tn,a(k.label),1)],2))),128))]),e("div",sn,[i[9]||(i[9]=e("div",{class:"progress-bar-shimmer"},null,-1)),x.value&&Y.value>0?(s(),o("div",{key:0,class:"pre-work-fill",style:se({width:`${Y.value}%`,transition:"width 0.5s ease-out"})},null,4)):h("",!0),x.value&&G.value>0?(s(),o("div",{key:1,class:"work-progress-fill",style:se({left:`${Q.value}%`,width:`${G.value}%`,transition:"width 0.5s ease-out, left 0.5s ease-out"})},[D.value==="during-work"?(s(),o("div",an,[i[8]||(i[8]=e("div",{class:"time-dot"},null,-1)),e("div",nn,a(p.value),1)])):h("",!0)],4)):h("",!0),(s(!0),o(F,null,z(ue.value,(k,_)=>(s(),o("div",{key:`break-${_}`,class:y(["break-time-fill",{"ongoing-break":k.isOngoing}]),style:se({left:`${k.left}%`,width:`${k.width}%`})},null,6))),128))]),e("div",on,[e("div",rn,[e("span",ln,a(p.value),1),e("span",{class:y(["progress-status",ge()])},a(W.value),3)]),e("div",dn,[e("span",cn,a(C.value),1)])])])])]),e("div",un,[e("div",mn,[i[17]||(i[17]=e("h3",{class:"section-title"},"Your Journey",-1)),e("div",gn,[e("div",vn,[e("div",bn,[u(r(Oe),{class:"w-6 h-6 text-blue-600"})]),e("div",hn,[e("div",fn,a(Math.floor(t.stats.daysWithCompany||0)),1),i[10]||(i[10]=e("div",{class:"milestone-label"},"Days with Company",-1)),e("div",yn,a(m(Math.floor(t.stats.yearsOfService||0),Math.floor(t.stats.monthsWithCompany||0))),1)])]),e("div",xn,[e("div",wn,[u(r(ae),{class:"w-6 h-6 text-green-600"})]),e("div",pn,[e("div",kn,a(t.stats.totalWorkHours||0)+"h",1),i[11]||(i[11]=e("div",{class:"milestone-label"},"Total Work Hours",-1)),i[12]||(i[12]=e("div",{class:"milestone-sublabel"},"Lifetime contribution",-1))])]),e("div",$n,[e("div",An,[u(r(le),{class:"w-6 h-6 text-purple-600"})]),e("div",Sn,[e("div",Tn,a(t.stats.projectsContributed||0),1),i[13]||(i[13]=e("div",{class:"milestone-label"},"Projects",-1)),i[14]||(i[14]=e("div",{class:"milestone-sublabel"},"Cross-functional work",-1))])]),e("div",Cn,[e("div",Mn,[u(r(je),{class:"w-6 h-6 text-yellow-600"})]),e("div",In,[e("div",Dn,a(t.stats.performanceRank||"N/A"),1),i[15]||(i[15]=e("div",{class:"milestone-label"},"Performance Rank",-1)),i[16]||(i[16]=e("div",{class:"milestone-sublabel"},"Among peers",-1))])])])]),e("div",jn,[i[22]||(i[22]=e("h3",{class:"section-title"},"Performance & Growth",-1)),e("div",Pn,[e("div",Bn,[e("div",Rn,[u(r(oe),{class:"w-5 h-5"}),e("span",{class:y(["stat-trend",te(t.stats.performanceTrend)])},a(V(t.stats.performanceTrend)),3)]),e("div",_n,a(t.stats.myAverageRating||"N/A"),1),i[18]||(i[18]=e("div",{class:"stat-label"},"Avg Rating",-1))]),e("div",Vn,[e("div",Nn,[u(r(Le),{class:"w-5 h-5"}),e("span",{class:y(["stat-trend",te(t.stats.attendanceTrend)])},a(V(t.stats.attendanceTrend)),3)]),e("div",Ln,a(isNaN(t.stats.attendanceRate)?"N/A":Math.round(t.stats.attendanceRate||0)+"%"),1),i[19]||(i[19]=e("div",{class:"stat-label"},"Attendance Rate",-1))]),e("div",On,[e("div",En,[u(r(le),{class:"w-5 h-5"}),e("span",{class:y(["stat-trend",te(t.stats.productivityTrend)])},a(V(t.stats.productivityTrend)),3)]),e("div",Hn,a(t.stats.myWorkReports||0),1),i[20]||(i[20]=e("div",{class:"stat-label"},"Work Reports",-1))]),e("div",Wn,[e("div",Fn,[u(r(De),{class:"w-5 h-5"}),e("span",qn,a(Math.round(t.stats.consistencyScore||0))+"%",1)]),e("div",zn,a(t.stats.mySuccessfulCalls||0),1),i[21]||(i[21]=e("div",{class:"stat-label"},"Successful Calls",-1))])])]),t.stats.totalAchievements>0?(s(),o("div",Un,[i[25]||(i[25]=e("h3",{class:"section-title"},"Achievements & Recognition",-1)),e("div",Qn,[e("div",Gn,[e("div",Kn,a(t.stats.totalAchievements),1),i[23]||(i[23]=e("div",{class:"achievement-label"},"Total Achievements",-1))]),e("div",Jn,[(s(!0),o(F,null,z(t.stats.recentAchievements,k=>(s(),o("div",{key:k,class:"achievement-item"},[i[24]||(i[24]=e("div",{class:"achievement-badge"},"üèÜ",-1)),e("span",Yn,a(k),1)]))),128))])])])):h("",!0),e("div",Xn,[i[27]||(i[27]=e("h3",{class:"section-title"},"Development Progress",-1)),e("div",Zn,[e("div",eo,[e("div",to,[i[26]||(i[26]=e("span",{class:"progress-label"},"Competency Progress",-1)),e("span",so,a(V(t.stats.competencyProgress)),1)]),e("div",ao,[e("div",{class:"progress-fill",style:se({width:Math.abs(t.stats.competencyProgress||0)+"%"})},null,4)])])])])]),e("div",no,[e("div",oo,[u(de,{title:"Recent Feedback",loading:t.loading,class:"recent-feedback"},{default:O(()=>[t.recentFeedback.length===0?(s(),o("div",io,[u(r(We),{class:"w-12 h-12 text-neutral-400 mx-auto mb-3"}),i[28]||(i[28]=e("p",{class:"text-neutral-500 text-center"},"No recent feedback",-1))])):(s(),o("div",ro,[(s(!0),o(F,null,z(t.recentFeedback.slice(0,3),k=>(s(),o("div",{key:k.id,class:"feedback-item"},[e("div",lo,[e("div",co,[e("span",uo,a(k.from.name),1),e("span",mo,a(k.from.role),1)]),e("div",go,[e("div",vo,[(s(),o(F,null,z(5,_=>u(r(je),{key:_,class:y(["w-4 h-4",_<=k.rating?"text-warning-400 fill-current":"text-neutral-300"])},null,8,["class"])),64))])])]),e("p",bo,a(k.comment),1),e("span",ho,a(l.formatRelativeTime(k.created_at)),1)]))),128))]))]),_:1},8,["loading"])]),e("div",fo,[u(Fe,{actions:me.value,title:"Quick Actions","max-visible":6,onAction:l.handleQuickAction},null,8,["actions","onAction"])])])])}}},xo=ce(yo,[["__scopeId","data-v-e972da28"]]),wo={class:"pending-approvals-widget"},po={class:"widget-header"},ko={class:"approval-count"},$o={key:0,class:"text-xs text-gray-500 ml-1"},Ao={key:0,class:"empty-state"},So={key:1,class:"approvals-list"},To={class:"approval-content"},Co={class:"approval-title"},Mo={class:"approval-description"},Io={class:"approval-requester"},Do={class:"approval-actions"},jo=["onClick"],Po=["onClick"],Bo={__name:"PendingApprovalsWidget",props:{approvals:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["approve","reject","view-all"],setup(t){return(S,n)=>(s(),o("div",wo,[e("div",po,[n[1]||(n[1]=e("h3",{class:"widget-title"},"Pending Approvals",-1)),e("span",ko,a(Math.min(t.approvals.length,5)),1),t.approvals.length>5?(s(),o("span",$o,"of "+a(t.approvals.length),1)):h("",!0)]),t.approvals.length===0?(s(),o("div",Ao,[u(r(oe),{class:"w-12 h-12 text-green-500 mx-auto mb-3"}),n[2]||(n[2]=e("p",{class:"text-gray-600"},"No pending approvals",-1))])):(s(),o("div",So,[(s(!0),o(F,null,z(t.approvals.slice(0,5),g=>(s(),o("div",{key:g.id,class:"approval-item"},[e("div",To,[e("h4",Co,a(g.title),1),e("p",Mo,a(g.description),1),e("span",Io,a(g.requester),1)]),e("div",Do,[e("button",{onClick:c=>S.$emit("approve",g),class:"approve-button"},[u(r(Ee),{class:"w-4 h-4"})],8,jo),e("button",{onClick:c=>S.$emit("reject",g),class:"reject-button"},[u(r(He),{class:"w-4 h-4"})],8,Po)])]))),128))])),t.approvals.length>5?(s(),o("button",{key:2,onClick:n[0]||(n[0]=g=>S.$emit("view-all")),class:"view-all-button"}," View All "+a(t.approvals.length)+" Approvals ",1)):h("",!0)]))}},Ro=ce(Bo,[["__scopeId","data-v-d3fae1f6"]]),_o={class:"flex items-center text-gray-500 mr-6"},Vo={class:"flex items-center"},No={class:"text-sm"},Lo={class:"flex space-x-3"},Oo=["onClick","disabled"],Eo={key:0,class:"space-y-6"},Ho={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Wo={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Fo={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},qo={class:"lg:col-span-2 space-y-4"},zo={class:"flex items-center space-x-2"},Uo={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800"},Qo={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},Go={class:"text-center p-4 bg-green-50 rounded-xl border border-green-100"},Ko={class:"text-2xl font-bold text-green-600"},Jo={class:"text-center p-4 bg-orange-50 rounded-xl border border-orange-100"},Yo={class:"text-2xl font-bold text-orange-600"},Xo={class:"text-center p-4 bg-purple-50 rounded-xl border border-purple-100"},Zo={class:"text-2xl font-bold text-purple-600"},ei={class:"text-center p-4 bg-blue-50 rounded-xl border border-blue-100"},ti={class:"text-2xl font-bold text-blue-600"},si={class:"lg:col-span-1 space-y-4"},ai={class:"space-y-3"},ni={class:"flex items-center"},oi={class:"flex items-center"},ii={class:"flex items-center"},ri={class:"flex items-center"},li={class:"flex items-center"},di={class:"space-y-3"},ci={class:"flex items-center justify-between"},ui={class:"text-sm font-medium text-gray-900"},mi={key:1,class:"manager-layout"},gi={class:"birthday-section mt-6"},vi={key:2,class:"employee-layout"},bi={class:"birthday-section mt-6"},hi={key:3,class:"fixed inset-0 z-50 overflow-y-auto"},fi={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},yi={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},xi={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},wi={class:"sm:flex sm:items-start"},pi={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},ki={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1"},$i={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},Ai={class:"space-y-4"},Si={class:"text-sm text-gray-600 mb-2"},Ti={class:"text-sm text-gray-600 mb-4"},Ci={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Mi=["disabled"],qi={__name:"Dashboard",props:{adminStats:{type:Object,default:()=>({})},managerStats:{type:Object,default:()=>({})},employeeStats:{type:Object,default:()=>({})},pendingApprovals:{type:Array,default:()=>[]},teamMembers:{type:Array,default:()=>[]},teamPerformance:{type:Object,default:()=>({})},teamActivities:{type:Array,default:()=>[]},personalActivities:{type:Array,default:()=>[]},myTasks:{type:Array,default:()=>[]},recentFeedback:{type:Array,default:()=>[]},clockedIn:{type:Boolean,default:!1},currentAttendance:{type:Object,default:null},birthdayData:{type:Object,default:()=>({todaysBirthdays:[],upcomingBirthdays:[],stats:{}})}},setup(t){const{user:S,roles:n}=Ce(),g=E(!1),c=E(!1),M=E(null),T=E(""),A=$(()=>{const w=Array.isArray(n.value)&&n.value.includes("Admin");return console.log("Dashboard - User:",S.value),console.log("Dashboard - Roles:",n.value),console.log("Dashboard - Is Admin:",w),w}),b=$(()=>Array.isArray(n.value)&&(n.value.includes("Manager")||n.value.includes("HR"))&&!A.value),P=$(()=>A.value?"Admin Dashboard":b.value?"Manager Dashboard":"My Dashboard"),x=$(()=>A.value?"System overview and administrative management tools":b.value?"Team management and performance overview":"Your personal workspace and activities"),j=$(()=>new Date().toLocaleTimeString()),N=$(()=>{const w=[{id:"refresh",label:"Refresh",icon:"ArrowPathIcon",handler:B,disabled:g.value}];return A.value&&w.unshift({id:"settings",label:"System Settings",icon:"CogIcon",handler:()=>p("admin.roles.index")},{id:"reports",label:"View Reports",icon:"ChartBarIcon",handler:()=>p("reports.index"),primary:!0}),w}),p=w=>{try{we.visit(route(w))}catch(d){console.error("Navigation error:",d)}},D=w=>({ArrowPathIcon:Pe,CogIcon:Be,ChartBarIcon:le,ClockIcon:ae})[w]||ae,B=async()=>{g.value=!0;try{await we.reload({only:["adminStats","managerStats","employeeStats","pendingApprovals"]})}catch(w){console.error("Refresh error:",w)}finally{g.value=!1}},C=async w=>{g.value=!0;try{await ie.post(route("approvals.approve",w.id)),await B()}catch(d){console.error("Approval error:",d)}finally{g.value=!1}},W=w=>{M.value=w,T.value="",c.value=!0},H=async()=>{if(T.value.trim()){g.value=!0;try{await ie.post(route("approvals.reject",M.value.id),{reason:T.value}),c.value=!1,await B()}catch(w){console.error("Rejection error:",w)}finally{g.value=!1}}},Q=()=>{c.value=!1,M.value=null,T.value=""},G=w=>{p("employees.show",{employee:w.id})},Y=w=>{console.log("Send message to:",w)},ue=async()=>{var w,d;g.value=!0;try{const f=(await ie.get("/api/attendance/current")).data;let m;f.clocked_in?m="/api/attendance/clock-out":m="/api/attendance/clock-in",(await ie.post(m,{},{headers:{"X-CSRF-TOKEN":(w=document.querySelector('meta[name="csrf-token"]'))==null?void 0:w.getAttribute("content"),Accept:"application/json","Content-Type":"application/json"}})).data.success&&await me()}catch(v){console.error("Clock in/out error:",v),((d=v.response)==null?void 0:d.status)===419&&window.location.reload()}finally{g.value=!1}},me=async()=>{try{const w=await ie.get("/api/attendance/current");currentAttendance.value&&Object.assign(currentAttendance.value,w.data),clockedIn.value=w.data.clocked_in}catch(w){console.error("Failed to update attendance status:",w)}},ge=w=>{p(w.route)},ve=async w=>{try{await ie.patch(route("tasks.toggle",w.id)),await B()}catch(d){console.error("Task toggle error:",d)}},ee=w=>{p("tasks.show",{task:w.id})};return(w,d)=>(s(),U(Ye,null,{header:O(()=>[q(a(P.value),1)]),subtitle:O(()=>[q(a(x.value),1)]),headerActions:O(()=>[e("div",_o,[d[8]||(d[8]=e("div",{class:"flex items-center mr-6"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm"},"System Online")],-1)),e("div",Vo,[u(r(ae),{class:"w-4 h-4 mr-2"}),e("span",No,a(j.value),1)])]),e("div",Lo,[(s(!0),o(F,null,z(N.value,v=>(s(),o("button",{key:v.id,onClick:v.handler,disabled:v.disabled,class:y(["inline-flex items-center px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",v.primary?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-500/25":"bg-white/60 text-gray-700 border border-gray-200 hover:bg-white hover:shadow-sm","disabled:opacity-50 disabled:cursor-not-allowed"])},[(s(),U(X(D(v.icon)),{class:"w-4 h-4 mr-2"})),q(" "+a(v.label),1)],10,Oo))),128))])]),default:O(()=>{var v,f,m;return[A.value?(s(),o("div",Eo,[e("div",Ho,[u(Z,{value:t.adminStats.totalEmployees,label:"Total Employees",description:"Active workforce",icon:r(Te),variant:"primary",trend:t.adminStats.employeeTrend,route:"employees.index",loading:g.value},null,8,["value","icon","trend","loading"]),u(Z,{value:t.adminStats.pendingLeaves,label:"Pending Approvals",description:"Requires attention",icon:r(ne),variant:"warning",status:t.adminStats.pendingLeaves>10?"critical":"warning",statusText:t.adminStats.pendingLeaves>10?"High":"Normal",route:"approvals.index",urgent:t.adminStats.pendingLeaves>15,loading:g.value},null,8,["value","icon","status","statusText","urgent","loading"]),u(Z,{value:t.adminStats.pendingAssessments,label:"Pending Assessments",description:"Review status",icon:r(ye),variant:"info",status:t.adminStats.pendingAssessments>5?"warning":"good",statusText:t.adminStats.pendingAssessments>5?"Review":"On Track",route:"assessment-dashboard",loading:g.value},null,8,["value","icon","status","statusText","loading"]),u(Z,{value:t.adminStats.systemHealth+"%",label:"System Health",description:"Uptime",icon:r(oe),variant:"success",status:t.adminStats.systemHealth>95?"excellent":t.adminStats.systemHealth>85?"good":"warning",statusText:t.adminStats.systemHealth>95?"Excellent":t.adminStats.systemHealth>85?"Good":"Needs Attention",clickable:!1,loading:g.value},null,8,["value","icon","status","statusText","loading"])]),e("div",Wo,[u(Z,{value:(t.adminStats.attendanceRate||0)+"%",label:"Attendance Rate",description:"This month",icon:r(ae),variant:"info",trend:t.adminStats.attendanceTrend||0,status:(t.adminStats.attendanceRate||0)>95?"excellent":(t.adminStats.attendanceRate||0)>85?"good":"warning",statusText:(t.adminStats.attendanceRate||0)>95?"Excellent":(t.adminStats.attendanceRate||0)>85?"Good":"Needs Attention",route:"attendance.reports",loading:g.value},null,8,["value","icon","trend","status","statusText","loading"]),u(Z,{value:t.adminStats.workReportsCount||0,label:"Work Reports",description:"This month",icon:r(le),variant:"primary",trend:t.adminStats.workReportsTrend||0,status:(t.adminStats.workReportsCount||0)>50?"excellent":(t.adminStats.workReportsCount||0)>20?"good":"warning",statusText:(t.adminStats.workReportsCount||0)>50?"High Activity":(t.adminStats.workReportsCount||0)>20?"Active":"Low Activity",route:"work-reports.index",loading:g.value},null,8,["value","icon","trend","status","statusText","loading"]),u(Z,{value:t.adminStats.successfulCalls||0,label:"Successful Calls",description:"This month",icon:r(et),variant:"success",trend:t.adminStats.successfulCallsTrend||0,status:(t.adminStats.successfulCalls||0)>100?"excellent":(t.adminStats.successfulCalls||0)>50?"good":"warning",statusText:(t.adminStats.successfulCalls||0)>100?"Excellent":(t.adminStats.successfulCalls||0)>50?"Good":"Needs Focus",route:"work-reports.leaderboard",loading:g.value},null,8,["value","icon","trend","status","statusText","loading"]),u(Z,{value:(t.adminStats.avgPerformanceScore||0)+"%",label:"Avg Performance",description:"Team score",icon:r(ye),variant:"info",trend:t.adminStats.performanceTrend||0,status:(t.adminStats.avgPerformanceScore||0)>85?"excellent":(t.adminStats.avgPerformanceScore||0)>70?"good":"warning",statusText:(t.adminStats.avgPerformanceScore||0)>85?"Excellent":(t.adminStats.avgPerformanceScore||0)>70?"Good":"Needs Improvement",route:"performance.reports",loading:g.value},null,8,["value","icon","trend","status","statusText","loading"])]),e("div",Fo,[e("div",qo,[t.pendingApprovals.length>0?(s(),U(xe,{key:0,title:"Action Required",description:"Items needing your immediate attention",icon:r(ne),iconVariant:"danger",variant:"elevated"},{headerActions:O(()=>[e("div",zo,[e("span",Uo,a(t.pendingApprovals.length)+" pending ",1),e("button",{onClick:B,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white rounded-lg transition-all"},[u(r(Pe),{class:"w-4 h-4"})])])]),default:O(()=>[u(Ro,{approvals:t.pendingApprovals,loading:g.value,onApprove:C,onReject:W,onViewAll:d[0]||(d[0]=()=>r(we).visit(w.route("approvals.index")))},null,8,["approvals","loading"])]),_:1},8,["icon"])):h("",!0),u(xe,{title:"Competency Management",description:"Track and manage employee competencies",icon:r(ye),iconVariant:"primary",variant:"elevated"},{headerActions:O(()=>[e("button",{onClick:d[1]||(d[1]=V=>p("assessment-dashboard")),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/25"},[d[9]||(d[9]=q(" View Details ")),u(r(re),{class:"w-4 h-4 ml-1"})])]),default:O(()=>[e("div",Qo,[e("div",Go,[e("div",Ko,a(t.adminStats.completedAssessmentsThisMonth||0),1),d[10]||(d[10]=e("div",{class:"text-xs text-gray-600 mt-1"},"Completed",-1))]),e("div",Jo,[e("div",Yo,a(t.adminStats.pendingAssessments||0),1),d[11]||(d[11]=e("div",{class:"text-xs text-gray-600 mt-1"},"Pending",-1))]),e("div",Xo,[e("div",Zo,a(t.adminStats.activeAssessmentCycles||0),1),d[12]||(d[12]=e("div",{class:"text-xs text-gray-600 mt-1"},"Active Cycles",-1))]),e("div",ei,[e("div",ti,a(t.adminStats.averageRating||"-"),1),d[13]||(d[13]=e("div",{class:"text-xs text-gray-600 mt-1"},"Avg Rating",-1))])]),d[14]||(d[14]=e("div",{class:"space-y-3"},[e("h3",{class:"text-sm font-medium text-gray-900 mb-3"},"Recent Competency Activity"),e("div",{class:"space-y-2"},[e("div",{class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full"}),e("span",{class:"text-sm text-gray-700"},"Q4 Performance Review cycle started")]),e("span",{class:"text-xs text-gray-500"},"2 hours ago")]),e("div",{class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-2 h-2 bg-blue-400 rounded-full"}),e("span",{class:"text-sm text-gray-700"},"5 new assessments submitted")]),e("span",{class:"text-xs text-gray-500"},"4 hours ago")]),e("div",{class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-2 h-2 bg-purple-400 rounded-full"}),e("span",{class:"text-sm text-gray-700"},"Leadership competency updated")]),e("span",{class:"text-xs text-gray-500"},"1 day ago")])])],-1))]),_:1,__:[14]},8,["icon"])]),e("div",si,[u(xe,{title:"Quick Actions",description:"Common tasks",icon:r(Se),iconVariant:"primary"},{default:O(()=>[e("div",ai,[e("button",{onClick:d[2]||(d[2]=V=>p("competencies.create")),class:"w-full flex items-center justify-between px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all group shadow-lg shadow-blue-500/25"},[e("div",ni,[u(r(ye),{class:"w-5 h-5 mr-3"}),d[15]||(d[15]=e("span",{class:"font-medium"},"Add Competency",-1))]),u(r(re),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:d[3]||(d[3]=V=>p("employees.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",oi,[u(r(Te),{class:"w-5 h-5 mr-3"}),d[16]||(d[16]=e("span",{class:"font-medium"},"Manage Employees",-1))]),u(r(re),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:d[4]||(d[4]=V=>p("assessment-cycles.create")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",ii,[u(r(Se),{class:"w-5 h-5 mr-3"}),d[17]||(d[17]=e("span",{class:"font-medium"},"New Assessment Cycle",-1))]),u(r(re),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:d[5]||(d[5]=V=>p("reports.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",ri,[u(r(le),{class:"w-5 h-5 mr-3"}),d[18]||(d[18]=e("span",{class:"font-medium"},"View Reports",-1))]),u(r(re),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:d[6]||(d[6]=V=>p("admin.roles.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",li,[u(r(Be),{class:"w-5 h-5 mr-3"}),d[19]||(d[19]=e("span",{class:"font-medium"},"Role Management",-1))]),u(r(re),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})])])]),_:1},8,["icon"]),u(pe,{"todays-birthdays":t.birthdayData.todaysBirthdays,"upcoming-birthdays":t.birthdayData.upcomingBirthdays,stats:t.birthdayData.stats},null,8,["todays-birthdays","upcoming-birthdays","stats"]),u(xe,{title:"System Status",description:"All systems operational",icon:r(oe),iconVariant:"success"},{default:O(()=>[e("div",di,[d[21]||(d[21]=e("div",{class:"flex items-center justify-between"},[e("span",{class:"text-sm text-gray-600"},"Database"),e("div",{class:"flex items-center"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm font-medium text-green-600"},"Healthy")])],-1)),d[22]||(d[22]=e("div",{class:"flex items-center justify-between"},[e("span",{class:"text-sm text-gray-600"},"API Services"),e("div",{class:"flex items-center"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm font-medium text-green-600"},"Online")])],-1)),e("div",ci,[d[20]||(d[20]=e("span",{class:"text-sm text-gray-600"},"Uptime",-1)),e("span",ui,a(t.adminStats.systemUptime)+"%",1)])])]),_:1},8,["icon"])])])])):b.value?(s(),o("div",mi,[u(ia,{stats:t.managerStats,"team-members":t.teamMembers,"team-performance":t.teamPerformance,"team-activities":t.teamActivities,loading:g.value,onViewMember:G,onSendMessage:Y},null,8,["stats","team-members","team-performance","team-activities","loading"]),e("div",gi,[u(pe,{"todays-birthdays":t.birthdayData.todaysBirthdays,"upcoming-birthdays":t.birthdayData.upcomingBirthdays,stats:t.birthdayData.stats},null,8,["todays-birthdays","upcoming-birthdays","stats"])])])):(s(),o("div",vi,[u(xo,{stats:t.employeeStats,"personal-activities":t.personalActivities,"my-tasks":t.myTasks,"recent-feedback":t.recentFeedback,"clocked-in":t.clockedIn,"current-attendance":t.currentAttendance,"birthday-notifications":t.birthdayData,loading:g.value,onClockInOut:ue,onAction:ge,onToggleTask:ve,onViewTask:ee},null,8,["stats","personal-activities","my-tasks","recent-feedback","clocked-in","current-attendance","birthday-notifications","loading"]),e("div",bi,[u(pe,{"todays-birthdays":t.birthdayData.todaysBirthdays,"upcoming-birthdays":t.birthdayData.upcomingBirthdays,stats:t.birthdayData.stats},null,8,["todays-birthdays","upcoming-birthdays","stats"])])])),c.value?(s(),o("div",hi,[e("div",fi,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:Q}),e("div",yi,[e("div",xi,[e("div",wi,[e("div",pi,[u(r(ne),{class:"h-6 w-6 text-red-600"})]),e("div",ki,[e("h3",$i," Reject "+a(((v=M.value)==null?void 0:v.title)||"Request"),1),e("div",Ai,[e("div",null,[e("p",Si,[d[23]||(d[23]=e("strong",null,"Requester:",-1)),q(" "+a((f=M.value)==null?void 0:f.requester),1)]),e("p",Ti,[d[24]||(d[24]=e("strong",null,"Request:",-1)),q(" "+a((m=M.value)==null?void 0:m.description),1)])]),e("div",null,[d[25]||(d[25]=e("label",{for:"rejection-reason",class:"block text-sm font-medium text-gray-700 mb-2"},[q(" Reason for rejection "),e("span",{class:"text-red-500"},"*")],-1)),Qe(e("textarea",{id:"rejection-reason","onUpdate:modelValue":d[7]||(d[7]=V=>T.value=V),rows:"4",class:"w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-red-500 focus:border-red-500",placeholder:"Please provide a clear reason for rejecting this request...",required:""},null,512),[[Ge,T.value]]),d[26]||(d[26]=e("p",{class:"text-xs text-gray-500 mt-1"}," This reason will be sent to the employee and recorded in the system. ",-1))])])])])]),e("div",Ci,[e("button",{onClick:H,disabled:!T.value.trim(),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"}," Reject Request ",8,Mi),e("button",{onClick:Q,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):h("",!0)]}),_:1}))}};export{qi as default};
