import{e as p,f as P,g as te,o as r,h as _,k as l,c as i,i as c,a as e,t as n,n as k,l as d,u as m,F as b,r as h,S as oe,Q as T}from"./app-CMYvAn_Q.js";import{A as ne}from"./AuthenticatedLayout-DV7mFEC5.js";import{P as re}from"./PageLayout-vN-iEnlU.js";import{_ as ie}from"./FileViewerModal-BZKMViPh.js";import{j as ae,c as de,l as A,b as le,e as ce,h as me}from"./icons-8Gns_ewk.js";import{r as O}from"./DocumentIcon-D3nnhFa4.js";import"./useAuth-BHg-4lj4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-DmL5p68O.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-CEGgQyHB.js";import"./PageHeader-CPC_bqDN.js";import"./Icon-CqIYkydc.js";/* empty css                                                                   */import"./ArrowTopRightOnSquareIcon-CQjsGa5c.js";import"./ArrowDownTrayIcon-BekfIa4C.js";import"./transition-Do2CNuLb.js";const ue={key:0,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-md"},ge={class:"flex items-center"},xe={class:"text-sm text-green-800"},fe={key:1,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md"},pe={class:"flex items-center"},be={class:"text-sm text-red-800"},he={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ye={class:"lg:col-span-2 space-y-8"},ve={class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 overflow-hidden"},we={class:"px-8 py-6"},_e={class:"flex items-start justify-between"},ke={class:"flex-1"},Ae={class:"flex items-center space-x-3 mb-4"},je={class:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center"},Ce={class:"text-lg font-semibold text-blue-600"},Me={class:"text-2xl font-bold text-gray-900"},$e={class:"text-lg text-gray-600"},Be={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Fe={class:"bg-white/60 rounded-lg p-3"},Se={class:"mt-1 text-sm font-semibold text-gray-900"},Ve={class:"bg-white/60 rounded-lg p-3"},De={class:"mt-1"},Ee={class:"bg-white/60 rounded-lg p-3"},Ne={class:"mt-1 text-sm font-semibold text-gray-900"},Le={class:"bg-white/60 rounded-lg p-3"},ze={class:"mt-1 text-sm font-semibold text-gray-900"},Re={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},Ue={class:"bg-gradient-to-r from-yellow-50 to-orange-50 px-6 py-4 border-b border-yellow-200"},Ie={class:"text-lg font-semibold text-gray-900 flex items-center"},He={class:"p-6"},Pe={class:"text-center"},Te={class:"flex justify-center mb-4"},Oe={class:"space-y-2"},Qe={class:"text-4xl font-bold text-gray-900"},We={class:"text-lg font-medium text-gray-600"},qe={key:1,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},Ge={class:"p-6"},Je={class:"prose prose-sm max-w-none"},Ke={class:"text-gray-700 leading-relaxed whitespace-pre-wrap"},Xe={key:2,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},Ye={class:"p-6"},Ze={class:"prose prose-sm max-w-none"},es={class:"text-gray-700 leading-relaxed whitespace-pre-wrap"},ss={class:"space-y-6"},ts={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},os={class:"bg-gradient-to-r from-blue-50 to-cyan-50 px-6 py-4 border-b border-blue-200"},ns={class:"text-lg font-semibold text-gray-900 flex items-center"},rs={class:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},is={class:"p-4"},as={class:"space-y-2"},ds={class:"flex items-center min-w-0 flex-1"},ls={class:"flex-shrink-0"},cs={class:"ml-3 min-w-0 flex-1"},ms={class:"text-sm font-medium text-gray-900 truncate"},us={class:"text-xs text-gray-500"},gs=["onClick"],xs={key:1,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},fs={class:"p-6 space-y-3"},ps=["disabled"],bs=["disabled"],hs={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},ys={class:"p-6"},vs={class:"space-y-4"},ws={class:"bg-gray-50 rounded-lg p-3"},_s={class:"mt-1 text-sm font-semibold text-gray-900"},ks={key:0,class:"bg-gray-50 rounded-lg p-3"},As={class:"mt-1 text-sm text-gray-700 leading-relaxed"},js={key:1,class:"bg-gray-50 rounded-lg p-3"},Cs={class:"mt-1 text-sm font-semibold text-gray-900"},Ms={key:2,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},$s={class:"bg-gradient-to-r from-gray-50 to-slate-50 px-6 py-4 border-b border-gray-200"},Bs={class:"text-lg font-semibold text-gray-900 flex items-center"},Fs={class:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},Ss={class:"p-4"},Vs={class:"space-y-2"},Ds={class:"flex-1"},Es={class:"text-sm font-medium text-gray-900"},Ns={class:"text-xs text-gray-500"},Ls={class:"flex items-center space-x-3"},zs={key:0,class:"flex"},st={__name:"Show",props:{assessment:Object,canEdit:Boolean,canApprove:Boolean,relatedAssessments:Array},setup(o){const x=o,u=p(!1),y=p(!1),v=p(""),w=p(""),Q=P(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Assessments",href:route("competency-assessments.index")},{label:"Assessment Details",href:null}]),W=P(()=>{const t=[];return x.canEdit&&t.push({label:"Edit Assessment",href:route("competency-assessments.edit",x.assessment.id),icon:ae,variant:"primary"}),t.push({label:"Back to Assessments",href:route("competency-assessments.index"),icon:de,variant:"secondary"}),t}),q=()=>{confirm("Are you sure you want to approve this assessment?")&&(u.value=!0,T.post(route("competency-assessments.approve",x.assessment.id),{},{onFinish:()=>{u.value=!1}}))},G=()=>{const t=prompt("Please provide a reason for rejection:");t&&(u.value=!0,T.post(route("competency-assessments.reject",x.assessment.id),{rejection_reason:t},{onFinish:()=>{u.value=!1}}))},j=t=>({self:"Self Assessment",manager:"Manager Assessment",peer:"Peer Assessment",360:"360Â° Feedback"})[t]||t,J=t=>{v.value=t,w.value=`/assessment-files/${x.assessment.id}/${t}`,y.value=!0},K=()=>{y.value=!1,v.value="",w.value=""},X=t=>({draft:"Draft",submitted:"Submitted",approved:"Approved",rejected:"Rejected"})[t]||t,Y=t=>({draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800",Z=t=>({1:"Needs Improvement",2:"Below Expectations",3:"Meets Expectations",4:"Exceeds Expectations",5:"Outstanding"})[t]||"",C=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),ee=t=>t?t.split(" ").map(s=>s.charAt(0)).join("").toUpperCase().substring(0,2):"?",M=t=>{if(!t)return"";const s=t.split("/");return s[s.length-1]},se=t=>{if(!t)return"";const g=M(t).split(".");return g.length>1?g[g.length-1].toUpperCase():"FILE"};return(t,s)=>(r(),te(ne,null,{default:_(()=>{var g,$,B;return[l(re,{title:"Assessment Details",subtitle:`${($=(g=o.assessment.employee)==null?void 0:g.user)==null?void 0:$.name} - ${(B=o.assessment.competency)==null?void 0:B.name}`,breadcrumbs:Q.value,actions:W.value},{default:_(()=>{var F,S,V,D,E,N,L,z,R,U,I,H;return[(F=t.$page.props.flash)!=null&&F.success?(r(),i("div",ue,[e("div",ge,[s[0]||(s[0]=e("svg",{class:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("p",xe,n(t.$page.props.flash.success),1)])])):c("",!0),(S=t.$page.props.flash)!=null&&S.error?(r(),i("div",fe,[e("div",pe,[s[1]||(s[1]=e("svg",{class:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),e("p",be,n(t.$page.props.flash.error),1)])])):c("",!0),e("div",he,[e("div",ye,[e("div",ve,[e("div",we,[e("div",_e,[e("div",ke,[e("div",Ae,[e("div",je,[e("span",Ce,n(ee((D=(V=o.assessment.employee)==null?void 0:V.user)==null?void 0:D.name)),1)]),e("div",null,[e("h1",Me,n((N=(E=o.assessment.employee)==null?void 0:E.user)==null?void 0:N.name),1),e("p",$e,n((L=o.assessment.competency)==null?void 0:L.name),1)])]),e("div",Be,[e("div",Fe,[s[2]||(s[2]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"Type",-1)),e("dd",Se,n(j(o.assessment.assessment_type)),1)]),e("div",Ve,[s[3]||(s[3]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"Status",-1)),e("dd",De,[e("span",{class:k([Y(o.assessment.status),"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium"])},n(X(o.assessment.status)),3)])]),e("div",Ee,[s[4]||(s[4]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"Assessor",-1)),e("dd",Ne,n(((z=o.assessment.assessor)==null?void 0:z.name)||"Not assigned"),1)]),e("div",Le,[s[5]||(s[5]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"Date",-1)),e("dd",ze,n(C(o.assessment.created_at)),1)])])])])])]),o.assessment.rating?(r(),i("div",Re,[e("div",Ue,[e("h3",Ie,[l(m(A),{class:"w-5 h-5 text-yellow-500 mr-2"}),s[6]||(s[6]=d(" Performance Rating "))])]),e("div",He,[e("div",Pe,[e("div",Te,[(r(),i(b,null,h(5,a=>l(m(A),{key:a,class:k([a<=o.assessment.rating?"text-yellow-400":"text-gray-300","h-8 w-8"])},null,8,["class"])),64))]),e("div",Oe,[e("div",Qe,[d(n(o.assessment.rating),1),s[7]||(s[7]=e("span",{class:"text-2xl text-gray-500"},"/5",-1))]),e("div",We,n(Z(o.assessment.rating)),1)])])])])):c("",!0),o.assessment.comments?(r(),i("div",qe,[s[8]||(s[8]=e("div",{class:"bg-gradient-to-r from-green-50 to-emerald-50 px-6 py-4 border-b border-green-200"},[e("h3",{class:"text-lg font-semibold text-gray-900 flex items-center"},[e("svg",{class:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.959 8.959 0 01-4.906-1.456L3 21l2.456-5.094A8.959 8.959 0 013 12c0-4.418 3.582-8 8-8s8 3.582 8 8z"})]),d(" Assessment Comments ")])],-1)),e("div",Ge,[e("div",Je,[e("p",Ke,n(o.assessment.comments),1)])])])):c("",!0),o.assessment.development_notes?(r(),i("div",Xe,[s[9]||(s[9]=e("div",{class:"bg-gradient-to-r from-purple-50 to-violet-50 px-6 py-4 border-b border-purple-200"},[e("h3",{class:"text-lg font-semibold text-gray-900 flex items-center"},[e("svg",{class:"w-5 h-5 text-purple-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})]),d(" Development Notes ")])],-1)),e("div",Ye,[e("div",Ze,[e("p",es,n(o.assessment.development_notes),1)])])])):c("",!0)]),e("div",ss,[o.assessment.evidence_files&&o.assessment.evidence_files.length>0?(r(),i("div",ts,[e("div",os,[e("h3",ns,[l(m(O),{class:"w-5 h-5 text-blue-600 mr-2"}),s[10]||(s[10]=d(" Supporting Evidence ")),e("span",rs,n(o.assessment.evidence_files.length),1)])]),e("div",is,[e("div",as,[(r(!0),i(b,null,h(o.assessment.evidence_files,(a,f)=>(r(),i("div",{key:f,class:"group flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-blue-50 transition-all duration-200 border border-transparent hover:border-blue-200"},[e("div",ds,[e("div",ls,[l(m(O),{class:"w-5 h-5 text-gray-400 group-hover:text-blue-500"})]),e("div",cs,[e("p",ms,n(M(a)),1),e("p",us,n(se(a)),1)])]),e("button",{onClick:Rs=>J(a),class:"ml-3 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},[l(m(le),{class:"w-4 h-4 mr-1"}),s[11]||(s[11]=d(" View "))],8,gs)]))),128))])])])):c("",!0),o.canApprove&&o.assessment.status==="submitted"?(r(),i("div",xs,[s[14]||(s[14]=e("div",{class:"bg-gradient-to-r from-green-50 to-emerald-50 px-6 py-4 border-b border-green-200"},[e("h3",{class:"text-lg font-semibold text-gray-900 flex items-center"},[e("svg",{class:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),d(" Review Actions ")])],-1)),e("div",fs,[e("button",{onClick:q,disabled:u.value,class:"w-full inline-flex items-center justify-center px-4 py-3 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 transition-colors shadow-sm"},[l(m(ce),{class:"w-4 h-4 mr-2"}),s[12]||(s[12]=d(" Approve Assessment "))],8,ps),e("button",{onClick:G,disabled:u.value,class:"w-full inline-flex items-center justify-center px-4 py-3 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 transition-colors shadow-sm"},[l(m(me),{class:"w-4 h-4 mr-2"}),s[13]||(s[13]=d(" Reject Assessment "))],8,bs)])])):c("",!0),e("div",hs,[s[18]||(s[18]=e("div",{class:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-indigo-200"},[e("h3",{class:"text-lg font-semibold text-gray-900 flex items-center"},[e("svg",{class:"w-5 h-5 text-indigo-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})]),d(" Competency Info ")])],-1)),e("div",ys,[e("dl",vs,[e("div",ws,[s[15]||(s[15]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"Category",-1)),e("dd",_s,n((R=o.assessment.competency)==null?void 0:R.category),1)]),(U=o.assessment.competency)!=null&&U.description?(r(),i("div",ks,[s[16]||(s[16]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"Description",-1)),e("dd",As,n(o.assessment.competency.description),1)])):c("",!0),(I=o.assessment.competency)!=null&&I.weight?(r(),i("div",js,[s[17]||(s[17]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"Weight",-1)),e("dd",Cs,n(o.assessment.competency.weight)+"%",1)])):c("",!0)])])]),(H=o.relatedAssessments)!=null&&H.length?(r(),i("div",Ms,[e("div",$s,[e("h3",Bs,[s[19]||(s[19]=e("svg",{class:"w-5 h-5 text-gray-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),s[20]||(s[20]=d(" Related Assessments ")),e("span",Fs,n(o.relatedAssessments.length),1)])]),e("div",Ss,[e("div",Vs,[(r(!0),i(b,null,h(o.relatedAssessments,a=>(r(),i("div",{key:a.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[e("div",Ds,[e("div",Es,n(j(a.assessment_type)),1),e("div",Ns,n(C(a.created_at)),1)]),e("div",Ls,[a.rating?(r(),i("div",zs,[(r(),i(b,null,h(5,f=>l(m(A),{key:f,class:k([f<=a.rating?"text-yellow-400":"text-gray-300","h-3 w-3"])},null,8,["class"])),64))])):c("",!0),l(m(oe),{href:t.route("competency-assessments.show",a.id),class:"inline-flex items-center px-2 py-1 text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 transition-colors"},{default:_(()=>s[21]||(s[21]=[d(" View ")])),_:2,__:[21]},1032,["href"])])]))),128))])])])):c("",!0)])]),l(ie,{show:y.value,fileName:v.value,fileUrl:w.value,onClose:K},null,8,["show","fileName","fileUrl"])]}),_:1},8,["subtitle","breadcrumbs","actions"])]}),_:1}))}};export{st as default};
