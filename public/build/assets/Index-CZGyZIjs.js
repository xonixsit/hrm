import{e as T,f as F,z as te,g as A,o as n,c as d,i as c,a as e,t as i,w as N,b as P,l as p,d as ie,C as ue,G as se,h,k as G,u as w,F as q,r as J,v as X,n as Z,S as L,Q as ee}from"./app-D_utJk6O.js";import{l as de}from"./lodash-CQ1Y-2Nj.js";import{A as ce}from"./AuthenticatedLayout-AzCPQ4J4.js";import{P as me}from"./PageLayout-CNTRjKrQ.js";import{u as fe}from"./useAuth-CDB2CqE8.js";import"./icons-CjKy-jPP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-CKS9P9Uo.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-B4W3EGOk.js";import"./PageHeader-CjPBF9Si.js";import"./Icon-BhMauFsh.js";/* empty css                                                                   */const pe={class:"p-6"},xe={class:"mb-6"},ge={class:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg"},ye={class:"flex-shrink-0"},ve={class:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center"},be={class:"text-sm font-medium text-blue-700"},he={class:"text-sm font-medium text-gray-900"},we={class:"text-xs text-gray-500"},ke={class:"mb-6"},_e=["min","max"],Ce={class:"mb-6"},De={class:"flex items-center justify-end space-x-3"},Me=["disabled"],Oe={key:0,class:"flex items-center"},Ae={key:1},Te={__name:"ManualClockOutModal",props:{show:{type:Boolean,default:!1},attendance:{type:Object,required:!0}},emits:["close","success"],setup(a,{emit:k}){const b=a,z=k,x=T(""),$=T(""),_=T(!1),j=F(()=>x.value&&$.value.trim().length>0),r=u=>u?u.split(" ").map(l=>l[0]).join("").toUpperCase().substring(0,2):"--",C=u=>{if(!u)return"-";try{const l=new Date(u);return isNaN(l.getTime())?"-":l.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}catch{return"-"}},U=()=>{var u;if(!((u=b.attendance)!=null&&u.clock_in))return"";try{const l=new Date(b.attendance.clock_in);return l.setMinutes(l.getMinutes()+1),l.toISOString().slice(0,16)}catch{return""}},D=()=>new Date().toISOString().slice(0,16),H=()=>{var u;if(!((u=b.attendance)!=null&&u.clock_in))return D();try{const l=new Date(b.attendance.clock_in),m=new Date(l.getFullYear(),l.getMonth(),l.getDate()),g=new Date,O=new Date(g.getFullYear(),g.getMonth(),g.getDate());if(m.getTime()===O.getTime())return D();const f=new Date(m);return f.setHours(23,59,59,999),f.toISOString().slice(0,16)}catch{return D()}},Y=()=>{M()},M=()=>{z("close")},R=async()=>{var u,l;if(j.value){_.value=!0;try{const m=await se.post(route("attendances.manual-clock-out"),{attendance_id:b.attendance.id,clock_out_time:x.value,reason:$.value.trim()});m.data.success?(z("success",m.data),M()):alert(m.data.message||"Failed to clock out")}catch(m){console.error("Clock out error:",m),alert(((l=(u=m.response)==null?void 0:u.data)==null?void 0:l.message)||"An error occurred while clocking out")}finally{_.value=!1}}};return te(()=>{var u;if(!((u=b.attendance)!=null&&u.clock_in)){x.value=D();return}try{const l=new Date(b.attendance.clock_in),m=new Date(l.getFullYear(),l.getMonth(),l.getDate()),g=new Date,O=new Date(g.getFullYear(),g.getMonth(),g.getDate());if(m.getTime()===O.getTime())x.value=D();else{const f=new Date(m);f.setHours(17,0,0,0),x.value=f.toISOString().slice(0,16)}}catch{x.value=D()}}),(u,l)=>{var m,g,O,f;return n(),A(ue,{to:"body"},[a.show?(n(),d("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",onClick:Y},[e("div",{class:"relative bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden transform transition-all duration-300",onClick:l[2]||(l[2]=ie(()=>{},["stop"]))},[e("div",{class:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4"},[e("div",{class:"flex items-center justify-between"},[l[4]||(l[4]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("h3",{class:"text-lg font-semibold text-white"},"Manual Clock Out")],-1)),e("button",{onClick:M,class:"text-white hover:text-gray-200 transition-colors"},l[3]||(l[3]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("div",pe,[e("div",xe,[e("div",ge,[e("div",ye,[e("div",ve,[e("span",be,i(r((g=(m=a.attendance.employee)==null?void 0:m.user)==null?void 0:g.name)),1)])]),e("div",null,[e("p",he,i(((f=(O=a.attendance.employee)==null?void 0:O.user)==null?void 0:f.name)||"N/A"),1),e("p",we," Clocked in: "+i(C(a.attendance.clock_in)),1)])])]),e("div",ke,[l[5]||(l[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Clock Out Time ",-1)),N(e("input",{"onUpdate:modelValue":l[0]||(l[0]=B=>x.value=B),type:"datetime-local",min:U(),max:H(),class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:""},null,8,_e),[[P,x.value]]),l[6]||(l[6]=e("p",{class:"mt-1 text-xs text-gray-500"}," Must be after clock-in time. For previous days, can be set to end of that day. ",-1))]),e("div",Ce,[l[7]||(l[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Reason for Manual Clock Out ",-1)),N(e("textarea",{"onUpdate:modelValue":l[1]||(l[1]=B=>$.value=B),rows:"3",placeholder:"Please provide a reason for the manual clock out (e.g., forgot to clock out, system issue, etc.)",class:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm resize-none",required:""},null,512),[[P,$.value]])]),l[9]||(l[9]=e("div",{class:"mb-6 p-3 bg-amber-50 border border-amber-200 rounded-lg"},[e("div",{class:"flex items-start space-x-2"},[e("svg",{class:"h-5 w-5 text-amber-400 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),e("div",null,[e("p",{class:"text-sm font-medium text-amber-800"},"Important Notice"),e("p",{class:"text-xs text-amber-700 mt-1"}," This action will manually clock out the employee and cannot be undone. The reason will be logged for audit purposes. ")])])],-1)),e("div",De,[e("button",{onClick:M,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"}," Cancel "),e("button",{onClick:R,disabled:!j.value||_.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[_.value?(n(),d("span",Oe,l[8]||(l[8]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),p(" Processing... ")]))):(n(),d("span",Ae,"Clock Out"))],8,Me)])])])])):c("",!0)])}}},$e={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Se={class:"p-6 text-gray-900"},Le={class:"flex justify-between items-start mb-6"},Ne={class:"flex items-center space-x-4"},je={class:"relative"},Be={key:0,class:"mb-6 p-4 bg-gray-50 rounded-lg"},Fe={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ze={key:0},Ie=["value"],Ve={key:0,class:"mt-4 flex flex-wrap gap-2"},Pe={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Ue={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},Re={key:2,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},Ee={key:3,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},qe={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},He={class:"overflow-x-auto"},Ye={class:"min-w-full divide-y divide-gray-300"},Qe={class:"bg-gray-50"},Ge={key:0,scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Je={class:"bg-white divide-y divide-gray-200"},Ke={key:0,class:"px-6 py-4 whitespace-nowrap"},We={class:"flex items-center"},Xe={class:"flex-shrink-0 h-8 w-8"},Ze={class:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center"},et={class:"text-sm font-medium text-blue-700"},tt={class:"ml-4"},st={class:"text-sm font-medium text-gray-900"},ot={class:"text-sm text-gray-500"},lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},at={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},it={class:"px-6 py-4 whitespace-nowrap"},ut={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},dt={class:"flex items-center justify-end space-x-2"},ct=["onClick"],mt={key:1,class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},ft={class:"flex-1 flex justify-between sm:hidden"},pt={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},xt={class:"text-sm text-gray-700"},gt={class:"font-medium"},yt={class:"font-medium"},vt={class:"font-medium"},bt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Lt={__name:"Index",props:{attendances:{type:Object,required:!0},filters:{type:Object,default:()=>({})},queryParams:{type:Object,default:()=>({})}},setup(a){te(()=>{new URLSearchParams(window.location.search).get("action")==="clock-in"&&se.post("/api/attendance/clock-in").then(()=>{window.location.href=route("dashboard")})});const k=a,{hasAnyRole:b,user:z}=fe(),x=T(!0),$=T(!1),_=T(!1),j=T(null),r=T({employee_id:k.queryParams.employee_id||"",status:k.queryParams.status||"",date_from:k.queryParams.date_from||"",date_to:k.queryParams.date_to||"",search:k.queryParams.search||""}),C=F(()=>b(["Admin","HR"])),U=F(()=>k.filters.employees||[]),D=F(()=>r.value.employee_id||r.value.status||r.value.date_from||r.value.date_to||r.value.search),H=F(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Attendance Management",current:!0}]),Y=F(()=>[]),M=s=>{if(!s)return"N/A";try{const[t,o,y]=s.split("-").map(Number),v=new Date(t,o-1,y);return isNaN(v.getTime())?"N/A":v.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(t){return console.error("Error formatting date:",t),"N/A"}},R=s=>{if(!s||s==="Invalid Date")return"-";try{let t;if(s.includes("T"))t=new Date(s);else if(s.includes(":"))t=new Date(`2000-01-01 ${s}`);else return"-";return isNaN(t.getTime())?"-":t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}catch{return"-"}},u=s=>{if(!s.clock_in||!s.clock_out)return"-";try{let t,o;if(s.clock_in.includes("T")?t=new Date(s.clock_in):t=new Date(`${s.date} ${s.clock_in}`),s.clock_out.includes("T")?o=new Date(s.clock_out):o=new Date(`${s.date} ${s.clock_out}`),isNaN(t.getTime())||isNaN(o.getTime()))return"-";const y=o-t;if(y<0)return"-";const v=Math.floor(y/(1e3*60*60)),S=Math.floor(y%(1e3*60*60)/(1e3*60));return`${v}h ${S}m`}catch{return"-"}},l=s=>({clocked_in:"Clocked In",clocked_out:"Clocked Out",on_break:"On Break"})[s]||s||"N/A",m=s=>({clocked_in:"bg-green-100 text-green-800",clocked_out:"bg-blue-100 text-blue-800",on_break:"bg-yellow-100 text-yellow-800"})[s]||"bg-gray-100 text-gray-800",g=s=>s?s.split(" ").map(t=>t[0]).join("").toUpperCase().substring(0,2):"--",O=s=>{const t=U.value.find(o=>o.id==s);return t?t.name:"Unknown"},f=()=>{const s={...r.value};Object.keys(s).forEach(t=>{(s[t]===null||s[t]==="")&&delete s[t]}),$.value=!0,ee.get(route("attendances.index"),s,{preserveState:!0,preserveScroll:!0,onFinish:()=>{$.value=!1}})},B=de.debounce(f,300),E=s=>{r.value[s]="",f()},oe=()=>{r.value={employee_id:"",status:"",date_from:"",date_to:"",search:""},f()},le=s=>{var S,I,V,Q,K,W;const t=((I=(S=s.employee)==null?void 0:S.user)==null?void 0:I.id)===((V=z.value)==null?void 0:V.id),o=C.value||t,y=!s.clock_out||s.clock_out===null||s.clock_out==="-",v=s.status==="clocked_in"||s.status==="on_break";return console.log("Manual clock out check:",{attendanceId:s.id,employeeUserId:(K=(Q=s.employee)==null?void 0:Q.user)==null?void 0:K.id,currentUserId:(W=z.value)==null?void 0:W.id,isOwnAttendance:t,isAdminOrHR:C.value,canAccess:o,status:s.status,clockOut:s.clock_out,hasNoClockOut:y,isActiveStatus:v,finalResult:o&&v&&y}),o&&v&&y},re=s=>{j.value=s,_.value=!0},ne=()=>{_.value=!1,j.value=null},ae=s=>{ee.reload({preserveState:!0,preserveScroll:!0,onSuccess:()=>{alert(s.message||"Manual clock out completed successfully")}})};return(s,t)=>(n(),A(ce,null,{default:h(()=>[G(me,{title:"Time Tracking",subtitle:"View and manage attendance records",breadcrumbs:H.value,actions:Y.value},{default:h(()=>[e("div",$e,[e("div",Se,[e("div",Le,[t[13]||(t[13]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Attendance Records"),e("p",{class:"mt-1 text-sm text-gray-600"}," View and manage attendance records. ")],-1)),e("div",Ne,[e("div",je,[t[11]||(t[11]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),N(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r.value.search=o),type:"text",placeholder:"Search by employee name or notes...",class:"block w-80 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onInput:t[1]||(t[1]=(...o)=>w(B)&&w(B)(...o))},null,544),[[P,r.value.search]])]),e("button",{onClick:t[2]||(t[2]=o=>x.value=!x.value),class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[t[12]||(t[12]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})],-1)),p(" "+i(x.value?"Hide Filters":"Show Filters"),1)])])]),x.value?(n(),d("div",Be,[e("div",Fe,[C.value?(n(),d("div",ze,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Employee",-1)),N(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>r.value.employee_id=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:f},[t[14]||(t[14]=e("option",{value:""},"All employees",-1)),(n(!0),d(q,null,J(U.value,o=>(n(),d("option",{key:o.id,value:o.id},i(o.name),9,Ie))),128))],544),[[X,r.value.employee_id]])])):c("",!0),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),N(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>r.value.status=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:f},t[16]||(t[16]=[e("option",{value:""},"All statuses",-1),e("option",{value:"clocked_in"},"Clocked In",-1),e("option",{value:"clocked_out"},"Clocked Out",-1),e("option",{value:"on_break"},"On Break",-1)]),544),[[X,r.value.status]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date From",-1)),N(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>r.value.date_from=o),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:f},null,544),[[P,r.value.date_from]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date To",-1)),N(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>r.value.date_to=o),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onChange:f},null,544),[[P,r.value.date_to]])])]),D.value?(n(),d("div",Ve,[t[24]||(t[24]=e("span",{class:"text-sm font-medium text-gray-700"},"Active filters:",-1)),r.value.employee_id?(n(),d("span",Pe,[p(" Employee: "+i(O(r.value.employee_id))+" ",1),e("button",{onClick:t[7]||(t[7]=o=>E("employee_id")),class:"ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500 focus:outline-none"},t[20]||(t[20]=[e("span",{class:"sr-only"},"Remove employee filter",-1),e("svg",{class:"w-2 h-2",fill:"currentColor",viewBox:"0 0 8 8"},[e("path",{d:"M4 3.293l2.146-2.147a.5.5 0 01.708.708L4.707 4l2.147 2.146a.5.5 0 01-.708.708L4 4.707l-2.146 2.147a.5.5 0 01-.708-.708L3.293 4 1.146 1.854a.5.5 0 01.708-.708L4 3.293z"})],-1)]))])):c("",!0),r.value.status?(n(),d("span",Ue,[p(" Status: "+i(l(r.value.status))+" ",1),e("button",{onClick:t[8]||(t[8]=o=>E("status")),class:"ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-green-400 hover:bg-green-200 hover:text-green-500 focus:outline-none"},t[21]||(t[21]=[e("span",{class:"sr-only"},"Remove status filter",-1),e("svg",{class:"w-2 h-2",fill:"currentColor",viewBox:"0 0 8 8"},[e("path",{d:"M4 3.293l2.146-2.147a.5.5 0 01.708.708L4.707 4l2.147 2.146a.5.5 0 01-.708.708L4 4.707l-2.146 2.147a.5.5 0 01-.708-.708L3.293 4 1.146 1.854a.5.5 0 01.708-.708L4 3.293z"})],-1)]))])):c("",!0),r.value.date_from?(n(),d("span",Re,[p(" From: "+i(M(r.value.date_from))+" ",1),e("button",{onClick:t[9]||(t[9]=o=>E("date_from")),class:"ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-purple-400 hover:bg-purple-200 hover:text-purple-500 focus:outline-none"},t[22]||(t[22]=[e("span",{class:"sr-only"},"Remove date from filter",-1),e("svg",{class:"w-2 h-2",fill:"currentColor",viewBox:"0 0 8 8"},[e("path",{d:"M4 3.293l2.146-2.147a.5.5 0 01.708.708L4.707 4l2.147 2.146a.5.5 0 01-.708.708L4 4.707l-2.146 2.147a.5.5 0 01-.708-.708L3.293 4 1.146 1.854a.5.5 0 01.708-.708L4 3.293z"})],-1)]))])):c("",!0),r.value.date_to?(n(),d("span",Ee,[p(" To: "+i(M(r.value.date_to))+" ",1),e("button",{onClick:t[10]||(t[10]=o=>E("date_to")),class:"ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-purple-400 hover:bg-purple-200 hover:text-purple-500 focus:outline-none"},t[23]||(t[23]=[e("span",{class:"sr-only"},"Remove date to filter",-1),e("svg",{class:"w-2 h-2",fill:"currentColor",viewBox:"0 0 8 8"},[e("path",{d:"M4 3.293l2.146-2.147a.5.5 0 01.708.708L4.707 4l2.147 2.146a.5.5 0 01-.708.708L4 4.707l-2.146 2.147a.5.5 0 01-.708-.708L3.293 4 1.146 1.854a.5.5 0 01.708-.708L4 3.293z"})],-1)]))])):c("",!0),e("button",{onClick:oe,class:"text-sm text-blue-600 hover:text-blue-800"}," Clear all ")])):c("",!0)])):c("",!0),e("div",qe,[e("div",He,[e("table",Ye,[e("thead",Qe,[e("tr",null,[C.value?(n(),d("th",Ge," Employee ")):c("",!0),t[25]||(t[25]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date ",-1)),t[26]||(t[26]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Clock In ",-1)),t[27]||(t[27]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Clock Out ",-1)),t[28]||(t[28]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Duration ",-1)),t[29]||(t[29]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status ",-1)),t[30]||(t[30]=e("th",{scope:"col",class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Actions")],-1))])]),e("tbody",Je,[(n(!0),d(q,null,J(a.attendances.data,o=>{var y,v,S,I,V;return n(),d("tr",{key:o.id,class:"hover:bg-gray-50"},[C.value?(n(),d("td",Ke,[e("div",We,[e("div",Xe,[e("div",Ze,[e("span",et,i(g((v=(y=o.employee)==null?void 0:y.user)==null?void 0:v.name)),1)])]),e("div",tt,[e("div",st,i(((I=(S=o.employee)==null?void 0:S.user)==null?void 0:I.name)||"N/A"),1),e("div",ot,i(((V=o.employee)==null?void 0:V.employee_code)||""),1)])])])):c("",!0),e("td",lt,i(M(o.date)),1),e("td",rt,i(R(o.clock_in)),1),e("td",nt,i(R(o.clock_out)),1),e("td",at,i(o.work_duration_formatted||u(o)),1),e("td",it,[e("span",{class:Z([m(o.status),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},i(l(o.status)),3)]),e("td",ut,[e("div",dt,[G(w(L),{href:s.route("attendances.show",o.id),class:"text-blue-600 hover:text-blue-900"},{default:h(()=>t[31]||(t[31]=[p(" View ")])),_:2,__:[31]},1032,["href"]),C.value?(n(),A(w(L),{key:0,href:s.route("attendances.edit",o.id),class:"text-indigo-600 hover:text-indigo-900"},{default:h(()=>t[32]||(t[32]=[p(" Edit ")])),_:2,__:[32]},1032,["href"])):c("",!0),le(o)?(n(),d("button",{key:1,onClick:Q=>re(o),class:"text-orange-600 hover:text-orange-900"}," Clock Out ",8,ct)):c("",!0)])])])}),128))])])])]),a.attendances.data.length>0?(n(),d("div",mt,[e("div",ft,[a.attendances.prev_page_url?(n(),A(w(L),{key:0,href:a.attendances.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:h(()=>t[33]||(t[33]=[p(" Previous ")])),_:1,__:[33]},8,["href"])):c("",!0),a.attendances.next_page_url?(n(),A(w(L),{key:1,href:a.attendances.next_page_url,class:"relative ml-3 inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:h(()=>t[34]||(t[34]=[p(" Next ")])),_:1,__:[34]},8,["href"])):c("",!0)]),e("div",pt,[e("div",null,[e("p",xt,[t[35]||(t[35]=p(" Showing ")),e("span",gt,i(a.attendances.from),1),t[36]||(t[36]=p(" to ")),e("span",yt,i(a.attendances.to),1),t[37]||(t[37]=p(" of ")),e("span",vt,i(a.attendances.total),1),t[38]||(t[38]=p(" results "))])]),e("div",null,[e("nav",bt,[a.attendances.prev_page_url?(n(),A(w(L),{key:0,href:a.attendances.prev_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:h(()=>t[39]||(t[39]=[e("span",{class:"sr-only"},"Previous",-1),e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1)])),_:1,__:[39]},8,["href"])):c("",!0),(n(!0),d(q,null,J(a.attendances.links,o=>(n(),d(q,{key:o.label},[o.url&&!o.label.includes("Previous")&&!o.label.includes("Next")?(n(),A(w(L),{key:0,href:o.url,class:Z(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",o.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},{default:h(()=>[p(i(o.label),1)]),_:2},1032,["href","class"])):c("",!0)],64))),128)),a.attendances.next_page_url?(n(),A(w(L),{key:1,href:a.attendances.next_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:h(()=>t[40]||(t[40]=[e("span",{class:"sr-only"},"Next",-1),e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})],-1)])),_:1,__:[40]},8,["href"])):c("",!0)])])])])):c("",!0)])])]),_:1},8,["breadcrumbs","actions"]),G(Te,{show:_.value,attendance:j.value,onClose:ne,onSuccess:ae},null,8,["show","attendance"])]),_:1}))}};export{Lt as default};
