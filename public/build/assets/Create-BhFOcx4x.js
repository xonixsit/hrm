import{x as N,e as G,f as I,g as j,o as n,h,a as e,d as P,w as c,c as o,i as g,n as b,u as i,b as _,t as a,F as p,r as x,v as C,j as V,k as u,l as f,S as M}from"./app-IF_y-zUs.js";import{A as q}from"./AuthenticatedLayout-DmoiRspa.js";import{r as U,a as A,b as E,c as L}from"./icons-zaNFNJAt.js";import"./useAuth-D5M7tl9E.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"px-4 sm:px-6 lg:px-8"},F={class:"-mx-4 mt-8 sm:-mx-0"},T={class:"space-y-12"},W={class:"border-b border-gray-900/10 pb-12"},H={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},O={class:"sm:col-span-4"},J={class:"mt-2"},K={key:0,class:"mt-2 text-sm text-red-600"},Q={class:"sm:col-span-2"},X={class:"mt-2"},Y={key:0,class:"mt-2 text-sm text-red-600"},Z={class:"col-span-full"},ee={class:"mt-2"},te={key:0,class:"mt-2 text-sm text-red-600"},se={class:"sm:col-span-3"},ie={class:"mt-2"},re=["value"],ne={key:0,class:"mt-2 text-sm text-red-600"},oe={class:"sm:col-span-3"},de={class:"mt-2"},ae=["value"],le={key:0,class:"mt-2 text-sm text-red-600"},me={class:"col-span-full"},ce={class:"flex items-center space-x-6"},ge={class:"flex items-center"},ue={class:"flex items-center"},pe={class:"border-b border-gray-900/10 pb-12"},xe={class:"mt-6 space-y-4"},fe={class:"flex-1"},ye=["onUpdate:modelValue","placeholder"],be=["onClick","disabled"],_e={class:"border-b border-gray-900/10 pb-12"},ve={class:"mt-6 space-y-4"},he={class:"flex-shrink-0"},we={class:"w-8 h-8 bg-indigo-100 text-indigo-800 rounded-full flex items-center justify-center text-sm font-medium"},ke={class:"flex-1"},Ce=["onUpdate:modelValue","placeholder"],Ve=["onClick","disabled"],Me=["disabled"],Ue={class:"pb-12"},Ae={class:"flex items-center justify-between"},De={key:0,class:"mt-6 bg-gray-50 border border-gray-200 rounded-lg p-6"},Se={class:"space-y-4"},Re={class:"text-lg font-medium text-gray-900"},$e={class:"mt-2 flex items-center space-x-4"},Be={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Ne={class:"text-sm text-gray-500"},Ge={class:"text-sm text-gray-500"},Ie={key:0},je={class:"text-sm text-gray-700"},Pe={key:1},qe={class:"mt-2 list-disc list-inside text-sm text-gray-700 space-y-1"},Ee={key:2},Le={class:"mt-2 space-y-2"},ze={class:"flex-shrink-0 w-6 h-6 bg-indigo-100 text-indigo-800 rounded-full flex items-center justify-center text-xs font-medium"},Fe={class:"text-sm text-gray-700"},Te={class:"mt-6 flex items-center justify-between"},We={class:"flex items-center gap-x-6"},He=["disabled"],Oe={key:0},Je={key:1},et={__name:"Create",props:{departments:Array,categories:Array,defaultRatingGuidelines:Array},setup(w){const k=w,s=N({name:"",description:"",category:"",weight:1,measurement_indicators:[""],rating_guidelines:k.defaultRatingGuidelines||[{rating:1,description:"Needs significant improvement"},{rating:2,description:"Below expectations"},{rating:3,description:"Meets expectations"},{rating:4,description:"Exceeds expectations"},{rating:5,description:"Outstanding performance"}],department_id:"",role_specific:!1,is_active:!0}),v=G(!1),D=()=>{s.measurement_indicators.push("")},S=d=>{s.measurement_indicators.length>1&&s.measurement_indicators.splice(d,1)},R=()=>{const d=Math.max(...s.rating_guidelines.map(t=>t.rating))+1;d<=5&&s.rating_guidelines.push({rating:d,description:""})},$=d=>{s.rating_guidelines.length>1&&s.rating_guidelines.splice(d,1)},B=()=>{s.measurement_indicators=s.measurement_indicators.filter(d=>d.trim()!==""),s.rating_guidelines.sort((d,t)=>d.rating-t.rating),s.post(route("competencies.store"),{onSuccess:()=>{window.notify&&window.notify.success("Competency created successfully!")},onError:d=>{window.notify&&window.notify.error("Please check the form for errors.")}})},l=I(()=>{var d;return{name:s.name||"Competency Name",description:s.description||"Competency description will appear here...",category:s.category||"Category",weight:s.weight,measurement_indicators:s.measurement_indicators.filter(t=>t.trim()!==""),rating_guidelines:s.rating_guidelines.filter(t=>t.description.trim()!==""),department:((d=k.departments.find(t=>t.id==s.department_id))==null?void 0:d.name)||"All Departments",role_specific:s.role_specific,is_active:s.is_active}});return(d,t)=>(n(),j(q,null,{header:h(()=>t[8]||(t[8]=[f("Create Competency")])),default:h(()=>[e("div",z,[t[31]||(t[31]=e("div",{class:"sm:flex sm:items-center"},[e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-base font-semibold leading-6 text-gray-900"},"Create Competency"),e("p",{class:"mt-2 text-sm text-gray-700"},"Create a new competency for your organization.")])],-1)),e("div",F,[e("form",{onSubmit:P(B,["prevent"])},[e("div",T,[e("div",W,[t[18]||(t[18]=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Basic Information",-1)),t[19]||(t[19]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Define the core details of this competency.",-1)),e("div",H,[e("div",O,[t[9]||(t[9]=e("label",{for:"name",class:"block text-sm font-medium leading-6 text-gray-900"},"Name *",-1)),e("div",J,[c(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>i(s).name=r),id:"name",required:"",class:b(["block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",{"ring-red-500":i(s).errors.name}])},null,2),[[_,i(s).name]]),i(s).errors.name?(n(),o("div",K,a(i(s).errors.name),1)):g("",!0)])]),e("div",Q,[t[10]||(t[10]=e("label",{for:"weight",class:"block text-sm font-medium leading-6 text-gray-900"},"Weight *",-1)),e("div",X,[c(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=r=>i(s).weight=r),id:"weight",step:"0.1",min:"0.1",max:"5.0",required:"",class:b(["block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",{"ring-red-500":i(s).errors.weight}])},null,2),[[_,i(s).weight,void 0,{number:!0}]]),i(s).errors.weight?(n(),o("div",Y,a(i(s).errors.weight),1)):g("",!0)])]),e("div",Z,[t[11]||(t[11]=e("label",{for:"description",class:"block text-sm font-medium leading-6 text-gray-900"},"Description",-1)),e("div",ee,[c(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=r=>i(s).description=r),id:"description",rows:"3",class:b(["block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",{"ring-red-500":i(s).errors.description}])},null,2),[[_,i(s).description]]),i(s).errors.description?(n(),o("div",te,a(i(s).errors.description),1)):g("",!0)])]),e("div",se,[t[13]||(t[13]=e("label",{for:"category",class:"block text-sm font-medium leading-6 text-gray-900"},"Category *",-1)),e("div",ie,[c(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>i(s).category=r),id:"category",required:"",class:b(["block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",{"ring-red-500":i(s).errors.category}])},[t[12]||(t[12]=e("option",{value:""},"Select a category",-1)),(n(!0),o(p,null,x(w.categories,r=>(n(),o("option",{key:r,value:r},a(r),9,re))),128))],2),[[C,i(s).category]]),i(s).errors.category?(n(),o("div",ne,a(i(s).errors.category),1)):g("",!0)])]),e("div",oe,[t[15]||(t[15]=e("label",{for:"department_id",class:"block text-sm font-medium leading-6 text-gray-900"},"Department",-1)),e("div",de,[c(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>i(s).department_id=r),id:"department_id",class:b(["block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",{"ring-red-500":i(s).errors.department_id}])},[t[14]||(t[14]=e("option",{value:""},"All Departments",-1)),(n(!0),o(p,null,x(w.departments,r=>(n(),o("option",{key:r.id,value:r.id},a(r.name),9,ae))),128))],2),[[C,i(s).department_id]]),i(s).errors.department_id?(n(),o("div",le,a(i(s).errors.department_id),1)):g("",!0)])]),e("div",me,[e("div",ce,[e("div",ge,[c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>i(s).role_specific=r),id:"role_specific",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,512),[[V,i(s).role_specific]]),t[16]||(t[16]=e("label",{for:"role_specific",class:"ml-2 block text-sm text-gray-900"},"Role Specific",-1))]),e("div",ue,[c(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>i(s).is_active=r),id:"is_active",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,512),[[V,i(s).is_active]]),t[17]||(t[17]=e("label",{for:"is_active",class:"ml-2 block text-sm text-gray-900"},"Active",-1))])])])])]),e("div",pe,[t[21]||(t[21]=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Measurement Indicators",-1)),t[22]||(t[22]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Define specific indicators that will be used to measure this competency.",-1)),e("div",xe,[(n(!0),o(p,null,x(i(s).measurement_indicators,(r,m)=>(n(),o("div",{key:m,class:"flex items-center space-x-3"},[e("div",fe,[c(e("input",{type:"text","onUpdate:modelValue":y=>i(s).measurement_indicators[m]=y,placeholder:`Measurement indicator ${m+1}`,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ye),[[_,i(s).measurement_indicators[m]]])]),e("button",{type:"button",onClick:y=>S(m),disabled:i(s).measurement_indicators.length===1,class:"inline-flex items-center p-1 text-red-600 hover:text-red-800 disabled:text-gray-400 disabled:cursor-not-allowed"},[u(i(U),{class:"h-4 w-4"})],8,be)]))),128)),e("button",{type:"button",onClick:D,class:"inline-flex items-center px-3 py-2 text-sm font-medium text-indigo-600 bg-white border border-indigo-300 rounded-md hover:bg-indigo-50"},[u(i(A),{class:"h-4 w-4 mr-2"}),t[20]||(t[20]=f(" Add Indicator "))])])]),e("div",_e,[t[24]||(t[24]=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Rating Guidelines",-1)),t[25]||(t[25]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Define what each rating level means for this competency.",-1)),e("div",ve,[(n(!0),o(p,null,x(i(s).rating_guidelines,(r,m)=>(n(),o("div",{key:m,class:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg"},[e("div",he,[e("div",we,a(r.rating),1)]),e("div",ke,[c(e("textarea",{"onUpdate:modelValue":y=>i(s).rating_guidelines[m].description=y,placeholder:`Description for rating ${r.rating}`,rows:"2",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ce),[[_,i(s).rating_guidelines[m].description]])]),e("button",{type:"button",onClick:y=>$(m),disabled:i(s).rating_guidelines.length===1,class:"inline-flex items-center p-1 text-red-600 hover:text-red-800 disabled:text-gray-400 disabled:cursor-not-allowed"},[u(i(U),{class:"h-4 w-4"})],8,Ve)]))),128)),e("button",{type:"button",onClick:R,disabled:i(s).rating_guidelines.length>=5,class:"inline-flex items-center px-3 py-2 text-sm font-medium text-indigo-600 bg-white border border-indigo-300 rounded-md hover:bg-indigo-50 disabled:text-gray-400 disabled:border-gray-300 disabled:cursor-not-allowed"},[u(i(A),{class:"h-4 w-4 mr-2"}),t[23]||(t[23]=f(" Add Rating Level "))],8,Me)])]),e("div",Ue,[e("div",Ae,[t[26]||(t[26]=e("div",null,[e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Preview"),e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"See how this competency will appear to users.")],-1)),e("button",{type:"button",onClick:t[7]||(t[7]=r=>v.value=!v.value),class:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},[u(i(E),{class:"h-4 w-4 mr-2"}),f(" "+a(v.value?"Hide":"Show")+" Preview ",1)])]),v.value?(n(),o("div",De,[e("div",Se,[e("div",null,[e("h3",Re,a(l.value.name),1),e("div",$e,[e("span",Be,a(l.value.category),1),e("span",Ne,"Weight: "+a(l.value.weight),1),e("span",Ge,a(l.value.department),1)])]),l.value.description?(n(),o("div",Ie,[e("p",je,a(l.value.description),1)])):g("",!0),l.value.measurement_indicators.length>0?(n(),o("div",Pe,[t[27]||(t[27]=e("h4",{class:"text-sm font-medium text-gray-900"},"Measurement Indicators:",-1)),e("ul",qe,[(n(!0),o(p,null,x(l.value.measurement_indicators,r=>(n(),o("li",{key:r},a(r),1))),128))])])):g("",!0),l.value.rating_guidelines.length>0?(n(),o("div",Ee,[t[28]||(t[28]=e("h4",{class:"text-sm font-medium text-gray-900"},"Rating Guidelines:",-1)),e("div",Le,[(n(!0),o(p,null,x(l.value.rating_guidelines,r=>(n(),o("div",{key:r.rating,class:"flex items-start space-x-3"},[e("div",ze,a(r.rating),1),e("p",Fe,a(r.description),1)]))),128))])])):g("",!0)])])):g("",!0)])]),e("div",Te,[u(i(M),{href:d.route("competencies.index"),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},{default:h(()=>[u(i(L),{class:"h-4 w-4 mr-2"}),t[29]||(t[29]=f(" Back to Competencies "))]),_:1,__:[29]},8,["href"]),e("div",We,[u(i(M),{href:d.route("competencies.index"),class:"text-sm font-semibold leading-6 text-gray-900 hover:text-gray-700"},{default:h(()=>t[30]||(t[30]=[f(" Cancel ")])),_:1,__:[30]},8,["href"]),e("button",{type:"submit",disabled:i(s).processing,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed"},[i(s).processing?(n(),o("span",Oe,"Creating...")):(n(),o("span",Je,"Create Competency"))],8,He)])])],32)])])]),_:1}))}};export{et as default};
