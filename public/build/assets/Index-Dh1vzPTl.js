import{f,e as m,y as ye,z as be,Q as F,B as he,g as C,o as r,h as g,k as R,a as e,c as d,i as c,u as x,S as p,l as u,w as P,b as Y,F as y,r as b,n as j,t as a,j as we,q,D as ke}from"./app-q2kIxUnh.js";import{l as _e}from"./lodash-B964NCb_.js";import{A as Ce}from"./AuthenticatedLayout-DN-JR91X.js";import{P as Me}from"./PageLayout-vj8JKpMA.js";import{B as Se}from"./BaseSelect-Du61BS1u.js";import{u as De}from"./useAuth-Bl6QYVqa.js";import"./icons-B4562BzG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-CO5ze_5h.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-CooZhwGN.js";import"./PageHeader-BA2Hs00f.js";import"./Icon-JVRnQCsX.js";/* empty css                                                                   *//* empty css                                                                   */const Re={class:"space-y-6"},je={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6"},ze={class:"space-y-4"},Le={class:"flex items-center justify-between"},Ve={class:"space-y-4"},Ae={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Fe={class:"flex items-center gap-2"},Be={class:"flex flex-wrap items-center bg-gray-100 rounded-lg p-1 gap-1"},Ee=["onClick"],Pe={class:"text-sm"},Te={class:"hidden sm:inline"},$e={class:"sm:hidden"},He={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Ne={class:"flex items-center bg-gray-100 rounded-lg p-1 w-full"},Ue={key:0,class:"mt-4 pt-4 border-t border-gray-200"},Oe={class:"flex flex-wrap items-center gap-2"},Ie={key:0,class:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},We={key:1,class:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},Ye={key:0,class:"space-y-6"},qe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Qe={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},Ge=["value"],Je={class:"text-sm font-medium text-gray-700"},Ke={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Xe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Ze={class:"space-y-4"},et={class:"text-sm font-medium text-gray-700"},tt={class:"flex items-center space-x-3"},st={class:"text-sm font-semibold text-gray-900"},lt={class:"w-32 bg-gray-200 rounded-full h-2"},ot={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},rt={class:"space-y-4"},at={class:"text-sm font-medium text-gray-700"},nt={class:"flex items-center space-x-3"},it={class:"text-sm font-semibold text-gray-900"},dt={class:"w-32 bg-gray-200 rounded-full h-2"},ut={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},ct={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},mt={class:"flex items-center justify-between"},ft={class:"text-3xl font-bold text-gray-900"},gt={class:"text-sm text-gray-500 mt-1"},vt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},xt={class:"flex items-center justify-between"},pt={class:"text-3xl font-bold text-gray-900"},yt={class:"text-sm text-gray-500 mt-1"},bt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ht={class:"flex items-center justify-between"},wt={class:"text-3xl font-bold text-gray-900"},kt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},_t={class:"flex items-center justify-between"},Ct={class:"text-3xl font-bold text-gray-900"},Mt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},St={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Dt={class:"flex items-center justify-between mb-4"},Rt={class:"text-sm text-gray-500"},jt={key:0,class:"space-y-4"},zt={class:"flex items-center justify-between"},Lt={class:"flex items-center"},Vt={class:"text-sm font-semibold text-gray-900 mr-2"},At={class:"flex items-center justify-between"},Ft={class:"flex items-center"},Bt={class:"text-sm font-semibold text-gray-900 mr-2"},Et={class:"flex items-center justify-between"},Pt={class:"flex items-center"},Tt={class:"text-sm font-semibold text-gray-900 mr-2"},$t={class:"flex items-center justify-between"},Ht={class:"flex items-center"},Nt={class:"text-sm font-semibold text-gray-900 mr-2"},Ut={key:1,class:"text-center py-8"},Ot={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},It={class:"flex items-center justify-between mb-4"},Wt={class:"text-sm text-gray-500"},Yt={key:0,class:"space-y-4"},qt={class:"flex items-center justify-between"},Qt={class:"flex items-center"},Gt={class:"text-sm font-semibold text-gray-900 mr-2"},Jt={class:"flex items-center justify-between"},Kt={class:"flex items-center"},Xt={class:"text-sm font-semibold text-gray-900 mr-2"},Zt={class:"flex items-center justify-between"},es={class:"flex items-center"},ts={class:"text-sm font-semibold text-gray-900 mr-2"},ss={class:"flex items-center justify-between"},ls={class:"flex items-center"},os={class:"text-sm font-semibold text-gray-900 mr-2"},rs={key:1,class:"text-center py-8"},as={class:"bg-white rounded-lg shadow-sm border border-gray-200"},ns={class:"px-6 py-4 border-b border-gray-200"},is={class:"flex items-center justify-between"},ds={key:0},us={key:0,class:"divide-y divide-gray-200"},cs={class:"flex items-center justify-between"},ms={class:"flex-1"},fs={class:"flex items-center justify-between mb-2"},gs={class:"text-sm font-medium text-gray-900"},vs={key:0,class:"text-gray-500"},xs={class:"flex items-center space-x-4 text-sm text-gray-500"},ps={class:"flex items-center space-x-6 text-sm text-gray-600"},ys={class:"flex items-center"},bs={class:"flex items-center"},hs={class:"flex items-center"},ws={class:"ml-4 flex items-center space-x-2"},ks={key:1,class:"overflow-x-auto"},_s={class:"min-w-full divide-y divide-gray-300"},Cs={class:"bg-gray-50"},Ms={class:"bg-white divide-y divide-gray-200"},Ss={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ds={class:"flex items-center justify-end"},Rs=["onClick"],js={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10"},zs=["onClick"],Ls={key:2,class:"px-6 py-4 border-t border-gray-200"},Vs={class:"flex items-center justify-between"},As={class:"flex-1 flex justify-between sm:hidden"},Fs={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Bs={class:"text-sm text-gray-700"},Es={class:"font-medium"},Ps={class:"font-medium"},Ts={class:"font-medium"},$s={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Hs={key:1,class:"text-center py-12"},Ns={class:"mt-1 text-sm text-gray-500"},Us={key:0,class:"mt-6"},ol={__name:"Index",props:{workReports:Object,employees:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},performanceStats:{type:Object,default:()=>null},employeePerformanceList:{type:Array,default:()=>[]}},setup(n){const v=n,Q=f(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Work Reports",href:route("work-reports.index"),current:!0}]),{hasAnyRole:z,hasRole:G,roles:J,user:K,isAuthenticated:X}=De(),M=m(!1);m(!1);const V=m(!1),h=m("individual"),_=m([]),S=m([]),Z=m([]),A=f(()=>z(["Employee","Manager","Admin","HR"])),L=m(null),T=m({}),o=m({search:v.filters.search||"",user_id:v.filters.user_id||"",date_from:v.filters.date_from||"",date_to:v.filters.date_to||""}),B=f(()=>[{value:"",label:"All employees"},...v.employees.map(l=>({value:l.value,label:l.label}))]),$=f(()=>o.value.search&&o.value.search.trim()||o.value.user_id||o.value.date_from||o.value.date_to);f(()=>{let l=0;return o.value.search&&o.value.search.trim()&&l++,o.value.user_id&&l++,o.value.date_from&&l++,o.value.date_to&&l++,l});const H=f(()=>{if(!o.value.user_id)return null;const l=B.value.find(t=>t.value===o.value.user_id);return!l||l.value===""?null:l.label});f(()=>datePresets.filter(l=>l.category==="primary")),f(()=>datePresets.filter(l=>l.category==="secondary"));const ee=m(!1);m(null);const w=()=>{M.value=!0;const l={page:1,per_page:v.workReports.per_page||10};o.value.search&&o.value.search.trim()&&(l.search=o.value.search.trim()),o.value.user_id&&(l.user_id=o.value.user_id),o.value.date_from&&(l.date_from=o.value.date_from),o.value.date_to&&(l.date_to=o.value.date_to),console.log("Applying filters with params:",l),console.log("Current localFilters:",o.value),F.get(route("work-reports.index"),l,{preserveState:!1,preserveScroll:!0,onFinish:()=>{M.value=!1,console.log("Filter request completed")},onError:t=>{console.error("Filter error:",t),M.value=!1}})},te=()=>{o.value.user_id="",w()},se=()=>{o.value={search:"",user_id:"",date_from:"",date_to:""},w()},le=[{key:"recent",label:"Recent",icon:"âš¡",calculate:()=>{const l=new Date,t=new Date;return t.setDate(l.getDate()-7),{start:t,end:l}}},{key:"week",label:"This Week",icon:"ðŸ“Š",calculate:()=>{const l=new Date,t=new Date(l),s=new Date(l),i=l.getDay(),k=i===0?6:i-1;return t.setDate(l.getDate()-k),t.setHours(0,0,0,0),s.setDate(t.getDate()+6),s.setHours(23,59,59,999),{start:t,end:s}}},{key:"month",label:"This Month",icon:"ðŸ“…",calculate:()=>{const l=new Date,t=new Date(l.getFullYear(),l.getMonth(),1),s=new Date(l.getFullYear(),l.getMonth()+1,0);return{start:t,end:s}}},{key:"year",label:"This Year",icon:"ðŸ—“ï¸",calculate:()=>{const l=new Date,t=new Date(l.getFullYear(),0,1),s=new Date(l.getFullYear(),11,31);return{start:t,end:s}}}],N=m("recent"),oe=l=>{N.value=l.key;const{start:t,end:s}=l.calculate(),i=t.toISOString().split("T")[0],k=s.toISOString().split("T")[0];console.log(`Selected period: ${l.label}`,{key:l.key,dateFrom:i,dateTo:k,start:t,end:s,currentFilters:o.value}),o.value.date_from=i,o.value.date_to=k,console.log("Updated filters:",o.value),ke(()=>{w()})},re=()=>{o.value.date_from="",o.value.date_to="",w()},E=()=>!o.value.date_from&&!o.value.date_to?"":o.value.date_from&&o.value.date_to?o.value.date_from===o.value.date_to?D(o.value.date_from):`${D(o.value.date_from)} - ${D(o.value.date_to)}`:o.value.date_from?`From ${D(o.value.date_from)}`:o.value.date_to?`Until ${D(o.value.date_to)}`:"",ae=()=>{V.value=!V.value},ne=l=>{const t=l.calls||0,s=l.successful_calls||0;return t===0?0:Math.round(s/t*100)},ie=async()=>{if(_.value.length===0){S.value=[];return}S.value=_.value.map(l=>{var s;const t=v.employees.find(i=>i.value===l);return{id:l,name:((s=t==null?void 0:t.label)==null?void 0:s.split(" (")[0])||"Unknown",total_calls:Math.floor(Math.random()*100)+20,success_rate:Math.floor(Math.random()*40)+60,emails:Math.floor(Math.random()*50)+10,whatsapp:Math.floor(Math.random()*30)+5}})},de=()=>{Z.value=v.employeePerformanceList||[]};ye(h,l=>{l==="comparison"&&(_.value=[],S.value=[])}),_e.debounce(w,300);const U=()=>{if(o.value.date_from&&o.value.date_to&&o.value.date_from>o.value.date_to){const l=o.value.date_from;o.value.date_from=o.value.date_to,o.value.date_to=l}},ue=()=>{U(),w()},ce=()=>{U(),w()},D=l=>l?new Date(l).toLocaleDateString():"",me=(l,t)=>{l&&(T.value[t]=l)},fe=l=>{L.value===l?L.value=null:L.value=l},O=l=>{Object.values(T.value).some(i=>i&&i.contains(l.target))||(L.value=null);const s=l.target.closest(".relative");(!s||!s.querySelector('[class*="showMorePresets"]'))&&(ee.value=!1)};be(()=>{document.addEventListener("click",O),z(["Admin","Manager","HR"])&&v.employees.length>0&&de(),console.log("canCreate:",A.value),console.log("User roles:",J.value),console.log("Is authenticated:",X.value),console.log("User object:",K.value),console.log("Has Employee role:",G("Employee")),console.log("Has any role check:",z(["Employee","Manager","Admin","HR"])),console.log("Employees data:",v.employees),console.log("Employee options:",B.value),console.log("Current filters:",v.filters),console.log("Local filters:",o.value),console.log("Testing route helper...");try{typeof route<"u"?console.log("Route helper available:",route("work-reports.index")):console.warn("Route helper not available - using fallback URLs")}catch(l){console.error("Route helper error:",l)}});const ge=f(()=>A.value?[{id:"create",label:"Submit New Report",variant:"primary",icon:"plus",handler:()=>F.visit("/work-reports/create")}]:[]),I=f(()=>{const l=[{key:"date",label:"Date",sortable:!0,formatter:t=>{if(!t)return"";const[s,i,k]=t.split("-");return new Date(s,i-1,k).toLocaleDateString()}},{key:"calls",label:"Total Calls",sortable:!0,formatter:t=>t||0},{key:"successful_calls",label:"Successful",sortable:!0,formatter:t=>t||0},{key:"calls_not_received",label:"Not Received",sortable:!0,formatter:t=>t||0},{key:"disconnected_calls",label:"Disconnected",sortable:!0,formatter:t=>t||0},{key:"follow_up_calls",label:"Follow-up",sortable:!0,formatter:t=>t||0},{key:"emails",label:"Emails",sortable:!0,formatter:t=>t||0},{key:"whatsapp",label:"WhatsApp",sortable:!0,formatter:t=>t||0},{key:"sms",label:"SMS",sortable:!0,formatter:t=>t||0}];return z(["Admin","Manager"])&&l.splice(1,0,{key:"employee",label:"Employee",sortable:!0,formatter:t=>{var s;return((s=t==null?void 0:t.user)==null?void 0:s.name)||"Unavailable"}}),l}),ve=f(()=>{const l=new URLSearchParams;o.value.date_from&&l.append("date_from",o.value.date_from),o.value.date_to&&l.append("date_to",o.value.date_to);const t=l.toString();return`/work-reports/leaderboard${t?"?"+t:""}`});f(()=>({title:"No work reports found",description:"There are no work reports to display. Submit your first report to get started.",icon:"document-text",actions:A.value?[{id:"create",label:"Submit New Report",variant:"primary",icon:"plus",handler:()=>F.visit("/work-reports/create")}]:[]}));const xe=l=>{const s=`Are you sure you want to delete the work report for ${(i=>{if(!i)return"Unknown Date";const[k,W,pe]=i.split("-");return new Date(k,W-1,pe).toLocaleDateString()})(l.date)}?

This action cannot be undone.`;confirm(s)&&(M.value=!0,F.delete(`/work-reports/${l.id}`,{onSuccess:()=>{M.value=!1},onError:i=>{M.value=!1,console.error("Delete failed:",i),alert("Failed to delete work report. Please try again.")}}))};return he(()=>{document.removeEventListener("click",O)}),(l,t)=>(r(),C(Ce,null,{default:g(()=>[R(Me,{title:"Performance Analytics",subtitle:"Track and analyze employee performance metrics",breadcrumbs:Q.value,actions:ge.value},{default:g(()=>[e("div",Re,[e("div",je,[e("div",ze,[e("div",Le,[t[7]||(t[7]=e("h3",{class:"text-sm font-semibold text-gray-900 uppercase tracking-wide"},"Filter Data",-1)),n.employees.length>0?(r(),C(x(p),{key:0,href:ve.value,class:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg hover:from-yellow-600 hover:to-orange-600 transition-all duration-200 shadow-sm hover:shadow-md font-medium text-sm"},{default:g(()=>t[6]||(t[6]=[u(" ðŸ† View Leaderboard ")])),_:1,__:[6]},8,["href"])):c("",!0)]),e("div",Ve,[e("div",Ae,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date Range",-1)),e("div",Fe,[P(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.value.date_from=s),type:"date",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 flex-1 min-w-0",onChange:ue},null,544),[[Y,o.value.date_from]]),t[8]||(t[8]=e("span",{class:"text-gray-400 text-sm px-1"},"to",-1)),P(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.value.date_to=s),type:"date",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 flex-1 min-w-0",onChange:ce},null,544),[[Y,o.value.date_to]])])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Quick Select",-1)),e("div",Be,[(r(),d(y,null,b(le,s=>e("button",{key:s.key,onClick:i=>oe(s),class:j(["flex items-center gap-1 px-2 py-1.5 rounded-md text-xs font-medium transition-colors focus:outline-none whitespace-nowrap flex-shrink-0",N.value===s.key?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"])},[e("span",Pe,a(s.icon),1),e("span",Te,a(s.label),1),e("span",$e,a(s.label.split(" ")[1]||s.label),1)],10,Ee)),64))])])]),n.employees.length>0?(r(),d("div",He,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Employee Filter",-1)),R(Se,{modelValue:o.value.user_id,"onUpdate:modelValue":[t[2]||(t[2]=s=>o.value.user_id=s),w],options:B.value,placeholder:"All employees",class:"w-full"},null,8,["modelValue","options"])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"View Mode",-1)),e("div",Ne,[e("button",{onClick:t[3]||(t[3]=s=>h.value="individual"),class:j([h.value==="individual"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900","flex-1 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 text-center"])}," ðŸ“Š Overview ",2),e("button",{onClick:t[4]||(t[4]=s=>h.value="comparison"),class:j([h.value==="comparison"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900","flex-1 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 text-center"])}," âš–ï¸ Side-by-Side ",2)])])])):c("",!0)])])]),$.value?(r(),d("div",Ue,[e("div",Oe,[t[15]||(t[15]=e("span",{class:"text-sm font-medium text-gray-700"},"Filters:",-1)),H.value?(r(),d("span",Ie,[u(a(H.value)+" ",1),e("button",{onClick:te,class:"ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500 focus:outline-none"},t[13]||(t[13]=[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))])):c("",!0),o.value.date_from||o.value.date_to?(r(),d("span",We,[u(a(E())+" ",1),e("button",{onClick:re,class:"ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-purple-400 hover:bg-purple-200 hover:text-purple-500 focus:outline-none"},t[14]||(t[14]=[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))])):c("",!0),e("button",{onClick:se,class:"text-xs text-blue-600 hover:text-blue-800 font-medium"}," Clear all ")])])):c("",!0)]),h.value==="comparison"&&_.value.length>0?(r(),d("div",Ye,[e("div",qe,[t[16]||(t[16]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Select Employees to Compare",-1)),e("div",Qe,[(r(!0),d(y,null,b(n.employees,s=>(r(),d("label",{key:s.value,class:j(["flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",_.value.includes(s.value)?"bg-blue-50 border-blue-300":""])},[P(e("input",{type:"checkbox",value:s.value,"onUpdate:modelValue":t[5]||(t[5]=i=>_.value=i),onChange:ie,class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,Ge),[[we,_.value]]),e("span",Je,a(s.label),1)],2))),128))])]),e("div",Ke,[e("div",Xe,[t[17]||(t[17]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Calls Comparison",-1)),e("div",Ze,[(r(!0),d(y,null,b(S.value,s=>(r(),d("div",{key:s.id,class:"flex items-center justify-between"},[e("span",et,a(s.name),1),e("div",tt,[e("span",st,a(s.total_calls),1),e("div",lt,[e("div",{class:"bg-blue-500 h-2 rounded-full",style:q({width:`${s.total_calls/Math.max(...S.value.map(i=>i.total_calls))*100}%`})},null,4)])])]))),128))])]),e("div",ot,[t[18]||(t[18]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Success Rate Comparison",-1)),e("div",rt,[(r(!0),d(y,null,b(S.value,s=>(r(),d("div",{key:s.id,class:"flex items-center justify-between"},[e("span",at,a(s.name),1),e("div",nt,[e("span",it,a(s.success_rate)+"%",1),e("div",dt,[e("div",{class:"bg-green-500 h-2 rounded-full",style:q({width:`${s.success_rate}%`})},null,4)])])]))),128))])])])])):c("",!0),n.performanceStats&&(h.value==="individual"||!h.value)?(r(),d("div",ut,[e("div",ct,[e("div",mt,[e("div",null,[t[20]||(t[20]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Calls",-1)),e("p",ft,a(n.performanceStats.total_calls||0),1),e("p",gt,[e("span",{class:j(n.performanceStats.calls_trend>=0?"text-green-600":"text-red-600")},null,2),t[19]||(t[19]=u(" vs previous period "))])]),t[21]||(t[21]=e("div",{class:"p-3 bg-blue-50 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})])],-1))])]),e("div",vt,[e("div",xt,[e("div",null,[t[22]||(t[22]=e("p",{class:"text-sm font-medium text-gray-600"},"Success Rate",-1)),e("p",pt,a(n.performanceStats.success_rate||0)+"%",1),e("p",yt,a(n.performanceStats.successful_calls||0)+" successful calls ",1)]),t[23]||(t[23]=e("div",{class:"p-3 bg-green-50 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",bt,[e("div",ht,[e("div",null,[t[24]||(t[24]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Communications",-1)),e("p",wt,a(n.performanceStats.total_communications||0),1),t[25]||(t[25]=e("p",{class:"text-sm text-gray-500 mt-1"}," Calls, emails, messages ",-1))]),t[26]||(t[26]=e("div",{class:"p-3 bg-purple-50 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1))])]),e("div",kt,[e("div",_t,[e("div",null,[t[27]||(t[27]=e("p",{class:"text-sm font-medium text-gray-600"},"Daily Average",-1)),e("p",Ct,a(n.performanceStats.daily_average||0),1),t[28]||(t[28]=e("p",{class:"text-sm text-gray-500 mt-1"}," Calls per day ",-1))]),t[29]||(t[29]=e("div",{class:"p-3 bg-orange-50 rounded-lg"},[e("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1))])])])):c("",!0),e("div",Mt,[e("div",St,[e("div",Dt,[t[30]||(t[30]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Call Performance Breakdown",-1)),e("div",Rt,a(E()||"All time"),1)]),n.performanceStats&&n.performanceStats.total_calls>0?(r(),d("div",jt,[e("div",zt,[t[32]||(t[32]=e("div",{class:"flex items-center"},[e("div",{class:"w-3 h-3 bg-green-500 rounded-full mr-3"}),e("span",{class:"text-sm font-medium text-gray-700"},"Successful")],-1)),e("div",Lt,[e("span",Vt,a(n.performanceStats.successful_calls||0),1),t[31]||(t[31]=e("div",{class:"w-24 bg-gray-200 rounded-full h-2"},[e("div",{class:"bg-green-500 h-2 rounded-full"})],-1))])]),e("div",At,[t[34]||(t[34]=e("div",{class:"flex items-center"},[e("div",{class:"w-3 h-3 bg-yellow-500 rounded-full mr-3"}),e("span",{class:"text-sm font-medium text-gray-700"},"Not Received")],-1)),e("div",Ft,[e("span",Bt,a(n.performanceStats.calls_not_received||0),1),t[33]||(t[33]=e("div",{class:"w-24 bg-gray-200 rounded-full h-2"},[e("div",{class:"bg-yellow-500 h-2 rounded-full"})],-1))])]),e("div",Et,[t[36]||(t[36]=e("div",{class:"flex items-center"},[e("div",{class:"w-3 h-3 bg-red-500 rounded-full mr-3"}),e("span",{class:"text-sm font-medium text-gray-700"},"Disconnected")],-1)),e("div",Pt,[e("span",Tt,a(n.performanceStats.disconnected_calls||0),1),t[35]||(t[35]=e("div",{class:"w-24 bg-gray-200 rounded-full h-2"},[e("div",{class:"bg-red-500 h-2 rounded-full"})],-1))])]),e("div",$t,[t[38]||(t[38]=e("div",{class:"flex items-center"},[e("div",{class:"w-3 h-3 bg-blue-500 rounded-full mr-3"}),e("span",{class:"text-sm font-medium text-gray-700"},"Follow-up")],-1)),e("div",Ht,[e("span",Nt,a(n.performanceStats.follow_up_calls||0),1),t[37]||(t[37]=e("div",{class:"w-24 bg-gray-200 rounded-full h-2"},[e("div",{class:"bg-blue-500 h-2 rounded-full"})],-1))])])])):(r(),d("div",Ut,t[39]||(t[39]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),e("p",{class:"mt-2 text-sm text-gray-500"},"No call data available",-1)])))]),e("div",Ot,[e("div",It,[t[40]||(t[40]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Communication Channels",-1)),e("div",Wt,a(E()||"All time"),1)]),n.performanceStats&&n.performanceStats.total_communications>0?(r(),d("div",Yt,[e("div",qt,[t[42]||(t[42]=e("div",{class:"flex items-center"},[e("div",{class:"w-3 h-3 bg-blue-500 rounded-full mr-3"}),e("span",{class:"text-sm font-medium text-gray-700"},"Phone Calls")],-1)),e("div",Qt,[e("span",Gt,a(n.performanceStats.total_calls||0),1),t[41]||(t[41]=e("div",{class:"w-24 bg-gray-200 rounded-full h-2"},[e("div",{class:"bg-blue-500 h-2 rounded-full"})],-1))])]),e("div",Jt,[t[44]||(t[44]=e("div",{class:"flex items-center"},[e("div",{class:"w-3 h-3 bg-green-500 rounded-full mr-3"}),e("span",{class:"text-sm font-medium text-gray-700"},"Emails")],-1)),e("div",Kt,[e("span",Xt,a(n.performanceStats.emails||0),1),t[43]||(t[43]=e("div",{class:"w-24 bg-gray-200 rounded-full h-2"},[e("div",{class:"bg-green-500 h-2 rounded-full"})],-1))])]),e("div",Zt,[t[46]||(t[46]=e("div",{class:"flex items-center"},[e("div",{class:"w-3 h-3 bg-green-600 rounded-full mr-3"}),e("span",{class:"text-sm font-medium text-gray-700"},"WhatsApp")],-1)),e("div",es,[e("span",ts,a(n.performanceStats.whatsapp||0),1),t[45]||(t[45]=e("div",{class:"w-24 bg-gray-200 rounded-full h-2"},[e("div",{class:"bg-green-600 h-2 rounded-full"})],-1))])]),e("div",ss,[t[48]||(t[48]=e("div",{class:"flex items-center"},[e("div",{class:"w-3 h-3 bg-purple-500 rounded-full mr-3"}),e("span",{class:"text-sm font-medium text-gray-700"},"SMS")],-1)),e("div",ls,[e("span",os,a(n.performanceStats.sms||0),1),t[47]||(t[47]=e("div",{class:"w-24 bg-gray-200 rounded-full h-2"},[e("div",{class:"bg-purple-500 h-2 rounded-full"})],-1))])])])):(r(),d("div",rs,t[49]||(t[49]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),e("p",{class:"mt-2 text-sm text-gray-500"},"No communication data available",-1)])))])]),e("div",as,[e("div",ns,[e("div",is,[t[50]||(t[50]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Recent Reports",-1)),e("button",{onClick:ae,class:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},a(V.value?"Show Summary":"Show Details"),1)])]),n.workReports.data.length>0?(r(),d("div",ds,[V.value?(r(),d("div",ks,[e("table",_s,[e("thead",Cs,[e("tr",null,[(r(!0),d(y,null,b(I.value,s=>(r(),d("th",{key:s.key,scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},a(s.label),1))),128)),t[55]||(t[55]=e("th",{scope:"col",class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Actions")],-1))])]),e("tbody",Ms,[(r(!0),d(y,null,b(n.workReports.data,s=>(r(),d("tr",{key:s.id,class:"hover:bg-gray-50"},[(r(!0),d(y,null,b(I.value,i=>(r(),d("td",{key:i.key,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},a(i.formatter?i.formatter(s[i.key]):s[i.key]),1))),128)),e("td",Ss,[e("div",Ds,[e("div",{class:"relative",ref_for:!0,ref:i=>me(i,s.id)},[e("button",{onClick:i=>fe(s.id),class:"inline-flex items-center p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-all duration-200"},t[56]||(t[56]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})],-1)]),8,Rs),L.value===s.id?(r(),d("div",js,[R(x(p),{href:`/work-reports/${s.id}`,class:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150"},{default:g(()=>t[57]||(t[57]=[e("svg",{class:"w-4 h-4 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),u(" View Details ")])),_:2,__:[57]},1032,["href"]),t[60]||(t[60]=e("div",{class:"border-t border-gray-100 my-1"},null,-1)),R(x(p),{href:`/work-reports/${s.id}/edit`,class:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150"},{default:g(()=>t[58]||(t[58]=[e("svg",{class:"w-4 h-4 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),u(" Edit Report ")])),_:2,__:[58]},1032,["href"]),e("button",{onClick:i=>xe(s),class:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50 transition-colors duration-150"},t[59]||(t[59]=[e("svg",{class:"w-4 h-4 mr-3 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),u(" Delete Report ")]),8,zs)])):c("",!0)],512)])])]))),128))])])])):(r(),d("div",us,[(r(!0),d(y,null,b(n.workReports.data.slice(0,5),s=>{var i;return r(),d("div",{key:s.id,class:"p-6 hover:bg-gray-50 transition-colors"},[e("div",cs,[e("div",ms,[e("div",fs,[e("h4",gs,[u(a(D(s.date))+" ",1),x(z)(["Admin","Manager"])&&s.employee?(r(),d("span",vs," - "+a(((i=s.employee.user)==null?void 0:i.name)||"Unknown"),1)):c("",!0)]),e("div",xs,[e("span",null,a(s.calls||0)+" calls",1),e("span",null,a(ne(s))+"% success",1)])]),e("div",ps,[e("span",ys,[t[51]||(t[51]=e("svg",{class:"w-4 h-4 mr-1 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),u(" "+a(s.successful_calls||0)+" successful ",1)]),e("span",bs,[t[52]||(t[52]=e("svg",{class:"w-4 h-4 mr-1 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})],-1)),u(" "+a(s.emails||0)+" emails ",1)]),e("span",hs,[t[53]||(t[53]=e("svg",{class:"w-4 h-4 mr-1 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z","clip-rule":"evenodd"})],-1)),u(" "+a((s.whatsapp||0)+(s.sms||0))+" messages ",1)])])]),e("div",ws,[R(x(p),{href:`/work-reports/${s.id}`,class:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:g(()=>t[54]||(t[54]=[u(" View ")])),_:2,__:[54]},1032,["href"])])])])}),128))])),n.workReports.last_page>1?(r(),d("div",Ls,[e("div",Vs,[e("div",As,[n.workReports.prev_page_url?(r(),C(x(p),{key:0,href:n.workReports.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:g(()=>t[61]||(t[61]=[u(" Previous ")])),_:1,__:[61]},8,["href"])):c("",!0),n.workReports.next_page_url?(r(),C(x(p),{key:1,href:n.workReports.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:g(()=>t[62]||(t[62]=[u(" Next ")])),_:1,__:[62]},8,["href"])):c("",!0)]),e("div",Fs,[e("div",null,[e("p",Bs,[t[63]||(t[63]=u(" Showing ")),e("span",Es,a(n.workReports.from),1),t[64]||(t[64]=u(" to ")),e("span",Ps,a(n.workReports.to),1),t[65]||(t[65]=u(" of ")),e("span",Ts,a(n.workReports.total),1),t[66]||(t[66]=u(" results "))])]),e("div",null,[e("nav",$s,[n.workReports.prev_page_url?(r(),C(x(p),{key:0,href:n.workReports.prev_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:g(()=>t[67]||(t[67]=[e("span",{class:"sr-only"},"Previous",-1),e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1)])),_:1,__:[67]},8,["href"])):c("",!0),(r(!0),d(y,null,b(n.workReports.links,s=>(r(),d(y,{key:s.label},[s.url&&!s.label.includes("Previous")&&!s.label.includes("Next")?(r(),C(x(p),{key:0,href:s.url,class:j(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",s.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},{default:g(()=>[u(a(s.label),1)]),_:2},1032,["href","class"])):c("",!0)],64))),128)),n.workReports.next_page_url?(r(),C(x(p),{key:1,href:n.workReports.next_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:g(()=>t[68]||(t[68]=[e("span",{class:"sr-only"},"Next",-1),e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})],-1)])),_:1,__:[68]},8,["href"])):c("",!0)])])])])])):c("",!0)])):(r(),d("div",Hs,[t[70]||(t[70]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),t[71]||(t[71]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No performance data",-1)),e("p",Ns,a($.value?"Try adjusting your filters to see performance data":"Get started by submitting your first work report"),1),A.value?(r(),d("div",Us,[R(x(p),{href:l.route("work-reports.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"},{default:g(()=>t[69]||(t[69]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),u(" Submit New Report ")])),_:1,__:[69]},8,["href"])])):c("",!0)]))])]),_:1},8,["breadcrumbs","actions"])]),_:1}))}};export{ol as default};
