import{g as F,o,h as P,a as s,k as n,u as c,S as M,l as O,t as r,c as i,F as m,r as g,q as $,n as B}from"./app-DQp60Kc9.js";import{_ as S}from"./AuthenticatedLayout-CcLSXvor.js";import{c as E,l as _,m as V}from"./icons-BYjoUwtB.js";import{r as z}from"./ChartBarIcon-DxmJra2f.js";import{r as I}from"./UserGroupIcon-B7V-GfWS.js";import"./useAuth-D8d4bJvx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-B8I8zccY.js";const q={class:"py-6"},L={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},U={class:"mb-6"},G={class:"flex items-center justify-between"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},J={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},K={class:"flex items-center"},Q={class:"flex-shrink-0"},W={class:"ml-4"},X={class:"text-2xl font-bold text-gray-900"},Y={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Z={class:"flex items-center"},ss={class:"flex-shrink-0"},ts={class:"ml-4"},es={class:"text-2xl font-bold text-gray-900"},os={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},is={class:"flex items-center"},rs={class:"flex-shrink-0"},ds={class:"ml-4"},as={class:"text-2xl font-bold text-gray-900"},ls={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ns={class:"flex items-center"},cs={class:"flex-shrink-0"},ms={class:"ml-4"},gs={class:"text-2xl font-bold text-gray-900"},xs={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},hs={class:"bg-white rounded-lg shadow-sm border border-gray-200"},_s={class:"p-6"},us={key:0,class:"space-y-4"},ys={class:"flex items-center w-20"},vs={class:"text-sm font-medium"},bs={class:"flex-1 mx-4"},fs={class:"w-full bg-gray-200 rounded-full h-2"},ps={class:"w-16 text-right"},ws={class:"text-sm text-gray-600"},ks={key:1,class:"text-center py-8 text-gray-500"},Rs={class:"bg-white rounded-lg shadow-sm border border-gray-200"},js={class:"p-6"},As={key:0,class:"space-y-4"},Cs={class:"flex-1"},Ns={class:"flex items-center justify-between mb-1"},Ps={class:"text-sm font-medium text-gray-900"},$s={class:"text-sm text-gray-600"},Bs={class:"w-full bg-gray-200 rounded-full h-2"},Ts={class:"flex items-center justify-between mt-1"},Ds={class:"text-xs text-gray-500"},Fs={class:"text-xs text-gray-500"},Ms={key:1,class:"text-center py-8 text-gray-500"},Os={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8"},Ss={class:"p-6"},Es={key:0,class:"space-y-4"},Vs={class:"font-medium text-gray-900"},zs={class:"text-sm text-gray-500"},Is={class:"text-right"},qs={class:"font-medium text-gray-900"},Ls={key:1,class:"text-center py-8 text-gray-500"},Us={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Gs={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Hs={class:"p-6"},Js={key:0,class:"space-y-4"},Ks={class:"flex items-center"},Qs={class:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center"},Ws={class:"text-sm font-medium text-blue-600"},Xs={class:"ml-3"},Ys={class:"text-sm font-medium text-gray-900"},Zs={class:"text-sm text-gray-500"},st={class:"flex items-center"},tt={class:"flex"},et={class:"ml-2 text-sm font-medium text-gray-900"},ot={key:1,class:"text-center py-8 text-gray-500"},it={class:"bg-white rounded-lg shadow-sm border border-gray-200"},rt={class:"p-6"},dt={key:0,class:"space-y-4"},at={class:"flex-1 min-w-0"},lt={class:"text-sm font-medium text-gray-900 truncate"},nt={class:"text-sm text-gray-500"},ct={class:"ml-4 text-right"},mt={class:"text-sm font-medium text-gray-900"},gt={class:"flex"},xt={key:1,class:"text-center py-8 text-gray-500"},wt={__name:"CompetencyDashboard",props:{metrics:Object,distribution:Object,trends:Array,topPerformers:Object,filters:Object},setup(d){const x=l=>l?parseFloat(l).toFixed(1):"0.0",T=(l,t)=>t>0?Math.round(l/t*100):0,u=(l,t)=>t>0?Math.round(l/t*100):0,D=l=>l.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().slice(0,2);return(l,t)=>(o(),F(S,null,{default:P(()=>{var y,v,b,f,p,w,k,R,j,A,C;return[s("div",q,[s("div",L,[s("div",U,[s("div",G,[t[1]||(t[1]=s("div",null,[s("h1",{class:"text-2xl font-bold text-gray-900"},"Competency Analytics"),s("p",{class:"text-gray-600 mt-1"},"Insights and reports on competency assessments")],-1)),n(c(M),{href:l.route("assessment-dashboard"),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:P(()=>[n(c(E),{class:"w-4 h-4 mr-2"}),t[0]||(t[0]=O(" Back to Dashboard "))]),_:1,__:[0]},8,["href"])])]),s("div",H,[s("div",J,[s("div",K,[s("div",Q,[n(c(z),{class:"h-8 w-8 text-blue-600"})]),s("div",W,[t[2]||(t[2]=s("p",{class:"text-sm font-medium text-gray-500"},"Total Assessments",-1)),s("p",X,r(((y=d.metrics)==null?void 0:y.totalAssessments)||0),1)])])]),s("div",Y,[s("div",Z,[s("div",ss,[n(c(I),{class:"h-8 w-8 text-green-600"})]),s("div",ts,[t[3]||(t[3]=s("p",{class:"text-sm font-medium text-gray-500"},"Employees Assessed",-1)),s("p",es,r(((v=d.metrics)==null?void 0:v.employeesAssessed)||0),1)])])]),s("div",os,[s("div",is,[s("div",rs,[n(c(_),{class:"h-8 w-8 text-yellow-600"})]),s("div",ds,[t[4]||(t[4]=s("p",{class:"text-sm font-medium text-gray-500"},"Average Rating",-1)),s("p",as,r(x((b=d.metrics)==null?void 0:b.averageRating)),1)])])]),s("div",ls,[s("div",ns,[s("div",cs,[n(c(V),{class:"h-8 w-8 text-purple-600"})]),s("div",ms,[t[5]||(t[5]=s("p",{class:"text-sm font-medium text-gray-500"},"Completion Rate",-1)),s("p",gs,r(((f=d.metrics)==null?void 0:f.completionRate)||0)+"%",1)])])])]),s("div",xs,[s("div",hs,[t[6]||(t[6]=s("div",{class:"px-6 py-4 border-b border-gray-200"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Rating Distribution")],-1)),s("div",_s,[(p=d.distribution)!=null&&p.ratings?(o(),i("div",us,[(o(!0),i(m,null,g(d.distribution.ratings,(e,a)=>{var h;return o(),i("div",{key:a,class:"flex items-center"},[s("div",ys,[n(c(_),{class:"h-4 w-4 text-yellow-400 mr-1"}),s("span",vs,r(a),1)]),s("div",bs,[s("div",fs,[s("div",{class:"bg-blue-600 h-2 rounded-full",style:$({width:`${T(e,(h=d.metrics)==null?void 0:h.totalAssessments)}%`})},null,4)])]),s("div",ps,[s("span",ws,r(e),1)])])}),128))])):(o(),i("div",ks," No rating data available "))])]),s("div",Rs,[t[7]||(t[7]=s("div",{class:"px-6 py-4 border-b border-gray-200"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Competency Categories")],-1)),s("div",js,[(w=d.distribution)!=null&&w.categories?(o(),i("div",As,[(o(!0),i(m,null,g(d.distribution.categories,(e,a)=>{var h,N;return o(),i("div",{key:a,class:"flex items-center justify-between"},[s("div",Cs,[s("div",Ns,[s("span",Ps,r(a),1),s("span",$s,r(e.count)+" assessments",1)]),s("div",Bs,[s("div",{class:"bg-green-600 h-2 rounded-full",style:$({width:`${u(e.count,(h=d.metrics)==null?void 0:h.totalAssessments)}%`})},null,4)]),s("div",Ts,[s("span",Ds,"Avg: "+r(x(e.averageRating)),1),s("span",Fs,r(u(e.count,(N=d.metrics)==null?void 0:N.totalAssessments))+"%",1)])])])}),128))])):(o(),i("div",Ms," No category data available "))])])]),s("div",Os,[t[9]||(t[9]=s("div",{class:"px-6 py-4 border-b border-gray-200"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Recent Trends")],-1)),s("div",Ss,[(k=d.trends)!=null&&k.length?(o(),i("div",Es,[(o(!0),i(m,null,g(d.trends,e=>(o(),i("div",{key:e.period,class:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0"},[s("div",null,[s("div",Vs,r(e.period),1),s("div",zs,r(e.assessments)+" assessments completed",1)]),s("div",Is,[s("div",qs,r(x(e.averageRating)),1),t[8]||(t[8]=s("div",{class:"text-sm text-gray-500"},"Average rating",-1))])]))),128))])):(o(),i("div",Ls," No trend data available "))])]),s("div",Us,[s("div",Gs,[t[10]||(t[10]=s("div",{class:"px-6 py-4 border-b border-gray-200"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Top Rated Employees")],-1)),s("div",Hs,[(j=(R=d.topPerformers)==null?void 0:R.employees)!=null&&j.length?(o(),i("div",Js,[(o(!0),i(m,null,g(d.topPerformers.employees,e=>(o(),i("div",{key:e.id,class:"flex items-center justify-between"},[s("div",Ks,[s("div",Qs,[s("span",Ws,r(D(e.name)),1)]),s("div",Xs,[s("div",Ys,r(e.name),1),s("div",Zs,r(e.assessmentCount)+" assessments",1)])]),s("div",st,[s("div",tt,[(o(),i(m,null,g(5,a=>n(c(_),{key:a,class:B([a<=Math.round(e.averageRating)?"text-yellow-400":"text-gray-300","h-4 w-4"])},null,8,["class"])),64))]),s("span",et,r(x(e.averageRating)),1)])]))),128))])):(o(),i("div",ot," No employee data available "))])]),s("div",it,[t[11]||(t[11]=s("div",{class:"px-6 py-4 border-b border-gray-200"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Top Competencies")],-1)),s("div",rt,[(C=(A=d.topPerformers)==null?void 0:A.competencies)!=null&&C.length?(o(),i("div",dt,[(o(!0),i(m,null,g(d.topPerformers.competencies,e=>(o(),i("div",{key:e.id,class:"flex items-center justify-between"},[s("div",at,[s("div",lt,r(e.name),1),s("div",nt,r(e.category)+" â€¢ "+r(e.assessmentCount)+" assessments",1)]),s("div",ct,[s("div",mt,r(x(e.averageRating)),1),s("div",gt,[(o(),i(m,null,g(5,a=>n(c(_),{key:a,class:B([a<=Math.round(e.averageRating)?"text-yellow-400":"text-gray-300","h-3 w-3"])},null,8,["class"])),64))])])]))),128))])):(o(),i("div",xt," No competency data available "))])])])])])]}),_:1}))}};export{wt as default};
