import{I as W,c as g,f as m,b as n,g as b,p as a,r as C,n as _,u as v,F as w,t as S,a as A,m as q,k as Y,Q as U,x as K,w as d,e as r,y as t}from"./app-BnuUkgi0.js";import{_ as X}from"./AuthenticatedLayout-ezOt_CXH.js";import{P as Z}from"./PageLayout-CK1T1BKh.js";import{I as E}from"./Icon-B5-TvmGX.js";/* empty css                                                                   *//* empty css                                                                       */import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as te}from"./ContentCard-CeKvQZlb.js";import{F as se,a as V}from"./FormSection-B-rNCxz3.js";import{F as f}from"./FormField-nCBXXGPk.js";import{B as P}from"./BaseButton-DMjVMChm.js";import{B as j}from"./BaseSelect-CGKm6aJw.js";import{B as oe}from"./BaseInput-F_1oBGW7.js";import{B as $}from"./BaseTextarea-Be-vuDa9.js";import{u as re}from"./useNotifications-DRXEfqFp.js";import"./useAuth-C43SM59d.js";import"./ApplicationLogo-C1XtsOXU.js";import"./useAccessibility-Bv5DOV0I.js";import"./PageHeader-DctDUb67.js";/* empty css                                                                   *//* empty css                                                                    *//* empty css                                                                   *//* empty css                                                                   *//* empty css                                                                  */const ae={key:0,class:"section-header"},ie={class:"header-content"},le={class:"title-area"},ne={key:1,class:"section-description"},de={key:0,class:"header-actions"},ce=["onClick","disabled","title"],ue={key:1,class:"action-label"},me={key:1,class:"section-footer"},pe={__name:"ContentSection",props:{title:{type:String,default:""},description:{type:String,default:""},headerActions:{type:Array,default:()=>[]},variant:{type:String,default:"default",validator:c=>["default","card","bordered","elevated"].includes(c)},size:{type:String,default:"md",validator:c=>["sm","md","lg","xl"].includes(c)},spacing:{type:String,default:"normal",validator:c=>["tight","normal","loose"].includes(c)},fullWidth:{type:Boolean,default:!1},headingLevel:{type:Number,default:2,validator:c=>c>=1&&c<=6},class:{type:[String,Array,Object],default:""}},emits:["header-action"],setup(c,{emit:F}){const u=c,y=F,k=W(),x=g(()=>!!(u.title||u.description||k.header||e.value)),e=g(()=>{var s;return((s=u.headerActions)==null?void 0:s.length)>0||!!k["header-actions"]}),B=g(()=>["content-section",`content-section--${u.variant}`,`content-section--${u.size}`,`content-section--spacing-${u.spacing}`,{"content-section--full-width":u.fullWidth,"content-section--has-header":x.value,"content-section--has-footer":!!k.footer},u.class]),R=g(()=>["section-title",`section-title--h${u.headingLevel}`,{"section-title--with-description":!!u.description}]),D=g(()=>["section-content",{"section-content--with-header":x.value,"section-content--with-footer":!!k.footer}]),N=s=>{s.disabled||(y("header-action",s),s.handler&&s.handler())},z=s=>["header-action-button","inline-flex items-center justify-center","font-medium rounded-md transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2",{"px-2 py-1 text-xs":s.size==="xs","px-3 py-1.5 text-sm":s.size==="sm"||!s.size,"px-4 py-2 text-base":s.size==="md","px-6 py-3 text-lg":s.size==="lg","bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500":s.variant==="primary","bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500":s.variant==="secondary"||!s.variant,"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 focus:ring-primary-500":s.variant==="ghost","bg-error-600 text-white hover:bg-error-700 focus:ring-error-500":s.variant==="danger","opacity-50 cursor-not-allowed":s.disabled,"space-x-1":s.icon&&s.label}];return(s,H)=>(n(),m("section",{class:_(B.value)},[x.value?(n(),m("header",ae,[C(s.$slots,"header",{},()=>[a("div",ie,[a("div",le,[c.title?(n(),m("h2",{key:0,class:_(R.value)},v(c.title),3)):b("",!0),c.description?(n(),m("p",ne,v(c.description),1)):b("",!0)]),e.value?(n(),m("div",de,[C(s.$slots,"header-actions",{},()=>[(n(!0),m(w,null,S(c.headerActions,h=>(n(),m("button",{key:h.id,onClick:I=>N(h),disabled:h.disabled,class:_(z(h)),title:h.tooltip},[h.icon?(n(),A(q(h.icon),{key:0,class:"action-icon"})):b("",!0),h.label?(n(),m("span",ue,v(h.label),1)):b("",!0)],10,ce))),128))],!0)])):b("",!0)])],!0)])):b("",!0),a("div",{class:_(D.value)},[C(s.$slots,"default",{},void 0,!0)],2),s.$slots.footer?(n(),m("footer",me,[C(s.$slots,"footer",{},void 0,!0)])):b("",!0)],2))}},ge=ee(pe,[["__scopeId","data-v-b2ed22c8"]]),he={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},be={class:"flex items-center gap-3"},fe={class:"flex-shrink-0 w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center"},ve={class:"text-xs font-semibold text-primary-700"},ye={class:"min-w-0 flex-1"},ke={class:"font-medium text-neutral-900 truncate"},_e={class:"text-xs text-neutral-500 truncate"},xe={class:"space-y-6"},we={class:"flex items-center space-x-2"},Se={class:"flex items-center space-x-1"},Ce=["onClick","onMouseover","disabled"],Ve={class:"text-sm font-medium text-neutral-700 ml-3"},$e={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Ae={class:"flex items-center justify-between mb-2"},Fe={class:"flex items-center space-x-2"},Be={class:"font-medium text-neutral-900"},Re={class:"flex items-center space-x-1"},De=["onClick","disabled"],Ne={class:"space-y-6"},ze={class:"space-y-6"},Qe={class:"space-y-3"},it={__name:"Create",props:{users:Array},setup(c){const F=c,{showNotification:u}=re(),y=Y(0),k=g(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Feedbacks",href:route("feedbacks.index")},{label:"Submit Feedback",current:!0}]),x=g(()=>[{id:"back-to-feedbacks",label:"Back to Feedbacks",icon:"arrow-left",variant:"secondary",handler:()=>U.visit(route("feedbacks.index"))}]),e=K({reviewee_id:"",period:"",rating:0,categoryRatings:{communication:0,teamwork:0,technical:0,leadership:0,initiative:0,reliability:0},strengths:"",improvements:"",comments:"",goals:[""],support:""}),B=g(()=>F.users.map(i=>({value:i.id,label:i.name,department:i.department||"No Department",initials:i.name.split(" ").map(l=>l[0]).join("").toUpperCase()}))),R=g(()=>[{value:"Q1 2024",label:"Q1 2024 (Jan - Mar)"},{value:"Q2 2024",label:"Q2 2024 (Apr - Jun)"},{value:"Q3 2024",label:"Q3 2024 (Jul - Sep)"},{value:"Q4 2024",label:"Q4 2024 (Oct - Dec)"},{value:"H1 2024",label:"H1 2024 (Jan - Jun)"},{value:"H2 2024",label:"H2 2024 (Jul - Dec)"},{value:"Annual 2024",label:"Annual 2024"}]),D=g(()=>[{key:"communication",label:"Communication",icon:"chat"},{key:"teamwork",label:"Teamwork",icon:"users"},{key:"technical",label:"Technical Skills",icon:"cog"},{key:"leadership",label:"Leadership",icon:"star"},{key:"initiative",label:"Initiative",icon:"bolt"},{key:"reliability",label:"Reliability",icon:"shield"}]),N=g(()=>[{id:"cancel",label:"Cancel",variant:"secondary",disabled:e.processing},{id:"save-draft",label:"Save Draft",variant:"ghost",disabled:e.processing},{id:"submit",label:"Submit Feedback",variant:"primary",type:"submit",disabled:e.processing||!z.value,loadingLabel:"Submitting..."}]),z=g(()=>e.reviewee_id&&e.period&&e.rating>0&&e.comments.trim().length>0),s=i=>{e.rating=i,y.value=0},H=(i,l)=>{e.categoryRatings[i]=l},h=i=>({0:"No rating",1:"Needs Improvement",2:"Below Expectations",3:"Meets Expectations",4:"Exceeds Expectations",5:"Exceptional"})[i]||"No rating",I=()=>{e.goals.length<5&&e.goals.push("")},G=i=>{e.goals.length>1&&e.goals.splice(i,1)},J=()=>{T()?confirm("You have unsaved changes. Are you sure you want to leave?")&&U.visit(route("feedbacks.index")):U.visit(route("feedbacks.index"))},L=()=>{e.goals=e.goals.filter(i=>i.trim().length>0),e.post(route("feedbacks.store"),{onSuccess:()=>{u({type:"success",title:"Feedback Submitted",message:"Your feedback has been successfully submitted."})},onError:()=>{u({type:"error",title:"Submission Failed",message:"There was an error submitting your feedback. Please check the form and try again."})}})},M=i=>{switch(i.id){case"cancel":J();break;case"save-draft":O();break;case"submit":L();break}},O=()=>{e.goals=e.goals.filter(i=>i.trim().length>0),e.post(route("feedbacks.save-draft"),{onSuccess:()=>{u({type:"success",title:"Draft Saved",message:"Your feedback draft has been saved. You can continue editing later."})},onError:()=>{u({type:"error",title:"Save Failed",message:"Failed to save your draft. Please try again."})}})},T=()=>e.reviewee_id||e.period||e.rating>0||e.comments.trim().length>0||e.strengths.trim().length>0||e.improvements.trim().length>0||e.support.trim().length>0||e.goals.some(i=>i.trim().length>0)||Object.values(e.categoryRatings).some(i=>i>0);return(i,l)=>(n(),A(X,null,{default:d(()=>[r(Z,{title:"Submit Feedback",subtitle:"Provide constructive feedback to help team members grow",breadcrumbs:k.value,actions:x.value},{default:d(()=>[r(ge,null,{default:d(()=>[r(te,{class:"max-w-4xl mx-auto"},{default:d(()=>[r(se,{title:"",actions:N.value,errors:t(e).errors,"is-submitting":t(e).processing,variant:"card",onSubmit:L,onAction:M},{default:d(()=>[r(V,{title:"Feedback Details",description:"Select who you're providing feedback for and the review period"},{default:d(()=>[a("div",he,[r(f,{label:"Team Member",description:"Select the person you're providing feedback for",required:"",error:t(e).errors.reviewee_id},{default:d(()=>[r(j,{modelValue:t(e).reviewee_id,"onUpdate:modelValue":l[0]||(l[0]=o=>t(e).reviewee_id=o),options:B.value,placeholder:"Select a team member...",searchable:"",disabled:t(e).processing},{option:d(({option:o})=>[a("div",be,[a("div",fe,[a("span",ve,v(o.initials),1)]),a("div",ye,[a("div",ke,v(o.label),1),a("div",_e,v(o.department),1)])])]),_:1},8,["modelValue","options","disabled"])]),_:1},8,["error"]),r(f,{label:"Review Period",description:"Specify the time period this feedback covers",required:"",error:t(e).errors.period},{default:d(()=>[r(j,{modelValue:t(e).period,"onUpdate:modelValue":l[1]||(l[1]=o=>t(e).period=o),options:R.value,placeholder:"Select review period...",disabled:t(e).processing},null,8,["modelValue","options","disabled"])]),_:1},8,["error"])])]),_:1}),r(V,{title:"Overall Rating",description:"Rate the overall performance during this period"},{default:d(()=>[a("div",xe,[r(f,{label:"Performance Rating",description:"Click on the stars to rate (1 = Needs Improvement, 5 = Exceptional)",required:"",error:t(e).errors.rating},{default:d(()=>[a("div",we,[a("div",Se,[(n(),m(w,null,S(5,o=>a("button",{key:o,type:"button",onClick:p=>s(o),onMouseover:p=>y.value=o,onMouseleave:l[2]||(l[2]=p=>y.value=0),class:_(["w-8 h-8 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded",y.value>=o||t(e).rating>=o?"text-yellow-400":"text-neutral-300 hover:text-yellow-300"]),disabled:t(e).processing},[r(E,{name:"star-solid",class:"w-full h-full"})],42,Ce)),64))]),a("span",Ve,v(h(t(e).rating)),1)])]),_:1},8,["error"]),a("div",$e,[(n(!0),m(w,null,S(D.value,o=>(n(),m("div",{key:o.key,class:"bg-neutral-50 rounded-lg p-4"},[a("div",Ae,[a("div",Fe,[r(E,{name:o.icon,class:"w-5 h-5 text-neutral-600"},null,8,["name"]),a("span",Be,v(o.label),1)])]),a("div",Re,[(n(),m(w,null,S(5,p=>a("button",{key:p,type:"button",onClick:Q=>H(o.key,p),class:_(["w-4 h-4 transition-colors duration-200",t(e).categoryRatings[o.key]>=p?"text-yellow-400":"text-neutral-300 hover:text-yellow-300"]),disabled:t(e).processing},[r(E,{name:"star-solid",class:"w-full h-full"})],10,De)),64))])]))),128))])])]),_:1}),r(V,{title:"Detailed Comments",description:"Provide specific, constructive feedback"},{default:d(()=>[a("div",Ne,[r(f,{label:"Strengths & Achievements",description:"What did this person do well? Highlight specific achievements and strengths.",error:t(e).errors.strengths},{default:d(()=>[r($,{modelValue:t(e).strengths,"onUpdate:modelValue":l[3]||(l[3]=o=>t(e).strengths=o),placeholder:"Describe specific strengths, achievements, and positive contributions...",rows:"4",disabled:t(e).processing,"character-count":!0,"max-length":1e3},null,8,["modelValue","disabled"])]),_:1},8,["error"]),r(f,{label:"Areas for Development",description:"What areas could benefit from improvement? Be constructive and specific.",error:t(e).errors.improvements},{default:d(()=>[r($,{modelValue:t(e).improvements,"onUpdate:modelValue":l[4]||(l[4]=o=>t(e).improvements=o),placeholder:"Suggest specific areas for development and growth opportunities...",rows:"4",disabled:t(e).processing,"character-count":!0,"max-length":1e3},null,8,["modelValue","disabled"])]),_:1},8,["error"]),r(f,{label:"Additional Comments",description:"Any other feedback, suggestions, or observations you'd like to share.",required:"",error:t(e).errors.comments},{default:d(()=>[r($,{modelValue:t(e).comments,"onUpdate:modelValue":l[5]||(l[5]=o=>t(e).comments=o),placeholder:"Share any additional thoughts, suggestions, or observations...",rows:"6",disabled:t(e).processing,"character-count":!0,"max-length":2e3},null,8,["modelValue","disabled"])]),_:1},8,["error"])])]),_:1}),r(V,{title:"Future Goals & Recommendations",description:"Suggest goals and next steps"},{default:d(()=>[a("div",ze,[r(f,{label:"Recommended Goals",description:"Suggest 2-3 specific goals for the next review period",error:t(e).errors.goals},{default:d(()=>[a("div",Qe,[(n(!0),m(w,null,S(t(e).goals,(o,p)=>(n(),m("div",{key:p,class:"flex items-center space-x-3"},[r(oe,{modelValue:t(e).goals[p],"onUpdate:modelValue":Q=>t(e).goals[p]=Q,placeholder:`Goal ${p+1}...`,disabled:t(e).processing,class:"flex-1"},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled"]),t(e).goals.length>1?(n(),A(P,{key:0,variant:"ghost","icon-left":"minus",onClick:Q=>G(p),disabled:t(e).processing,size:"sm"},null,8,["onClick","disabled"])):b("",!0)]))),128)),t(e).goals.length<5?(n(),A(P,{key:0,variant:"ghost","icon-left":"plus",label:"Add Goal",onClick:I,disabled:t(e).processing,size:"sm"},null,8,["disabled"])):b("",!0)])]),_:1},8,["error"]),r(f,{label:"Support & Resources",description:"What support or resources would help this person succeed?",error:t(e).errors.support},{default:d(()=>[r($,{modelValue:t(e).support,"onUpdate:modelValue":l[6]||(l[6]=o=>t(e).support=o),placeholder:"Suggest training, mentoring, resources, or other support...",rows:"3",disabled:t(e).processing,"character-count":!0,"max-length":500},null,8,["modelValue","disabled"])]),_:1},8,["error"])])]),_:1})]),_:1},8,["actions","errors","is-submitting"])]),_:1})]),_:1})]),_:1},8,["breadcrumbs","actions"])]),_:1}))}};export{it as default};
