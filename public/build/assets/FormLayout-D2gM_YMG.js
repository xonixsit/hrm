import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{R as I,e as R,f as n,V as N,c as a,o as r,i as c,a as o,A as p,F as y,r as h,t as d,n as f,g as b,s as k,q as G}from"./app-D0rVIEKn.js";const J={key:0,class:"form-header"},K={class:"header-content"},Q={class:"title-area"},T={key:0,class:"form-title"},U={key:1,class:"form-description"},W={key:0,class:"header-actions"},X=["onClick","disabled"],Y={key:1},Z={key:1,class:"form-progress"},ee={class:"progress-container"},te={class:"progress-steps"},se=["onClick"],re={class:"step-indicator"},oe={key:0,class:"step-check"},ie={key:1,class:"step-number"},ae={class:"step-content"},le={class:"step-title"},ne={key:0,class:"step-description"},ce={class:"progress-bar"},ue={class:"form-content"},de={key:0,class:"form-error-summary"},me={class:"error-summary-list"},pe=["onClick"],ye={class:"form-sections"},he={key:2,class:"form-actions"},fe={class:"actions-content"},ge={class:"secondary-actions"},ve=["onClick","disabled"],be={class:"primary-actions"},ke=["onClick","disabled","type"],Se={key:1,class:"action-icon animate-spin",fill:"none",viewBox:"0 0 24 24"},_e={__name:"FormLayout",props:{title:{type:String,default:""},description:{type:String,default:""},actions:{type:Array,default:()=>[]},headerActions:{type:Array,default:()=>[]},steps:{type:Array,default:()=>[]},currentStep:{type:Number,default:0},errors:{type:Object,default:()=>({})},isSubmitting:{type:Boolean,default:!1},showErrorSummary:{type:Boolean,default:!0},showProgress:{type:Boolean,default:!1},variant:{type:String,default:"default",validator:l=>["default","card","modal","inline"].includes(l)},size:{type:String,default:"md",validator:l=>["sm","md","lg","xl"].includes(l)},spacing:{type:String,default:"normal",validator:l=>["tight","normal","loose"].includes(l)},class:{type:[String,Array,Object],default:""}},emits:["submit","action","header-action","step-change","field-focus"],setup(l,{expose:$,emit:x}){const s=l,m=x,g=I(),B=R(null),S=n(()=>s.title||s.description||_.value||g.header),_=n(()=>{var e;return((e=s.headerActions)==null?void 0:e.length)>0||!!g["header-actions"]}),C=n(()=>{var e;return((e=s.actions)==null?void 0:e.length)>0||!!g.actions}),F=n(()=>s.actions.filter(e=>e.variant==="primary"||e.type==="submit")),V=n(()=>s.actions.filter(e=>e.variant!=="primary"&&e.type!=="submit")),j=n(()=>Object.entries(s.errors).map(([e,i])=>({field:e,message:Array.isArray(i)?i[0]:i}))),z=n(()=>Object.keys(s.errors).length>0),E=n(()=>s.steps.length?(s.currentStep+1)/s.steps.length*100:0),L=n(()=>["form-layout",`form-layout--${s.variant}`,`form-layout--${s.size}`,`form-layout--spacing-${s.spacing}`,{"form-layout--has-header":S.value,"form-layout--has-actions":C.value,"form-layout--has-progress":s.showProgress,"form-layout--has-errors":z.value,"form-layout--submitting":s.isSubmitting},s.class]);N("formContext",{errors:n(()=>s.errors),isSubmitting:n(()=>s.isSubmitting),variant:n(()=>s.variant),size:n(()=>s.size)});const P=e=>{e.preventDefault(),m("submit",e)},A=e=>{e.disabled||s.isSubmitting||m("action",e)},H=e=>{e.disabled||m("header-action",e)},O=(e,i)=>{e.disabled||i>s.currentStep||m("step-change",{step:e,index:i})},w=e=>{const i=document.querySelector(`[name="${e}"], #${e}`);i&&(i.focus(),i.scrollIntoView({behavior:"smooth",block:"center"}),m("field-focus",e))},D=(e,i)=>i<s.currentStep,M=(e,i)=>["progress-step",{"progress-step--current":i===s.currentStep,"progress-step--completed":i<s.currentStep,"progress-step--disabled":e.disabled||i>s.currentStep,"progress-step--clickable":!e.disabled&&i<=s.currentStep}],v=e=>["form-action-button","inline-flex items-center justify-center","font-medium rounded-md transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2",{"px-3 py-2 text-sm":e.size==="sm"||!e.size&&s.size==="sm","px-4 py-2 text-base":e.size==="md"||!e.size&&s.size==="md","px-6 py-3 text-lg":e.size==="lg"||!e.size&&s.size==="lg","bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500":e.variant==="primary","bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500":e.variant==="secondary"||!e.variant,"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 focus:ring-primary-500":e.variant==="ghost","bg-error-600 text-white hover:bg-error-700 focus:ring-error-500":e.variant==="danger","opacity-50 cursor-not-allowed":e.disabled||s.isSubmitting,"space-x-2":e.icon&&e.label}];return $({focusField:w,formRef:B}),(e,i)=>(r(),a("form",{class:f(L.value),onSubmit:P,novalidate:""},[S.value?(r(),a("div",J,[p(e.$slots,"header",{},()=>[o("div",K,[o("div",Q,[l.title?(r(),a("h2",T,d(l.title),1)):c("",!0),l.description?(r(),a("p",U,d(l.description),1)):c("",!0)]),_.value?(r(),a("div",W,[p(e.$slots,"header-actions",{},()=>[(r(!0),a(y,null,h(l.headerActions,t=>(r(),a("button",{key:t.id,onClick:u=>H(t),disabled:t.disabled,class:f(v(t)),type:"button"},[t.icon?(r(),b(k(t.icon),{key:0,class:"action-icon"})):c("",!0),t.label?(r(),a("span",Y,d(t.label),1)):c("",!0)],10,X))),128))],!0)])):c("",!0)])],!0)])):c("",!0),l.showProgress?(r(),a("div",Z,[p(e.$slots,"progress",{},()=>[o("div",ee,[o("div",te,[(r(!0),a(y,null,h(l.steps,(t,u)=>(r(),a("div",{key:t.id||u,class:f(M(t,u)),onClick:Ce=>O(t,u)},[o("div",re,[D(t,u)?(r(),a("span",oe,i[0]||(i[0]=[o("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):(r(),a("span",ie,d(u+1),1))]),o("div",ae,[o("div",le,d(t.title),1),t.description?(r(),a("div",ne,d(t.description),1)):c("",!0)])],10,se))),128))]),o("div",ce,[o("div",{class:"progress-fill",style:G({width:`${E.value}%`})},null,4)])])],!0)])):c("",!0),o("div",ue,[l.showErrorSummary&&z.value?(r(),a("div",de,[i[1]||(i[1]=o("div",{class:"error-summary-header"},[o("svg",{class:"error-icon",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),o("h3",{class:"error-summary-title"},"Please correct the following errors:")],-1)),o("ul",me,[(r(!0),a(y,null,h(j.value,t=>(r(),a("li",{key:t.field,class:"error-summary-item"},[o("button",{type:"button",onClick:u=>w(t.field),class:"error-summary-link"},d(t.message),9,pe)]))),128))])])):c("",!0),o("div",ye,[p(e.$slots,"default",{},void 0,!0)])]),C.value?(r(),a("div",he,[p(e.$slots,"actions",{},()=>[o("div",fe,[o("div",ge,[(r(!0),a(y,null,h(V.value,t=>(r(),a("button",{key:t.id,onClick:u=>A(t),disabled:t.disabled||l.isSubmitting,class:f(v(t)),type:"button"},[t.icon?(r(),b(k(t.icon),{key:0,class:"action-icon"})):c("",!0),o("span",null,d(t.label),1)],10,ve))),128))]),o("div",be,[(r(!0),a(y,null,h(F.value,t=>(r(),a("button",{key:t.id,onClick:u=>A(t),disabled:t.disabled||l.isSubmitting,class:f(v(t)),type:t.type||"button"},[t.icon&&!l.isSubmitting?(r(),b(k(t.icon),{key:0,class:"action-icon"})):c("",!0),l.isSubmitting&&t.type==="submit"?(r(),a("svg",Se,i[2]||(i[2]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):c("",!0),o("span",null,d(l.isSubmitting&&t.type==="submit"?t.loadingLabel||"Submitting...":t.label),1)],10,ke))),128))])])],!0)])):c("",!0)],34))}},we=q(_e,[["__scopeId","data-v-519cad9a"]]);export{we as F};
