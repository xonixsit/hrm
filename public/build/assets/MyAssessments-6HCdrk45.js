import{f as P,e as K,g as k,o as r,h as x,k as i,a as e,u as d,t as n,w as A,c as a,F as u,r as f,v as C,i as b,S as _,l as p,n as S,Q as W}from"./app-B1o__mF5.js";import{_ as X}from"./AuthenticatedLayout-CBd7j7Vk.js";import{P as Z}from"./PageLayout-C6TR7RSx.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as se}from"./ChartBarIcon-WG2U8QWo.js";import{n as te,m as oe,q as re,l as ne,b as le,j as ae}from"./Icon-SP8TbVNl.js";import{r as de}from"./ClipboardDocumentCheckIcon-UrEd82fu.js";import{r as ie}from"./TagIcon-9W05srjR.js";import"./useAuth-CmAUiV72.js";import"./ApplicationLogo-fdeTBbSm.js";import"./useAccessibility-E63r6ldn.js";import"./PageHeader-BRyC6Qh3.js";/* empty css                                                                   *//* empty css                                                                   */const ce={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},me={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ue={class:"flex items-center"},fe={class:"flex-shrink-0"},ge={class:"ml-4"},ye={class:"text-2xl font-bold text-gray-900"},xe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},be={class:"flex items-center"},pe={class:"flex-shrink-0"},he={class:"ml-4"},ve={class:"text-2xl font-bold text-gray-900"},_e={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},we={class:"flex items-center"},ke={class:"flex-shrink-0"},Ae={class:"ml-4"},Ce={class:"text-2xl font-bold text-gray-900"},Se={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},je={class:"p-6"},$e={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Ee=["value"],Me=["value"],Ue=["value"],De={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Re={class:"px-6 py-4 border-b border-gray-200"},Ve={class:"text-lg font-medium text-gray-900"},Fe={key:0,class:"p-12 text-center"},Le={key:1,class:"divide-y divide-gray-200"},Oe={class:"flex items-center justify-between"},Be={class:"flex-1"},Te={class:"flex items-center space-x-3 mb-2"},Ne={class:"flex items-center"},Ie={class:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center mr-3"},Pe={class:"text-xs font-medium text-blue-600"},He={class:"text-lg font-medium text-gray-900"},Qe={class:"flex items-center space-x-6 text-sm text-gray-600"},qe={class:"flex items-center"},ze={key:0,class:"flex items-center"},Ye={key:0,class:"mt-3 flex items-center"},Ge={class:"flex items-center"},Je={class:"flex"},Ke={class:"ml-2 text-sm font-medium text-gray-900"},We={class:"ml-2 text-sm text-gray-500"},Xe={key:1,class:"mt-3"},Ze={class:"text-sm text-gray-700 line-clamp-2"},es={class:"flex items-center space-x-3 ml-6"},ss={key:2,class:"px-6 py-3 border-t border-gray-200"},ts={class:"flex items-center justify-between"},os={class:"text-sm text-gray-700"},rs={class:"flex space-x-1"},ns={__name:"MyAssessments",props:{assessments:Object,stats:Object,employees:Array,assessmentCycles:Array,statusOptions:Array,filters:Object},setup(l){var $,E,M,U,D;const m=l;console.log("MyAssessments props:",{assessments:m.assessments,stats:m.stats,assessmentsData:($=m.assessments)==null?void 0:$.data,assessmentsTotal:(E=m.assessments)==null?void 0:E.total});const H=P(()=>[{label:"Dashboard",href:typeof route<"u"?route("dashboard"):"/dashboard"},{label:"My Assessments",href:null}]),Q=P(()=>[{label:"All Assessments",href:typeof route<"u"?route("competency-assessments.index"):"/competency-assessments",variant:"secondary"}]),c=K({employee_id:((M=m.filters)==null?void 0:M.employee_id)||"",status:((U=m.filters)==null?void 0:U.status)||"",assessment_cycle_id:((D=m.filters)==null?void 0:D.assessment_cycle_id)||""}),h=()=>{try{if(typeof route>"u"){console.error("Route function is not available");return}const o=route("competency-assessments.my-assessments");if(!o){console.error("Route URL could not be generated");return}W.get(o,c.value,{preserveState:!0,preserveScroll:!0}).catch(s=>{console.error("Error applying filters:",s)})}catch(o){console.error("Error in applyFilters:",o)}},q=()=>{c.value={employee_id:"",status:"",assessment_cycle_id:""},h()},z=o=>o.split(" ").map(s=>s.charAt(0)).join("").toUpperCase().substring(0,2),j=o=>({draft:"Draft",submitted:"Submitted",approved:"Approved",rejected:"Rejected"})[o]||o,Y=o=>({draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",G=o=>({1:"Needs Improvement",2:"Below Expectations",3:"Meets Expectations",4:"Exceeds Expectations",5:"Outstanding"})[o]||"",J=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),w=(o,s=null)=>{try{return typeof route>"u"?(console.warn(`Route function not available for: ${o}`),"#"):route(o,s)}catch(v){return console.error(`Error generating route ${o}:`,v),"#"}};return(o,s)=>(r(),k(X,null,{default:x(()=>[i(Z,{title:"My Assessments",subtitle:"Assessments assigned to me for completion",breadcrumbs:H.value,actions:Q.value},{default:x(()=>{var v,R,V,F,L,O;return[e("div",ce,[e("div",me,[e("div",ue,[e("div",fe,[i(d(se),{class:"h-8 w-8 text-blue-600"})]),e("div",ge,[s[3]||(s[3]=e("p",{class:"text-sm font-medium text-gray-500"},"Total Assigned",-1)),e("p",ye,n(((v=l.stats)==null?void 0:v.total)||0),1)])])]),e("div",xe,[e("div",be,[e("div",pe,[i(d(te),{class:"h-8 w-8 text-yellow-600"})]),e("div",he,[s[4]||(s[4]=e("p",{class:"text-sm font-medium text-gray-500"},"Pending",-1)),e("p",ve,n(((R=l.stats)==null?void 0:R.pending)||0),1)])])]),e("div",_e,[e("div",we,[e("div",ke,[i(d(oe),{class:"h-8 w-8 text-green-600"})]),e("div",Ae,[s[5]||(s[5]=e("p",{class:"text-sm font-medium text-gray-500"},"Completed",-1)),e("p",Ce,n(((V=l.stats)==null?void 0:V.completed)||0),1)])])])]),e("div",Se,[e("div",je,[e("div",$e,[e("div",null,[s[7]||(s[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Employee",-1)),A(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>c.value.employee_id=t),onChange:h,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[6]||(s[6]=e("option",{value:""},"All Employees",-1)),(r(!0),a(u,null,f(l.employees,t=>{var g;return r(),a("option",{key:t.id,value:t.id},n(((g=t.user)==null?void 0:g.name)||"Unknown"),9,Ee)}),128))],544),[[C,c.value.employee_id]])]),e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),A(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>c.value.status=t),onChange:h,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[8]||(s[8]=e("option",{value:""},"All Statuses",-1)),(r(!0),a(u,null,f(l.statusOptions,t=>(r(),a("option",{key:t,value:t},n(j(t)),9,Me))),128))],544),[[C,c.value.status]])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Assessment Cycle",-1)),A(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>c.value.assessment_cycle_id=t),onChange:h,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[10]||(s[10]=e("option",{value:""},"All Cycles",-1)),(r(!0),a(u,null,f(l.assessmentCycles,t=>(r(),a("option",{key:t.id,value:t.id},n(t.name),9,Ue))),128))],544),[[C,c.value.assessment_cycle_id]])]),e("div",{class:"flex items-end"},[e("button",{onClick:q,class:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Clear Filters ")])])])]),e("div",De,[e("div",Re,[e("h3",Ve," Assessments ("+n(((F=l.assessments)==null?void 0:F.total)||0)+") ",1)]),!((L=l.assessments)!=null&&L.data)||l.assessments.data.length===0?(r(),a("div",Fe,[i(d(de),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s[12]||(s[12]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No Assessments Found",-1)),s[13]||(s[13]=e("p",{class:"text-gray-500"},"You don't have any assessments assigned to you yet.",-1))])):(r(),a("div",Le,[(r(!0),a(u,null,f(((O=l.assessments)==null?void 0:O.data)||[],t=>{var g,B,T,N;return r(),a("div",{key:(t==null?void 0:t.id)||Math.random(),class:"p-6 hover:bg-gray-50 transition-colors duration-200"},[e("div",Oe,[e("div",Be,[e("div",Te,[e("div",Ne,[e("div",Ie,[e("span",Pe,n(z(((B=(g=t.employee)==null?void 0:g.user)==null?void 0:B.name)||"Unknown")),1)]),e("div",null,[i(d(_),{href:w("competency-assessments.by-employee",(T=t.employee)==null?void 0:T.id),class:"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline"},{default:x(()=>{var y,I;return[p(n(((I=(y=t.employee)==null?void 0:y.user)==null?void 0:I.name)||"Unknown"),1)]}),_:2},1032,["href"])])]),s[14]||(s[14]=e("span",{class:"text-gray-300"},"â€¢",-1)),e("h4",He,n((N=t.competency)==null?void 0:N.name),1),e("span",{class:S([Y(t.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},n(j(t.status)),3)]),e("div",Qe,[e("div",qe,[i(d(re),{class:"w-4 h-4 mr-1"}),p(" "+n(J(t.created_at)),1)]),t.assessment_cycle?(r(),a("div",ze,[i(d(ie),{class:"w-4 h-4 mr-1"}),p(" "+n(t.assessment_cycle.name),1)])):b("",!0)]),t.rating?(r(),a("div",Ye,[s[15]||(s[15]=e("span",{class:"text-sm font-medium text-gray-700 mr-2"},"Rating:",-1)),e("div",Ge,[e("div",Je,[(r(),a(u,null,f(5,y=>i(d(ne),{key:y,class:S([y<=t.rating?"text-yellow-400":"text-gray-300","h-4 w-4"])},null,8,["class"])),64))]),e("span",Ke,n(t.rating)+"/5",1),e("span",We,"("+n(G(t.rating))+")",1)])])):b("",!0),t.comments?(r(),a("div",Xe,[e("p",Ze,n(t.comments),1)])):b("",!0)]),e("div",es,[i(d(_),{href:w("competency-assessments.show",t.id),class:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:x(()=>[i(d(le),{class:"w-4 h-4 mr-2"}),s[16]||(s[16]=p(" View "))]),_:2,__:[16]},1032,["href"]),t.status==="draft"?(r(),k(d(_),{key:0,href:w("competency-assessments.evaluate",t.id),class:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:x(()=>[i(d(ae),{class:"w-4 h-4 mr-2"}),s[17]||(s[17]=p(" Complete "))]),_:2,__:[17]},1032,["href"])):b("",!0)])])])}),128))])),l.assessments.links?(r(),a("div",ss,[e("div",ts,[e("div",os," Showing "+n(l.assessments.from)+" to "+n(l.assessments.to)+" of "+n(l.assessments.total)+" results ",1),e("div",rs,[(r(!0),a(u,null,f(l.assessments.links,t=>(r(),k(d(_),{key:t.label,href:t.url,class:S(["px-3 py-2 text-sm font-medium rounded-md",t.active?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))])])])):b("",!0)])]}),_:1},8,["breadcrumbs","actions"])]),_:1}))}},vs=ee(ns,[["__scopeId","data-v-7c9f976a"]]);export{vs as default};
