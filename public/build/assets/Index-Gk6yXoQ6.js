import{f as v,e as B,g as R,o as i,h as x,k as P,a as e,c as d,i as f,w,b as F,F as c,r as y,t as l,v as S,u as k,S as _,l as g,n as m}from"./app-DTfRFSiO.js";import{A as E}from"./AuthenticatedLayout-DKVvZJZ2.js";import{P as G}from"./PageLayout-BoghhdJH.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-B4gmTkZK.js";import"./icons-CNm_Zbhz.js";import"./useAccessibility-DW5uQNni.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-BxpRn5W3.js";import"./PageHeader-C-NUSP5E.js";import"./Icon-Ce5C3CSF.js";/* empty css                                                                   */const K={class:"py-12"},Q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},X={class:"p-6 bg-white border-b border-gray-200"},Y={class:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-4"},Z={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ee=["value"],te=["value"],se=["value"],re={class:"mt-4 flex items-center justify-between"},oe={class:"flex items-center space-x-4"},le={class:"text-sm text-gray-500"},ie={class:"flex items-center space-x-2"},ne={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},ae={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},de={class:"flex items-center"},ue={class:"ml-3"},ge={class:"text-lg font-semibold text-gray-900"},ce={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},me={class:"flex items-center"},pe={class:"ml-3"},be={class:"text-lg font-semibold text-gray-900"},ve={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},xe={class:"flex items-center"},fe={class:"ml-3"},ye={class:"text-lg font-semibold text-gray-900"},he={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},we={class:"flex items-center"},ke={class:"ml-3"},_e={class:"text-lg font-semibold text-gray-900"},Ce={key:0,class:"text-center py-12"},Me={class:"mt-6"},je={key:1,class:"space-y-4"},Be={class:"p-6"},Re={class:"flex items-start justify-between"},Se={class:"flex-1"},Le={class:"flex items-center space-x-3 mb-3"},Pe={class:"flex items-center space-x-2"},ze={class:"text-lg font-semibold text-gray-900 truncate max-w-md"},Ve={class:"flex items-center space-x-2"},Ae={class:"text-gray-600 line-clamp-2 mb-4"},De={class:"flex items-center justify-between"},Ne={class:"flex items-center space-x-4 text-xs text-gray-500"},qe={class:"flex items-center"},Oe={key:0,class:"flex items-center"},He={key:1,class:"flex items-center text-orange-600"},Ue={class:"flex items-center"},Ie={class:"flex items-center"},Te={key:2,class:"mt-6 flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},$e={class:"flex flex-1 justify-between sm:hidden"},Fe=["disabled"],Ee=["disabled"],Ge={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},Je={class:"text-sm text-gray-700"},Ke={class:"isolate inline-flex -space-x-px rounded-md shadow-sm"},Qe=["disabled"],We=["onClick"],Xe=["disabled"],Ye={key:3,class:"mt-6 flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},Ze={class:"flex flex-1 justify-between sm:hidden"},et={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},tt={class:"text-sm text-gray-700"},st={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},rt=["innerHTML"],C=10,ot={__name:"Index",props:{supportRequests:Object,categories:Object,priorities:Object,statuses:Object,isAdmin:Boolean},setup(n){const M=n,z=r=>({open:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"})[r]||"bg-gray-100 text-gray-800",V=r=>({low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[r]||"bg-gray-100 text-gray-800",A=v(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Support",current:!0}]),D=v(()=>[{label:"New Request",href:route("support.create"),variant:"primary"}]),u=B({search:"",status:"",priority:"",category:""}),h=B("created_at"),N=B("desc"),a=B(1),p=v(()=>{let r=[...M.supportRequests.data];if(u.value.search){const t=u.value.search.toLowerCase();r=r.filter(s=>s.subject.toLowerCase().includes(t)||s.description.toLowerCase().includes(t)||M.isAdmin&&s.user.name.toLowerCase().includes(t))}return u.value.status&&(r=r.filter(t=>t.status===u.value.status)),u.value.priority&&(r=r.filter(t=>t.priority===u.value.priority)),u.value.category&&(r=r.filter(t=>t.category===u.value.category)),r.sort((t,s)=>{let o=t[h.value],j=s[h.value];return h.value==="created_at"&&(o=new Date(o),j=new Date(j)),N.value==="asc"?o>j?1:-1:o<j?1:-1}),r}),b=v(()=>Math.ceil(p.value.length/C)),q=v(()=>{const r=(a.value-1)*C,t=r+C;return p.value.slice(r,t)}),O=v(()=>{const r=[],t=b.value,s=a.value;if(t<=7)for(let o=1;o<=t;o++)r.push(o);else if(s<=4){for(let o=1;o<=5;o++)r.push(o);r.push("..."),r.push(t)}else if(s>=t-3){r.push(1),r.push("...");for(let o=t-4;o<=t;o++)r.push(o)}else{r.push(1),r.push("...");for(let o=s-1;o<=s+1;o++)r.push(o);r.push("..."),r.push(t)}return r.filter(o=>o!=="..."||r.indexOf(o)===r.lastIndexOf(o))}),H=()=>{u.value={search:"",status:"",priority:"",category:""},a.value=1},L=r=>M.supportRequests.data.filter(t=>t.status===r).length,U=r=>M.supportRequests.data.filter(t=>t.priority===r).length,I=r=>({low:"bg-green-400",medium:"bg-yellow-400",high:"bg-orange-400",urgent:"bg-red-400"})[r]||"bg-gray-400",T=r=>({urgent:"border-l-4 border-l-red-400",high:"border-l-4 border-l-orange-400",medium:"border-l-4 border-l-yellow-400",low:"border-l-4 border-l-green-400"})[r]||"",$=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(r,t)=>(i(),R(E,null,{default:x(()=>[P(G,{title:n.isAdmin?"All Support Requests":"My Support Requests",subtitle:"View and manage support requests",breadcrumbs:A.value,actions:D.value},{default:x(()=>[e("div",K,[e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>u.value.search=s),type:"text",placeholder:"Search by subject or description...",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[F,u.value.search]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),w(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>u.value.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[10]||(t[10]=e("option",{value:""},"All Statuses",-1)),(i(!0),d(c,null,y(n.statuses,(s,o)=>(i(),d("option",{key:o,value:o},l(s),9,ee))),128))],512),[[S,u.value.status]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Priority",-1)),w(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>u.value.priority=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[12]||(t[12]=e("option",{value:""},"All Priorities",-1)),(i(!0),d(c,null,y(n.priorities,(s,o)=>(i(),d("option",{key:o,value:o},l(s),9,te))),128))],512),[[S,u.value.priority]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),w(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>u.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[14]||(t[14]=e("option",{value:""},"All Categories",-1)),(i(!0),d(c,null,y(n.categories,(s,o)=>(i(),d("option",{key:o,value:o},l(s),9,se))),128))],512),[[S,u.value.category]])])]),e("div",re,[e("div",oe,[e("button",{onClick:H,class:"text-sm text-gray-500 hover:text-gray-700"},"Clear Filters"),e("span",le,l(p.value.length)+" of "+l(n.supportRequests.data.length)+" requests",1)]),e("div",ie,[t[17]||(t[17]=e("label",{class:"text-sm text-gray-700 whitespace-nowrap"},"Sort by:",-1)),w(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>h.value=s),class:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[140px]"},t[16]||(t[16]=[e("option",{value:"created_at"},"Date Created",-1),e("option",{value:"priority"},"Priority",-1),e("option",{value:"status"},"Status",-1),e("option",{value:"category"},"Category",-1)]),512),[[S,h.value]])])])]),e("div",ne,[e("div",ae,[e("div",de,[t[19]||(t[19]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",ue,[t[18]||(t[18]=e("p",{class:"text-sm font-medium text-gray-500"},"Open",-1)),e("p",ge,l(L("open")),1)])])]),e("div",ce,[e("div",me,[t[21]||(t[21]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",pe,[t[20]||(t[20]=e("p",{class:"text-sm font-medium text-gray-500"},"In Progress",-1)),e("p",be,l(L("in_progress")),1)])])]),e("div",ve,[e("div",xe,[t[23]||(t[23]=e("div",{class:"p-2 bg-red-100 rounded-lg"},[e("svg",{class:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",fe,[t[22]||(t[22]=e("p",{class:"text-sm font-medium text-gray-500"},"Urgent",-1)),e("p",ye,l(U("urgent")),1)])])]),e("div",he,[e("div",we,[t[25]||(t[25]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",ke,[t[24]||(t[24]=e("p",{class:"text-sm font-medium text-gray-500"},"Resolved",-1)),e("p",_e,l(L("resolved")),1)])])])]),p.value.length===0?(i(),d("div",Ce,[t[27]||(t[27]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),t[28]||(t[28]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No support requests",-1)),t[29]||(t[29]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating a new support request.",-1)),e("div",Me,[P(k(_),{href:r.route("support.create"),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"},{default:x(()=>t[26]||(t[26]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),g(" New Support Request ")])),_:1,__:[26]},8,["href"])])])):(i(),d("div",je,[(i(!0),d(c,null,y(q.value,s=>(i(),d("div",{key:s.id,class:m(["bg-white border border-gray-200 rounded-lg hover:shadow-md transition-all duration-200",T(s.priority)])},[e("div",Be,[e("div",Re,[e("div",Se,[e("div",Le,[e("div",Pe,[e("div",{class:m([I(s.priority),"w-3 h-3 rounded-full"])},null,2),e("h3",ze,l(s.subject),1)]),e("div",Ve,[e("span",{class:m([z(s.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},l(n.statuses[s.status]),3),e("span",{class:m([V(s.priority),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},l(n.priorities[s.priority]),3)])]),e("p",Ae,l(s.description),1),e("div",De,[e("div",Ne,[e("span",qe,[t[30]||(t[30]=e("svg",{class:"mr-1 h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),g(" "+l(n.categories[s.category]),1)]),n.isAdmin?(i(),d("span",Oe,[t[31]||(t[31]=e("svg",{class:"mr-1 h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),g(" "+l(s.user.name),1)])):f("",!0),n.isAdmin&&s.admin_notes?(i(),d("span",He,t[32]||(t[32]=[e("svg",{class:"mr-1 h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),g(" Admin Notes ")]))):f("",!0),e("span",Ue,[t[33]||(t[33]=e("svg",{class:"mr-1 h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),g(" "+l($(s.created_at)),1)]),e("span",Ie,[t[34]||(t[34]=e("svg",{class:"mr-1 h-3 w-3",fill:"non",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})],-1)),g(" #"+l(s.id),1)])]),P(k(_),{href:r.route("support.show",s.id),class:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors"},{default:x(()=>t[35]||(t[35]=[g(" View Details "),e("svg",{class:"ml-1 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:2,__:[35]},1032,["href"])])])])])],2))),128))])),b.value>1?(i(),d("div",Te,[e("div",$e,[e("button",{onClick:t[5]||(t[5]=s=>a.value>1&&a.value--),disabled:a.value===1,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50"}," Previous ",8,Fe),e("button",{onClick:t[6]||(t[6]=s=>a.value<b.value&&a.value++),disabled:a.value===b.value,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50"}," Next ",8,Ee)]),e("div",Ge,[e("div",null,[e("p",Je," Showing "+l((a.value-1)*C+1)+" to "+l(Math.min(a.value*C,p.value.length))+" of "+l(p.value.length)+" results ",1)]),e("div",null,[e("nav",Ke,[e("button",{onClick:t[7]||(t[7]=s=>a.value>1&&a.value--),disabled:a.value===1,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:opacity-50"},t[36]||(t[36]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1)]),8,Qe),(i(!0),d(c,null,y(O.value,s=>(i(),d("button",{key:s,onClick:o=>a.value=s,class:m([s===a.value?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 text-sm font-medium ring-1 ring-inset ring-gray-300"])},l(s),11,We))),128)),e("button",{onClick:t[8]||(t[8]=s=>a.value<b.value&&a.value++),disabled:a.value===b.value,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:opacity-50"},t[37]||(t[37]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})],-1)]),8,Xe)])])])])):f("",!0),n.supportRequests.links&&n.supportRequests.links.length>3?(i(),d("div",Ye,[e("div",Ze,[n.supportRequests.prev_page_url?(i(),R(k(_),{key:0,href:n.supportRequests.prev_page_url,class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:x(()=>t[38]||(t[38]=[g(" Previous ")])),_:1,__:[38]},8,["href"])):f("",!0),n.supportRequests.next_page_url?(i(),R(k(_),{key:1,href:n.supportRequests.next_page_url,class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:x(()=>t[39]||(t[39]=[g(" Next ")])),_:1,__:[39]},8,["href"])):f("",!0)]),e("div",et,[e("div",null,[e("p",tt," Showing "+l(n.supportRequests.from)+" to "+l(n.supportRequests.to)+" of "+l(n.supportRequests.total)+" results ",1)]),e("div",null,[e("nav",st,[(i(!0),d(c,null,y(n.supportRequests.links,s=>(i(),d(c,{key:s.label},[s.url?(i(),R(k(_),{key:0,href:s.url,class:m([s.active?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(i(),d("span",{key:1,class:m(["relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-300"]),innerHTML:s.label},null,8,rt))],64))),128))])])])])):f("",!0)])])])])]),_:1},8,["title","breadcrumbs","actions"])]),_:1}))}},vt=J(ot,[["__scopeId","data-v-60b81635"]]);export{vt as default};
