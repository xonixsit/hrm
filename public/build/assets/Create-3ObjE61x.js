import{x as A,f as q,g as c,o,h as p,k as a,a as e,d as N,w as u,c as l,i as x,l as n,u as s,b as y,t as m,j as _}from"./app-Bj8W9CoF.js";import{A as U}from"./AuthenticatedLayout-CO-2sryW.js";import{P as B}from"./PageLayout-O-g1KdJw.js";import{C as D}from"./ContentCard-BA_70J0U.js";import{C as w}from"./ContentSection-D_HOug0A.js";import{r as f}from"./ExclamationCircleIcon-Kp-xegP2.js";import{e as b,h,i as g,c as S}from"./icons-CyONBCp-.js";import"./useAuth-DI08NYi3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-DGe0ya_-.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-CFOQFDmp.js";import"./PageHeader-q4XGPvjE.js";import"./Icon-ulFt8TY0.js";/* empty css                                                                   */const M={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},E={key:0,class:"text-error-600 text-sm mt-1 flex items-center"},$={class:"relative"},R={key:0,class:"text-error-600 text-sm mt-1 flex items-center"},F={class:"mt-6"},T={key:0,class:"text-error-600 text-sm mt-1 flex items-center"},j={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},z={class:"space-y-6"},H={class:"flex items-start"},I={class:"flex items-center h-5"},O={class:"flex items-start"},Q={class:"flex items-center h-5"},W={class:"space-y-6"},G={class:"flex items-start"},J={class:"flex items-center h-5"},K={class:"bg-neutral-50 rounded-lg p-4"},X={class:"space-y-1 text-xs text-neutral-600"},Y={class:"flex items-center"},Z={class:"flex items-center"},ee={class:"flex items-center"},te={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},se={class:"relative"},re={class:"text-xs text-neutral-500 mt-1"},oe={key:0,class:"text-error-600 text-sm mt-1 flex items-center"},ie={class:"relative"},ae={class:"text-xs text-neutral-500 mt-1"},ne={key:0,class:"text-error-600 text-sm mt-1 flex items-center"},le={class:"mt-6 bg-info-50 border border-info-200 rounded-lg p-4"},de={class:"flex"},me={class:"text-sm text-info-700 mt-1 space-y-1"},ue={key:0},ce={key:1},pe={key:2},xe={key:3},ye={class:"flex items-center justify-between pt-8 border-t border-neutral-200"},fe={class:"flex items-center space-x-3"},ve=["disabled"],be={key:0,class:"flex items-center"},_e={key:1,class:"flex items-center"},Me={__name:"Create",setup(we){const r=A({name:"",quota:25,description:"",is_active:!0,requires_approval:!0,max_consecutive_days:null,min_notice_days:null,carry_forward:!1}),C=q(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Leave Policies",href:route("leave-types.index")},{label:"Create Policy",current:!0}]),V=q(()=>r.name.trim()!==""&&r.quota>0),P=()=>{r.post(route("leave-types.store"),{onSuccess:()=>{},onError:v=>{console.error("Validation errors:",v)}})},L=()=>{r.reset(),r.clearErrors()},{errors:d,processing:k}=r;return(v,t)=>(o(),c(U,null,{default:p(()=>[a(B,{title:"Create Leave Policy",subtitle:"Define a new leave type with policies and quotas",breadcrumbs:C.value},{default:p(()=>[a(D,null,{default:p(()=>[e("form",{onSubmit:N(P,["prevent"]),class:"space-y-8"},[a(w,{title:"Basic Information",subtitle:"Define the leave type name, quota, and description"},{default:p(()=>[e("div",M,[e("div",null,[t[9]||(t[9]=e("label",{for:"name",class:"block text-sm font-medium text-neutral-700 mb-2"},[n(" Leave Type Name "),e("span",{class:"text-error-500"},"*")],-1)),u(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=i=>s(r).name=i),type:"text",class:"w-full border border-neutral-300 rounded-md shadow-sm px-3 py-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-150",placeholder:"e.g., Annual Leave, Sick Leave",required:""},null,512),[[y,s(r).name]]),s(d).name?(o(),l("div",E,[a(s(f),{class:"w-4 h-4 mr-1"}),n(" "+m(s(d).name),1)])):x("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{for:"quota",class:"block text-sm font-medium text-neutral-700 mb-2"},[n(" Annual Quota (Days) "),e("span",{class:"text-error-500"},"*")],-1)),e("div",$,[u(e("input",{id:"quota","onUpdate:modelValue":t[1]||(t[1]=i=>s(r).quota=i),type:"number",min:"0",max:"365",class:"w-full border border-neutral-300 rounded-md shadow-sm px-3 py-2 pr-12 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-150",placeholder:"25",required:""},null,512),[[y,s(r).quota,void 0,{number:!0}]]),t[10]||(t[10]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-neutral-500 text-sm"},"days")],-1))]),s(d).quota?(o(),l("div",R,[a(s(f),{class:"w-4 h-4 mr-1"}),n(" "+m(s(d).quota),1)])):x("",!0)])]),e("div",F,[t[12]||(t[12]=e("label",{for:"description",class:"block text-sm font-medium text-neutral-700 mb-2"}," Description ",-1)),u(e("textarea",{id:"description","onUpdate:modelValue":t[2]||(t[2]=i=>s(r).description=i),rows:"3",class:"w-full border border-neutral-300 rounded-md shadow-sm px-3 py-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-150",placeholder:"Brief description of this leave type and when it can be used..."},null,512),[[y,s(r).description]]),t[13]||(t[13]=e("p",{class:"text-xs text-neutral-500 mt-1"},"Optional: Provide context for when this leave type should be used",-1)),s(d).description?(o(),l("div",T,[a(s(f),{class:"w-4 h-4 mr-1"}),n(" "+m(s(d).description),1)])):x("",!0)])]),_:1}),a(w,{title:"Policy Settings",subtitle:"Configure approval requirements and carry-forward rules"},{default:p(()=>[e("div",j,[e("div",z,[e("div",H,[e("div",I,[u(e("input",{id:"requires_approval","onUpdate:modelValue":t[3]||(t[3]=i=>s(r).requires_approval=i),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded transition-colors duration-150"},null,512),[[_,s(r).requires_approval]])]),t[14]||(t[14]=e("div",{class:"ml-3"},[e("label",{for:"requires_approval",class:"text-sm font-medium text-neutral-900"}," Requires manager approval "),e("p",{class:"text-xs text-neutral-500 mt-1"}," When enabled, all leave requests must be approved by a manager before being granted ")],-1))]),e("div",O,[e("div",Q,[u(e("input",{id:"carry_forward","onUpdate:modelValue":t[4]||(t[4]=i=>s(r).carry_forward=i),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded transition-colors duration-150"},null,512),[[_,s(r).carry_forward]])]),t[15]||(t[15]=e("div",{class:"ml-3"},[e("label",{for:"carry_forward",class:"text-sm font-medium text-neutral-900"}," Allow carry forward "),e("p",{class:"text-xs text-neutral-500 mt-1"}," Unused leave days will roll over to the next year ")],-1))])]),e("div",W,[e("div",G,[e("div",J,[u(e("input",{id:"is_active","onUpdate:modelValue":t[5]||(t[5]=i=>s(r).is_active=i),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded transition-colors duration-150"},null,512),[[_,s(r).is_active]])]),t[16]||(t[16]=e("div",{class:"ml-3"},[e("label",{for:"is_active",class:"text-sm font-medium text-neutral-900"}," Active policy "),e("p",{class:"text-xs text-neutral-500 mt-1"}," Employees can request this leave type when active ")],-1))]),e("div",K,[t[17]||(t[17]=e("h4",{class:"text-sm font-medium text-neutral-900 mb-2"},"Policy Preview",-1)),e("div",X,[e("div",Y,[s(r).requires_approval?(o(),c(s(b),{key:0,class:"w-3 h-3 text-success-500 mr-2"})):(o(),c(s(h),{key:1,class:"w-3 h-3 text-neutral-400 mr-2"})),e("span",null,m(s(r).requires_approval?"Requires approval":"Auto-approved"),1)]),e("div",Z,[s(r).carry_forward?(o(),c(s(b),{key:0,class:"w-3 h-3 text-success-500 mr-2"})):(o(),c(s(h),{key:1,class:"w-3 h-3 text-neutral-400 mr-2"})),e("span",null,m(s(r).carry_forward?"Carry forward enabled":"No carry forward"),1)]),e("div",ee,[s(r).is_active?(o(),c(s(b),{key:0,class:"w-3 h-3 text-success-500 mr-2"})):(o(),c(s(h),{key:1,class:"w-3 h-3 text-neutral-400 mr-2"})),e("span",null,m(s(r).is_active?"Active policy":"Inactive policy"),1)])])])])])]),_:1}),a(w,{title:"Restrictions & Limits",subtitle:"Set limits on consecutive days and notice requirements"},{default:p(()=>[e("div",te,[e("div",null,[t[20]||(t[20]=e("label",{for:"max_consecutive_days",class:"block text-sm font-medium text-neutral-700 mb-2"}," Maximum Consecutive Days ",-1)),e("div",se,[u(e("input",{id:"max_consecutive_days","onUpdate:modelValue":t[6]||(t[6]=i=>s(r).max_consecutive_days=i),type:"number",min:"1",max:"365",class:"w-full border border-neutral-300 rounded-md shadow-sm px-3 py-2 pr-12 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-150",placeholder:"30"},null,512),[[y,s(r).max_consecutive_days,void 0,{number:!0}]]),t[18]||(t[18]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-neutral-500 text-sm"},"days")],-1))]),e("p",re,[a(s(g),{class:"w-3 h-3 inline mr-1"}),t[19]||(t[19]=n(" Leave blank for no limit. Maximum consecutive days that can be taken at once. "))]),s(d).max_consecutive_days?(o(),l("div",oe,[a(s(f),{class:"w-4 h-4 mr-1"}),n(" "+m(s(d).max_consecutive_days),1)])):x("",!0)]),e("div",null,[t[23]||(t[23]=e("label",{for:"min_notice_days",class:"block text-sm font-medium text-neutral-700 mb-2"}," Minimum Notice Period ",-1)),e("div",ie,[u(e("input",{id:"min_notice_days","onUpdate:modelValue":t[7]||(t[7]=i=>s(r).min_notice_days=i),type:"number",min:"0",max:"365",class:"w-full border border-neutral-300 rounded-md shadow-sm px-3 py-2 pr-12 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-150",placeholder:"7"},null,512),[[y,s(r).min_notice_days,void 0,{number:!0}]]),t[21]||(t[21]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-neutral-500 text-sm"},"days")],-1))]),e("p",ae,[a(s(g),{class:"w-3 h-3 inline mr-1"}),t[22]||(t[22]=n(" Leave blank for no requirement. How many days in advance employees must request this leave. "))]),s(d).min_notice_days?(o(),l("div",ne,[a(s(f),{class:"w-4 h-4 mr-1"}),n(" "+m(s(d).min_notice_days),1)])):x("",!0)])]),e("div",le,[e("div",de,[a(s(g),{class:"h-5 w-5 text-info-400 mr-3 mt-0.5 flex-shrink-0"}),e("div",null,[t[24]||(t[24]=e("h4",{class:"text-sm font-medium text-info-800"},"Restrictions Summary",-1)),e("div",me,[s(r).max_consecutive_days?(o(),l("p",ue," • Employees can take a maximum of "+m(s(r).max_consecutive_days)+" consecutive days ",1)):(o(),l("p",ce," • No limit on consecutive days ")),s(r).min_notice_days?(o(),l("p",pe," • Employees must provide at least "+m(s(r).min_notice_days)+" days notice ",1)):(o(),l("p",xe," • No advance notice required "))])])])])]),_:1}),e("div",ye,[e("button",{type:"button",onClick:t[8]||(t[8]=i=>v.$inertia.visit(v.route("leave-types.index"))),class:"inline-flex items-center px-4 py-2 border border-neutral-300 rounded-md shadow-sm text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-150"},[a(s(S),{class:"w-4 h-4 mr-2"}),t[25]||(t[25]=n(" Back to Policies "))]),e("div",fe,[e("button",{type:"button",onClick:L,class:"px-4 py-2 border border-neutral-300 rounded-md shadow-sm text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-150"}," Reset Form "),e("button",{type:"submit",disabled:s(k)||!V.value,class:"inline-flex items-center px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-150"},[s(k)?(o(),l("span",be,t[26]||(t[26]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),n(" Creating... ")]))):(o(),l("span",_e,[a(s(b),{class:"w-4 h-4 mr-2"}),t[27]||(t[27]=n(" Create Leave Policy "))]))],8,ve)])])],32)]),_:1})]),_:1},8,["breadcrumbs"])]),_:1}))}};export{Me as default};
