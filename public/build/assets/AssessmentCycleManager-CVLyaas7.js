import{e as k,x as Je,f as E,y as Re,z as Ge,g as G,o as d,h as f,k as l,u as o,a as e,l as p,t as u,d as Y,c as m,F as q,r as T,n as M,w,j as O,p as ve,i as h,J as ke,b as Ve,v as De,B as Xe,S as Pe,q as fe,s as Ke,Q as j}from"./app-BVCTmwG0.js";import{l as Ze}from"./lodash-Bshsq1IQ.js";import{r as Le,A as es}from"./AuthenticatedLayout-DD0dR7M1.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-D0J4tqhD.js";import"./Icon-XFcH5EgJ.js";import{_ as We}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                   */import{P as Me}from"./PrimaryButton-C7K2EOfU.js";import{_ as Z}from"./SecondaryButton-DVyTXnZQ.js";import{_ as ss}from"./ConfirmationModal-ChJcQnuh.js";import{F as B}from"./FormField-BcyaBe5e.js";import{B as ye}from"./BaseInput-DaJxSvuN.js";import{B as ts}from"./BaseTextarea-D8eNXS-h.js";import{h as oe,g as he,f as _e,s as os,k as Ue,a as ge,t as Be,q as K,u as ns,v as ls,w as as,j as qe,e as Se,x as Ae,b as is,y as rs,r as ds,i as Te,p as ze}from"./icons-CHW2ABMi.js";import{Y as cs,h as Ie,G as us,V as ms,S as ps}from"./transition-CuMtSs3u.js";import{r as Ye}from"./ArrowPathIcon-DQY8aOSa.js";import{r as vs}from"./DocumentDuplicateIcon-B6keF8V8.js";import{r as fs}from"./ArrowDownTrayIcon-0jPjGskU.js";import"./useAuth-YklZZD1f.js";import"./useAccessibility-DmE2Uwhd.js";/* empty css                                                                  */const ys={class:"fixed inset-0 z-10 overflow-y-auto"},gs={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},_s={class:"modal-header"},hs={class:"header-content"},bs={class:"modal-subtitle"},xs={class:"modal-content"},ws={class:"step-indicator"},Cs={class:"steps-list"},$s={class:"step-number"},ks={class:"step-label"},Ss={class:"form-steps"},As={class:"form-step"},Vs={class:"form-grid"},Ds={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ms={class:"assessment-types-grid"},Us=["value"],Fs={class:"assessment-type-content"},Ns={class:"assessment-type-name"},js={class:"assessment-type-description"},Es={class:"form-step"},Rs={class:"participant-selection"},Ps={class:"selection-mode"},Ls={class:"mode-options"},Bs={class:"mode-option"},qs={class:"mode-option"},Ts={class:"mode-option"},zs={key:0,class:"department-selection"},Is={class:"department-grid"},Ys=["value"],Gs={class:"department-content"},Ws={class:"department-name"},Hs={class:"department-count"},Os={key:1,class:"individual-selection"},Qs={class:"employee-search"},Js={class:"search-input"},Xs={class:"employee-list"},Ks=["value"],Zs={class:"employee-content"},et={class:"employee-avatar"},st={class:"avatar-circle"},tt={class:"employee-info"},ot={class:"employee-name"},nt={class:"employee-details"},lt={key:0,class:"employee-position"},at={key:1,class:"employee-department"},it={class:"selection-summary"},rt={class:"summary-card"},dt={class:"summary-header"},ct={class:"summary-content"},ut={class:"summary-count"},mt={class:"form-step"},pt={class:"competency-assignment"},vt={class:"competency-search"},ft={class:"search-input"},yt={class:"competency-categories"},gt={class:"category-header"},_t={class:"category-title"},ht=["onClick"],bt={class:"competency-grid"},xt=["value"],wt={class:"competency-content"},Ct={class:"competency-name"},$t={class:"competency-description"},kt={key:0,class:"competency-weight"},St={class:"form-step"},At={class:"notification-settings"},Vt={class:"notification-options"},Dt={class:"notification-option"},Mt={class:"notification-option"},Ut={class:"notification-option"},Ft={key:0,class:"reminder-settings"},Nt={class:"reminder-options"},jt={class:"reminder-frequency"},Et={class:"reminder-timing"},Rt={class:"form-navigation"},Pt={class:"nav-buttons"},Lt={key:0,class:"flex items-center"},Bt={key:1},qt={__name:"CycleFormModal",props:{show:{type:Boolean,default:!1},cycle:{type:Object,default:null},employees:{type:Array,default:()=>[]},competencies:{type:Array,default:()=>[]}},emits:["close","save"],setup(Q,{emit:ne}){const b=Q,H=ne,x=k(0),$=k("all"),v=k([]),U=k([]),C=k([]),R=k(""),P=k(""),r=Je({name:"",description:"",start_date:"",end_date:"",assessment_types:[],target_employees:[],competencies:[],notification_settings:{send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7}}),A=E(()=>!!b.cycle),_=E(()=>[{id:"basic",label:"Basic Info"},{id:"participants",label:"Participants"},{id:"competencies",label:"Competencies"},{id:"notifications",label:"Notifications"}]),W=E(()=>[{value:"self",label:"Self Assessment",description:"Employees assess their own competencies"},{value:"manager",label:"Manager Assessment",description:"Managers assess their direct reports"},{value:"peer",label:"Peer Assessment",description:"Colleagues assess each other"},{value:"360",label:"360Â° Feedback",description:"Multi-source feedback from all levels"}]),le=E(()=>{const c=new Map;return b.employees.forEach(t=>{var a;t.department&&c.set(t.department.id,{id:t.department.id,name:t.department.name,employee_count:(((a=c.get(t.department.id))==null?void 0:a.employee_count)||0)+1})}),Array.from(c.values())}),ae=E(()=>{if(!R.value)return b.employees;const c=R.value.toLowerCase();return b.employees.filter(t=>t.name.toLowerCase().includes(c)||t.position&&t.position.toLowerCase().includes(c)||t.department&&t.department.name.toLowerCase().includes(c))}),ie=E(()=>{const c=new Set;return b.competencies.forEach(t=>{t.category&&c.add(t.category)}),Array.from(c).sort()}),J=E(()=>{switch($.value){case"all":return b.employees.length;case"department":return b.employees.filter(c=>c.department&&v.value.includes(c.department.id)).length;case"individual":return U.value.length;default:return 0}}),re=E(()=>{switch(x.value){case 0:return r.name&&r.start_date&&r.end_date&&r.assessment_types.length>0;case 1:return J.value>0;case 2:return C.value.length>0;case 3:return!0;default:return!1}}),ee=E(()=>r.name&&r.start_date&&r.end_date&&r.assessment_types.length>0&&J.value>0&&C.value.length>0),de=c=>c<x.value?"completed":c===x.value?"active":"pending",ce=()=>{x.value<_.value.length-1&&x.value++},be=()=>{x.value>0&&x.value--},xe=c=>c.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().slice(0,2),se=c=>{const t=b.competencies.filter(a=>a.category===c);if(P.value){const a=P.value.toLowerCase();return t.filter(y=>y.name.toLowerCase().includes(a)||y.description&&y.description.toLowerCase().includes(a))}return t},ue=c=>{const t=se(c);return t.length>0&&t.every(a=>C.value.includes(a.id))},me=c=>{const t=se(c);ue(c)?t.forEach(y=>{const z=C.value.indexOf(y.id);z>-1&&C.value.splice(z,1)}):t.forEach(y=>{C.value.includes(y.id)||C.value.push(y.id)})},pe=()=>{let c=[];switch($.value){case"all":c=b.employees.map(t=>t.id);break;case"department":c=b.employees.filter(t=>t.department&&v.value.includes(t.department.id)).map(t=>t.id);break;case"individual":c=U.value;break}r.target_employees=c,r.competencies=C.value,H("save",r.data())};Re(()=>b.show,c=>{c&&te()}),Re(()=>b.cycle,c=>{c&&F(c)});const te=()=>{x.value=0,$.value="all",v.value=[],U.value=[],C.value=[],R.value="",P.value="",b.cycle?F(b.cycle):(r.reset(),r.notification_settings={send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7})},F=c=>{r.name=c.name||"",r.description=c.description||"",r.start_date=c.start_date||"",r.end_date=c.end_date||"",r.assessment_types=c.assessment_types||[],r.notification_settings=c.notification_settings||{send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7},c.target_employees&&(U.value=c.target_employees,$.value="individual"),c.competencies&&(C.value=c.competencies)};return Ge(()=>{b.cycle&&F(b.cycle)}),(c,t)=>(d(),G(o(ps),{as:"template",show:Q.show},{default:f(()=>[l(o(cs),{as:"div",class:"relative z-50",onClose:t[20]||(t[20]=a=>c.$emit("close"))},{default:f(()=>[l(o(Ie),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:f(()=>t[21]||(t[21]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1,__:[21]}),e("div",ys,[e("div",gs,[l(o(Ie),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:f(()=>[l(o(us),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl"},{default:f(()=>[e("div",_s,[e("div",hs,[l(o(ms),{as:"h3",class:"modal-title"},{default:f(()=>[p(u(A.value?"Edit Assessment Cycle":"Create Assessment Cycle"),1)]),_:1}),e("p",bs,u(A.value?"Update the assessment cycle details":"Set up a new assessment cycle for systematic competency evaluation"),1)]),e("button",{onClick:t[0]||(t[0]=a=>c.$emit("close")),class:"close-button"},[l(o(oe),{class:"w-5 h-5"})])]),e("div",xs,[e("form",{onSubmit:Y(pe,["prevent"]),class:"cycle-form"},[e("div",ws,[e("div",Cs,[(d(!0),m(q,null,T(_.value,(a,y)=>(d(),m("div",{key:a.id,class:M(["step-item",de(y)])},[e("div",$s,u(y+1),1),e("div",ks,u(a.label),1)],2))),128))])]),e("div",Ss,[w(e("div",As,[t[22]||(t[22]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Basic Information"),e("p",{class:"step-description"},"Provide the basic details for your assessment cycle")],-1)),e("div",Vs,[l(B,{label:"Cycle Name",required:!0,"error-message":o(r).errors.name,"help-text":"A descriptive name for this assessment cycle"},{default:f(()=>[l(ye,{modelValue:o(r).name,"onUpdate:modelValue":t[1]||(t[1]=a=>o(r).name=a),placeholder:"e.g., Q1 2024 Performance Review","error-message":o(r).errors.name,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),l(B,{label:"Description","error-message":o(r).errors.description,"help-text":"Optional description of the assessment cycle's purpose"},{default:f(()=>[l(ts,{modelValue:o(r).description,"onUpdate:modelValue":t[2]||(t[2]=a=>o(r).description=a),placeholder:"Describe the purpose and scope of this assessment cycle...",rows:3,"error-message":o(r).errors.description},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),e("div",Ds,[l(B,{label:"Start Date",required:!0,"error-message":o(r).errors.start_date},{default:f(()=>[l(ye,{modelValue:o(r).start_date,"onUpdate:modelValue":t[3]||(t[3]=a=>o(r).start_date=a),type:"date","error-message":o(r).errors.start_date,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),l(B,{label:"End Date",required:!0,"error-message":o(r).errors.end_date},{default:f(()=>[l(ye,{modelValue:o(r).end_date,"onUpdate:modelValue":t[4]||(t[4]=a=>o(r).end_date=a),type:"date","error-message":o(r).errors.end_date,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"])]),l(B,{label:"Assessment Types",required:!0,"error-message":o(r).errors.assessment_types,"help-text":"Select the types of assessments to include in this cycle"},{default:f(()=>[e("div",Ms,[(d(!0),m(q,null,T(W.value,a=>(d(),m("label",{key:a.value,class:"assessment-type-option"},[w(e("input",{"onUpdate:modelValue":t[5]||(t[5]=y=>o(r).assessment_types=y),value:a.value,type:"checkbox",class:"assessment-type-checkbox"},null,8,Us),[[O,o(r).assessment_types]]),e("div",Fs,[e("div",Ns,u(a.label),1),e("div",js,u(a.description),1)])]))),128))])]),_:1},8,["error-message"])])],512),[[ve,x.value===0]]),w(e("div",Es,[t[28]||(t[28]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Participant Selection"),e("p",{class:"step-description"},"Choose which employees will participate in this assessment cycle")],-1)),e("div",Rs,[e("div",Ps,[e("div",Ls,[e("label",Bs,[w(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>$.value=a),value:"all",type:"radio",class:"mode-radio"},null,512),[[ke,$.value]]),t[23]||(t[23]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"All Employees"),e("div",{class:"mode-description"},"Include all active employees")],-1))]),e("label",qs,[w(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>$.value=a),value:"department",type:"radio",class:"mode-radio"},null,512),[[ke,$.value]]),t[24]||(t[24]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"By Department"),e("div",{class:"mode-description"},"Select specific departments")],-1))]),e("label",Ts,[w(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>$.value=a),value:"individual",type:"radio",class:"mode-radio"},null,512),[[ke,$.value]]),t[25]||(t[25]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"Individual Selection"),e("div",{class:"mode-description"},"Choose specific employees")],-1))])])]),$.value==="department"?(d(),m("div",zs,[l(B,{label:"Select Departments","error-message":o(r).errors.departments},{default:f(()=>[e("div",Is,[(d(!0),m(q,null,T(le.value,a=>(d(),m("label",{key:a.id,class:"department-option"},[w(e("input",{"onUpdate:modelValue":t[9]||(t[9]=y=>v.value=y),value:a.id,type:"checkbox",class:"department-checkbox"},null,8,Ys),[[O,v.value]]),e("div",Gs,[e("div",Ws,u(a.name),1),e("div",Hs,u(a.employee_count||0)+" employees",1)])]))),128))])]),_:1},8,["error-message"])])):h("",!0),$.value==="individual"?(d(),m("div",Os,[l(B,{label:"Select Employees","error-message":o(r).errors.employees},{default:f(()=>[e("div",Qs,[e("div",Js,[l(o(he),{class:"search-icon"}),w(e("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>R.value=a),type:"text",placeholder:"Search employees...",class:"search-field"},null,512),[[Ve,R.value]])])]),e("div",Xs,[(d(!0),m(q,null,T(ae.value,a=>(d(),m("label",{key:a.id,class:"employee-option"},[w(e("input",{"onUpdate:modelValue":t[11]||(t[11]=y=>U.value=y),value:a.id,type:"checkbox",class:"employee-checkbox"},null,8,Ks),[[O,U.value]]),e("div",Zs,[e("div",et,[e("div",st,u(xe(a.name)),1)]),e("div",tt,[e("div",ot,u(a.name),1),e("div",nt,[a.position?(d(),m("span",lt,u(a.position),1)):h("",!0),a.department?(d(),m("span",at,u(a.department.name),1)):h("",!0)])])])]))),128))])]),_:1},8,["error-message"])])):h("",!0),e("div",it,[e("div",rt,[e("div",dt,[l(o(_e),{class:"summary-icon"}),t[26]||(t[26]=e("h5",{class:"summary-title"},"Selected Participants",-1))]),e("div",ct,[e("div",ut,u(J.value),1),t[27]||(t[27]=e("div",{class:"summary-label"},"employees selected",-1))])])])])],512),[[ve,x.value===1]]),w(e("div",mt,[t[29]||(t[29]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Competency Assignment"),e("p",{class:"step-description"},"Select which competencies will be assessed in this cycle")],-1)),e("div",pt,[l(B,{label:"Select Competencies",required:!0,"error-message":o(r).errors.competencies,"help-text":"Choose the competencies that will be evaluated"},{default:f(()=>[e("div",vt,[e("div",ft,[l(o(he),{class:"search-icon"}),w(e("input",{"onUpdate:modelValue":t[12]||(t[12]=a=>P.value=a),type:"text",placeholder:"Search competencies...",class:"search-field"},null,512),[[Ve,P.value]])])]),e("div",yt,[(d(!0),m(q,null,T(ie.value,a=>(d(),m("div",{key:a,class:"category-section"},[e("div",gt,[e("h6",_t,u(a),1),e("button",{onClick:y=>me(a),type:"button",class:"category-toggle"},u(ue(a)?"Deselect All":"Select All"),9,ht)]),e("div",bt,[(d(!0),m(q,null,T(se(a),y=>(d(),m("label",{key:y.id,class:"competency-option"},[w(e("input",{"onUpdate:modelValue":t[13]||(t[13]=z=>C.value=z),value:y.id,type:"checkbox",class:"competency-checkbox"},null,8,xt),[[O,C.value]]),e("div",wt,[e("div",Ct,u(y.name),1),e("div",$t,u(y.description),1),y.weight?(d(),m("div",kt," Weight: "+u(y.weight),1)):h("",!0)])]))),128))])]))),128))])]),_:1},8,["error-message"])])],512),[[ve,x.value===2]]),w(e("div",St,[t[36]||(t[36]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Notification Settings"),e("p",{class:"step-description"},"Configure how participants will be notified about the assessment cycle")],-1)),e("div",At,[l(B,{label:"Notification Preferences","help-text":"Choose when and how to notify participants"},{default:f(()=>[e("div",Vt,[e("label",Dt,[w(e("input",{"onUpdate:modelValue":t[14]||(t[14]=a=>o(r).notification_settings.send_start_notification=a),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_start_notification]]),t[30]||(t[30]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Start Notification"),e("div",{class:"notification-description"},"Notify participants when the cycle begins")],-1))]),e("label",Mt,[w(e("input",{"onUpdate:modelValue":t[15]||(t[15]=a=>o(r).notification_settings.send_reminders=a),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_reminders]]),t[31]||(t[31]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Reminders"),e("div",{class:"notification-description"},"Send reminder notifications for pending assessments")],-1))]),e("label",Ut,[w(e("input",{"onUpdate:modelValue":t[16]||(t[16]=a=>o(r).notification_settings.send_completion_notification=a),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_completion_notification]]),t[32]||(t[32]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Completion Notification"),e("div",{class:"notification-description"},"Notify when assessments are completed")],-1))])])]),_:1}),o(r).notification_settings.send_reminders?(d(),m("div",Ft,[l(B,{label:"Reminder Schedule","help-text":"Configure when reminders should be sent"},{default:f(()=>[e("div",Nt,[e("div",jt,[t[34]||(t[34]=e("label",{class:"reminder-label"},"Reminder Frequency",-1)),w(e("select",{"onUpdate:modelValue":t[17]||(t[17]=a=>o(r).notification_settings.reminder_frequency=a),class:"reminder-select"},t[33]||(t[33]=[e("option",{value:"daily"},"Daily",-1),e("option",{value:"weekly"},"Weekly",-1),e("option",{value:"custom"},"Custom",-1)]),512),[[De,o(r).notification_settings.reminder_frequency]])]),e("div",Et,[t[35]||(t[35]=e("label",{class:"reminder-label"},"Days Before Deadline",-1)),l(ye,{modelValue:o(r).notification_settings.reminder_days_before,"onUpdate:modelValue":t[18]||(t[18]=a=>o(r).notification_settings.reminder_days_before=a),type:"number",min:"1",max:"30",placeholder:"7"},null,8,["modelValue"])])])]),_:1})])):h("",!0)])],512),[[ve,x.value===3]])]),e("div",Rt,[e("div",Pt,[x.value>0?(d(),G(Z,{key:0,onClick:be,type:"button"},{default:f(()=>[l(o(os),{class:"w-4 h-4 mr-2"}),t[37]||(t[37]=p(" Previous "))]),_:1,__:[37]})):h("",!0),t[41]||(t[41]=e("div",{class:"nav-spacer"},null,-1)),l(Z,{onClick:t[19]||(t[19]=a=>c.$emit("close")),type:"button"},{default:f(()=>t[38]||(t[38]=[p(" Cancel ")])),_:1,__:[38]}),x.value<_.value.length-1?(d(),G(Me,{key:1,onClick:ce,type:"button",disabled:!re.value},{default:f(()=>[t[39]||(t[39]=p(" Next ")),l(o(Ue),{class:"w-4 h-4 ml-2"})]),_:1,__:[39]},8,["disabled"])):(d(),G(Me,{key:2,type:"submit",disabled:o(r).processing||!ee.value},{default:f(()=>[o(r).processing?(d(),m("span",Lt,[t[40]||(t[40]=e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),p(" "+u(A.value?"Updating...":"Creating..."),1)])):(d(),m("span",Bt,u(A.value?"Update Cycle":"Create Cycle"),1))]),_:1},8,["disabled"]))])])],32)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},Tt=We(qt,[["__scopeId","data-v-d833f7e8"]]),zt={class:"min-h-screen bg-gray-50"},It={class:"bg-white border-b border-gray-200"},Yt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Gt={class:"py-6"},Wt={class:"flex mb-4","aria-label":"Breadcrumb"},Ht={class:"flex items-center space-x-2 text-sm"},Ot={class:"flex items-center"},Qt={class:"flex items-center"},Jt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},Xt={class:"flex items-center space-x-3"},Kt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Zt={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},eo={class:"p-6"},so={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},to={class:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4"},oo={class:"relative"},no={class:"relative"},lo={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},ao={class:"relative"},io={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ro={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},co={class:"flex items-center space-x-3"},uo={class:"flex bg-gray-100 rounded-lg p-1 border border-gray-200"},mo={key:0,class:"mt-6 pt-4 border-t border-gray-200"},po={class:"flex flex-wrap items-center gap-3"},vo={class:"flex flex-wrap gap-2"},fo={key:0,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-blue-50 text-blue-700 border border-blue-200"},yo={key:1,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-green-50 text-green-700 border border-green-200"},go={key:2,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-purple-50 text-purple-700 border border-purple-200"},_o={key:0,class:"mb-6 flex items-center justify-between"},ho={class:"text-sm text-gray-600"},bo={key:0},xo={key:1},wo={key:0,class:"text-sm text-gray-500"},Co={key:1,class:"space-y-6"},$o={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ko={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200"},So={class:"text-center py-16 px-6"},Ao={class:"text-gray-600 mb-6 max-w-md mx-auto"},Vo={class:"flex flex-col sm:flex-row items-center justify-center space-y-3 sm:space-y-0 sm:space-x-3"},Do={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Mo=["onClick"],Uo={class:"p-6 pb-4"},Fo={class:"flex items-start justify-between mb-3"},No={class:"flex-1 min-w-0"},jo={class:"text-lg font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"},Eo={class:"text-sm text-gray-600 mt-1 line-clamp-2"},Ro={class:"flex items-center text-sm text-gray-500 mb-4"},Po={class:"mb-4"},Lo={class:"flex items-center justify-between mb-2"},Bo={class:"text-sm text-gray-600"},qo={class:"w-full bg-gray-200 rounded-full h-2"},To={class:"grid grid-cols-2 gap-4 mb-4"},zo={class:"text-center p-3 bg-gray-50 rounded-lg"},Io={class:"flex items-center justify-center mb-1"},Yo={class:"text-lg font-semibold text-gray-900"},Go={class:"text-center p-3 bg-gray-50 rounded-lg"},Wo={class:"flex items-center justify-center mb-1"},Ho={class:"text-lg font-semibold text-gray-900"},Oo={class:"px-6 py-4 bg-gray-50 border-t border-gray-100 rounded-b-lg"},Qo={class:"flex items-center justify-between"},Jo={class:"flex items-center space-x-2"},Xo=["onClick","disabled"],Ko=["onClick","disabled"],Zo=["onClick"],en=["onClick"],sn={class:"relative"},tn=["onClick"],on={key:4,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},nn={class:"divide-y divide-gray-200"},ln=["onClick"],an={class:"hidden md:grid md:grid-cols-12 md:gap-4"},rn={class:"col-span-5"},dn={class:"min-w-0"},cn={class:"text-sm font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"},un={class:"text-sm text-gray-600 mt-1 line-clamp-2"},mn={class:"col-span-2 flex items-center"},pn={class:"col-span-2 flex items-center"},vn={class:"text-sm text-gray-900"},fn={class:"flex items-center"},yn={class:"col-span-2 flex items-center"},gn={class:"w-full"},_n={class:"flex items-center justify-between mb-1"},hn={class:"text-xs text-gray-600"},bn={class:"w-full bg-gray-200 rounded-full h-2"},xn={class:"col-span-1 flex items-center justify-center"},wn={class:"flex items-center justify-center space-x-2"},Cn={class:"flex items-center text-sm text-gray-900"},$n={class:"font-medium"},kn={class:"relative"},Sn=["onClick"],An={class:"md:hidden space-y-3"},Vn={class:"flex items-start justify-between"},Dn={class:"flex-1 min-w-0"},Mn={class:"text-sm font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"},Un={class:"text-sm text-gray-600 mt-1"},Fn={class:"space-y-2"},Nn={class:"flex items-center text-sm text-gray-500"},jn={class:"flex items-center justify-between mb-1"},En={class:"text-xs text-gray-600"},Rn={class:"w-full bg-gray-200 rounded-full h-2"},Pn={class:"flex items-center justify-between"},Ln={class:"flex items-center text-sm text-gray-600"},Bn={class:"relative"},qn=["onClick"],Tn={class:"menu-items"},zn=["disabled"],In={key:3,class:"menu-divider"},Yn=["disabled"],Gn=["disabled"],Wn={key:1,class:"notification-overlay"},Hn={class:"notification-center"},On={class:"notification-icon"},Qn={class:"notification-text"},Jn={class:"notification-message"},Xn=["onClick"],Kn={__name:"AssessmentCycleManager",props:{cycles:{type:Array,default:()=>[]},employees:{type:Array,default:()=>[]},competencies:{type:Array,default:()=>[]}},setup(Q){const ne=Q,b=E(()=>!!(v.value.search||v.value.status||v.value.dateRange)),H=k(!1),x=k("grid"),$=k([]),v=k({search:"",status:"",dateRange:""}),U=k(null),C=k(!1),R=k(""),P=k(""),r=k("Confirm"),A=k(null),_=k({show:!1,x:0,y:0,cycle:null}),W=E(()=>{let i=[...ne.cycles];if(v.value.search){const s=v.value.search.toLowerCase();i=i.filter(g=>g.name.toLowerCase().includes(s)||g.description&&g.description.toLowerCase().includes(s))}if(v.value.status&&(i=i.filter(s=>s.status===v.value.status)),v.value.dateRange){const s=new Date,g=s.getMonth(),S=s.getFullYear();i=i.filter(V=>{const I=new Date(V.start_date),L=new Date(V.end_date);switch(v.value.dateRange){case"current":return I.getMonth()===g&&I.getFullYear()===S||L.getMonth()===g&&L.getFullYear()===S;case"upcoming":return I>s;case"past":return L<s;default:return!0}})}return i}),le=()=>{H.value=!0,j.reload({only:["cycles"],preserveScroll:!0,onFinish:()=>{H.value=!1,N("Data refreshed successfully","success")}})},ae=Ze.debounce(()=>{},300),ie=()=>{},J=()=>{v.value={search:"",status:"",dateRange:""}},re=i=>{j.visit(route("assessment-cycles.edit",i.id))},ee=i=>{j.visit(route("assessment-cycles.show",i.id))},de=i=>{R.value="Start Assessment Cycle",P.value=`Are you sure you want to start "${i.name}"? This will notify all participants and begin the assessment process.`,r.value="Start Cycle",A.value=()=>{pe(i.id,"start","Assessment cycle started successfully")},C.value=!0,F()},ce=i=>{R.value="Complete Assessment Cycle",P.value=`Are you sure you want to complete "${i.name}"? This action cannot be undone.`,r.value="Complete Cycle",A.value=()=>{pe(i.id,"complete","Assessment cycle completed successfully")},C.value=!0,F()},be=i=>{j.post(route("assessment-cycles.duplicate",i.id),{},{onSuccess:()=>{N("Assessment cycle duplicated successfully","success")},onError:()=>{N("Failed to duplicate assessment cycle","error")}}),F()},xe=i=>{j.post(route("assessment-cycles.send-reminders",i.id),{},{onSuccess:()=>{N("Reminders sent successfully","success")},onError:()=>{N("Failed to send reminders","error")}}),F()},se=i=>{window.open(route("assessment-cycles.export",i.id),"_blank"),F()},ue=i=>{R.value="Delete Assessment Cycle",P.value=`Are you sure you want to delete "${i.name}"? This action cannot be undone and will remove all associated data.`,r.value="Delete",A.value=()=>{j.delete(route("assessment-cycles.destroy",i.id),{onSuccess:()=>{N("Assessment cycle deleted successfully","success")},onError:()=>{N("Failed to delete assessment cycle","error")}})},C.value=!0,F()},me=i=>{const s=new URLSearchParams({assessment_cycle_id:i.id,assessment_type:"manager"}),g=`${route("competency-assessments.create")}?${s.toString()}`;j.visit(g)},pe=(i,s,g)=>{j.post(route(`assessment-cycles.${s}`,i),{},{onSuccess:()=>{N(g,"success")},onError:()=>{N(`Failed to ${s} assessment cycle`,"error")}})},te=(i,s)=>{s.preventDefault();const g=200,S=250,V=window.innerWidth,I=window.innerHeight;let L=s.clientX,X=s.clientY;L+g>V&&(L=V-g-10),X+S>I&&(X=I-S-10),_.value={show:!0,x:Math.max(10,L),y:Math.max(10,X),cycle:i}},F=()=>{_.value.show=!1},c=()=>{showCycleModal.value=!1,U.value=null},t=i=>{const s=!!U.value,g=s?"assessment-cycles.update":"assessment-cycles.store",S=s?"put":"post",V=s?[U.value.id]:[];j[S](route(g,...V),i,{onSuccess:()=>{N(`Assessment cycle ${s?"updated":"created"} successfully`,"success"),c()},onError:()=>{N(`Failed to ${s?"update":"create"} assessment cycle`,"error")}})},a=()=>{C.value=!1,A.value&&(A.value(),A.value=null)},y=()=>{C.value=!1,A.value=null},z=i=>({planned:"Planned",active:"Active",completed:"Completed",cancelled:"Cancelled"})[i]||i,we=i=>({planned:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"})[i]||"bg-gray-100 text-gray-800",Ce=(i,s)=>{const g=new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric"}),S=new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"});return`${g} - ${S}`},He=i=>({current:"Current Month",upcoming:"Upcoming",past:"Past Cycles"})[i]||i,$e=i=>({planned:"bg-gray-400",active:"bg-blue-500",completed:"bg-green-500",cancelled:"bg-red-500"})[i]||"bg-gray-400",Fe=()=>{try{typeof route<"u"?j.visit(route("assessment-cycles.create")):j.visit("/assessment-cycles/create")}catch(i){console.error("Navigation error:",i),window.location.href="/assessment-cycles/create"}},N=(i,s="info",g=4e3)=>{const S=Date.now(),V={id:S,message:i,type:s,visible:!0};$.value.push(V),setTimeout(()=>{Ne(S)},g)},Ne=i=>{const s=$.value.findIndex(g=>g.id===i);s>-1&&$.value.splice(s,1)},Oe=i=>{const s="notification-toast",g={success:"notification-success",error:"notification-error",warning:"notification-warning",info:"notification-info"};return`${s} ${g[i]||g.info}`},Qe=i=>({success:Se,error:ze,warning:ze,info:Te})[i]||Te,je=i=>{_.value.show&&!i.target.closest(".context-menu")&&F()};return Ge(()=>{document.addEventListener("click",je),console.log("AssessmentCycleManager mounted"),console.log("Route helper available:",typeof route<"u"),typeof route<"u"?console.log("Test route generation:",route("assessment-cycles.create")):console.warn("Route helper not available - using fallback URLs")}),Xe(()=>{document.removeEventListener("click",je)}),(i,s)=>(d(),G(es,null,{default:f(()=>{var g,S,V,I,L,X,Ee;return[e("div",zt,[e("div",It,[e("div",Yt,[e("div",Gt,[e("nav",Wt,[e("ol",Ht,[e("li",null,[l(o(Pe),{href:i.route("dashboard"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:f(()=>s[19]||(s[19]=[p(" Dashboard ")])),_:1,__:[19]},8,["href"])]),e("li",Ot,[l(o(Ue),{class:"w-4 h-4 text-gray-400 mx-2"}),l(o(Pe),{href:i.route("assessment-dashboard"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:f(()=>s[20]||(s[20]=[p(" Assessment Dashboard ")])),_:1,__:[20]},8,["href"])]),e("li",Qt,[l(o(Ue),{class:"w-4 h-4 text-gray-400 mx-2"}),s[21]||(s[21]=e("span",{class:"text-gray-900 font-medium"},"Assessment Cycles",-1))])])]),e("div",Jt,[s[24]||(s[24]=e("div",{class:"mb-4 sm:mb-0"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"Assessment Cycle Manager"),e("p",{class:"mt-1 text-sm text-gray-600"},"Create and manage assessment cycles for systematic competency evaluation")],-1)),e("div",Xt,[l(Z,{onClick:le,disabled:H.value},{default:f(()=>[l(o(Ye),{class:"w-4 h-4 mr-2"}),s[22]||(s[22]=p(" Refresh "))]),_:1,__:[22]},8,["disabled"]),e("button",{onClick:Fe,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},[l(o(ge),{class:"w-4 h-4 mr-2"}),s[23]||(s[23]=p(" New Assessment Cycle "))])])])])])]),e("div",Kt,[e("div",Zt,[e("div",eo,[e("div",so,[e("div",to,[e("div",oo,[l(o(he),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),w(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>v.value.search=n),type:"text",placeholder:"Search cycles...",class:"pl-10 pr-4 py-2.5 w-full sm:w-64 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",onInput:s[1]||(s[1]=(...n)=>o(ae)&&o(ae)(...n))},null,544),[[Ve,v.value.search]])]),e("div",no,[w(e("select",{"onUpdate:modelValue":s[2]||(s[2]=n=>v.value.status=n),onChange:ie,class:"appearance-none pl-10 pr-10 py-2.5 min-w-40 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900 hover:border-gray-400 cursor-pointer"},s[25]||(s[25]=[e("option",{value:""},"All Statuses",-1),e("option",{value:"planned"},"Planned",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),544),[[De,v.value.status]]),s[26]||(s[26]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("div",{class:"w-4 h-4 text-gray-400"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])])],-1)),e("div",lo,[l(o(Be),{class:"w-4 h-4 text-gray-400"})])]),e("div",ao,[w(e("select",{"onUpdate:modelValue":s[3]||(s[3]=n=>v.value.dateRange=n),onChange:ie,class:"appearance-none pl-10 pr-10 py-2.5 min-w-40 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900 hover:border-gray-400 cursor-pointer"},s[27]||(s[27]=[e("option",{value:""},"All Dates",-1),e("option",{value:"current"},"Current Month",-1),e("option",{value:"upcoming"},"Upcoming",-1),e("option",{value:"past"},"Past Cycles",-1)]),544),[[De,v.value.dateRange]]),e("div",io,[l(o(K),{class:"w-4 h-4 text-gray-400"})]),e("div",ro,[l(o(Be),{class:"w-4 h-4 text-gray-400"})])]),b.value?(d(),G(Z,{key:0,onClick:J,size:"sm"},{default:f(()=>s[28]||(s[28]=[p(" Clear Filters ")])),_:1,__:[28]})):h("",!0)]),e("div",co,[s[31]||(s[31]=e("span",{class:"text-sm font-medium text-gray-700"},"View:",-1)),e("div",uo,[e("button",{onClick:s[4]||(s[4]=n=>x.value="grid"),class:M(["flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200",x.value==="grid"?"bg-white text-blue-600 shadow-sm border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[l(o(ns),{class:"w-4 h-4 mr-2"}),s[29]||(s[29]=p(" Grid "))],2),e("button",{onClick:s[5]||(s[5]=n=>x.value="list"),class:M(["flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200",x.value==="list"?"bg-white text-blue-600 shadow-sm border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[l(o(ls),{class:"w-4 h-4 mr-2"}),s[30]||(s[30]=p(" List "))],2)])])]),b.value?(d(),m("div",mo,[e("div",po,[s[33]||(s[33]=e("span",{class:"text-sm font-medium text-gray-700"},"Active filters:",-1)),e("div",vo,[v.value.search?(d(),m("span",fo,[l(o(he),{class:"w-4 h-4 mr-1.5"}),p(' "'+u(v.value.search)+'" ',1),e("button",{onClick:s[6]||(s[6]=n=>v.value.search=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-blue-200 transition-colors"},[l(o(oe),{class:"w-3 h-3"})])])):h("",!0),v.value.status?(d(),m("span",yo,[s[32]||(s[32]=e("div",{class:"w-4 h-4 mr-1.5"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),p(" "+u(z(v.value.status))+" ",1),e("button",{onClick:s[7]||(s[7]=n=>v.value.status=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-green-200 transition-colors"},[l(o(oe),{class:"w-3 h-3"})])])):h("",!0),v.value.dateRange?(d(),m("span",go,[l(o(K),{class:"w-4 h-4 mr-1.5"}),p(" "+u(He(v.value.dateRange))+" ",1),e("button",{onClick:s[8]||(s[8]=n=>v.value.dateRange=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-purple-200 transition-colors"},[l(o(oe),{class:"w-3 h-3"})])])):h("",!0)])])])):h("",!0)])]),H.value?h("",!0):(d(),m("div",_o,[e("div",ho,[W.value.length>0?(d(),m("span",bo," Showing "+u(W.value.length)+" of "+u(ne.cycles.length)+" assessment cycles ",1)):(d(),m("span",xo," No assessment cycles found "))]),W.value.length>0?(d(),m("div",wo,u(x.value==="grid"?"Grid":"List")+" view ",1)):h("",!0)])),H.value?(d(),m("div",Co,[e("div",$o,[(d(),m(q,null,T(6,n=>e("div",{key:n,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},s[34]||(s[34]=[e("div",{class:"animate-pulse space-y-4"},[e("div",{class:"flex items-center justify-between"},[e("div",{class:"h-5 bg-gray-200 rounded w-3/4"}),e("div",{class:"h-6 bg-gray-200 rounded-full w-16"})]),e("div",{class:"h-4 bg-gray-200 rounded w-full"}),e("div",{class:"h-3 bg-gray-200 rounded w-2/3"}),e("div",{class:"space-y-2"},[e("div",{class:"h-2 bg-gray-200 rounded w-full"}),e("div",{class:"h-2 bg-gray-200 rounded w-1/2"})]),e("div",{class:"flex justify-between"},[e("div",{class:"h-8 bg-gray-200 rounded w-16"}),e("div",{class:"h-8 bg-gray-200 rounded w-16"})])],-1)]))),64))])])):W.value.length===0?(d(),m("div",ko,[e("div",So,[l(o(K),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s[38]||(s[38]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No Assessment Cycles Found",-1)),e("p",Ao,u(b.value?"No cycles match your current filters. Try adjusting your search criteria.":"Get started by creating your first assessment cycle to begin systematic competency evaluation."),1),e("div",Vo,[b.value?h("",!0):(d(),G(Me,{key:0,onClick:Fe},{default:f(()=>[l(o(ge),{class:"w-4 h-4 mr-2"}),s[35]||(s[35]=p(" Create Assessment Cycle "))]),_:1,__:[35]})),b.value?(d(),G(Z,{key:1,onClick:J},{default:f(()=>s[36]||(s[36]=[p(" Clear Filters ")])),_:1,__:[36]})):h("",!0),l(Z,{onClick:le},{default:f(()=>[l(o(Ye),{class:"w-4 h-4 mr-2"}),s[37]||(s[37]=p(" Refresh "))]),_:1,__:[37]})])])])):x.value==="grid"?(d(),m("div",Do,[(d(!0),m(q,null,T(W.value,n=>(d(),m("div",{key:n.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md hover:border-gray-300 transition-all duration-200 cursor-pointer group",onClick:D=>ee(n)},[e("div",Uo,[e("div",Fo,[e("div",No,[e("h3",jo,u(n.name),1),e("p",Eo,u(n.description||"No description provided"),1)]),e("span",{class:M([we(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0"])},u(z(n.status)),3)]),e("div",Ro,[l(o(K),{class:"w-4 h-4 mr-2 flex-shrink-0"}),e("span",null,u(Ce(n.start_date,n.end_date)),1)]),e("div",Po,[e("div",Lo,[s[39]||(s[39]=e("span",{class:"text-sm font-medium text-gray-700"},"Progress",-1)),e("span",Bo,u(n.completion_percentage||0)+"%",1)]),e("div",qo,[e("div",{class:M(["h-2 rounded-full transition-all duration-300",$e(n.status)]),style:fe({width:`${n.completion_percentage||0}%`})},null,6)])]),e("div",To,[e("div",zo,[e("div",Io,[l(o(_e),{class:"w-4 h-4 text-gray-500 mr-1"}),e("span",Yo,u(n.participant_count||0),1)]),s[40]||(s[40]=e("span",{class:"text-xs text-gray-600"},"Participants",-1))]),e("div",Go,[e("div",Wo,[l(o(as),{class:"w-4 h-4 text-gray-500 mr-1"}),e("span",Ho,u(n.assessment_count||0),1)]),s[41]||(s[41]=e("span",{class:"text-xs text-gray-600"},"Assessments",-1))])])]),e("div",Oo,[e("div",Qo,[e("div",Jo,[e("button",{onClick:Y(D=>me(n),["stop"]),disabled:n.status!=="active",class:M(["inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors",n.status==="active"?"bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"])},[l(o(ge),{class:"w-3 h-3 mr-1"}),s[42]||(s[42]=p(" Create Assessment "))],10,Xo),e("button",{onClick:Y(D=>re(n),["stop"]),disabled:n.status==="completed",class:M(["inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors",n.status!=="completed"?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"])},[l(o(qe),{class:"w-3 h-3 mr-1"}),s[43]||(s[43]=p(" Edit "))],10,Ko),n.status==="planned"?(d(),m("button",{key:0,onClick:Y(D=>de(n),["stop"]),class:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors bg-green-50 text-green-700 border border-green-200 hover:bg-green-100"},[l(o(Le),{class:"w-3 h-3 mr-1"}),s[44]||(s[44]=p(" Start "))],8,Zo)):n.status==="active"?(d(),m("button",{key:1,onClick:Y(D=>ce(n),["stop"]),class:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors bg-green-50 text-green-700 border border-green-200 hover:bg-green-100"},[l(o(Se),{class:"w-3 h-3 mr-1"}),s[45]||(s[45]=p(" Complete "))],8,en)):h("",!0)]),e("div",sn,[e("button",{onClick:Y(D=>te(n,D),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[l(o(Ae),{class:"w-4 h-4"})],8,tn)])])])],8,Mo))),128))])):(d(),m("div",on,[s[47]||(s[47]=e("div",{class:"bg-gray-50 border-b border-gray-200 hidden md:block"},[e("div",{class:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-medium text-gray-700"},[e("div",{class:"col-span-5"},"Name & Description"),e("div",{class:"col-span-2"},"Status"),e("div",{class:"col-span-2"},"Date Range"),e("div",{class:"col-span-2"},"Progress"),e("div",{class:"col-span-1 text-center"},"Participants")])],-1)),e("div",nn,[(d(!0),m(q,null,T(W.value,n=>(d(),m("div",{key:n.id,class:"px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors group",onClick:D=>ee(n)},[e("div",an,[e("div",rn,[e("div",dn,[e("h4",cn,u(n.name),1),e("p",un,u(n.description||"No description provided"),1)])]),e("div",mn,[e("span",{class:M([we(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},u(z(n.status)),3)]),e("div",pn,[e("div",vn,[e("div",fn,[l(o(K),{class:"w-4 h-4 text-gray-400 mr-2"}),p(" "+u(Ce(n.start_date,n.end_date)),1)])])]),e("div",yn,[e("div",gn,[e("div",_n,[e("span",hn,u(n.completion_percentage||0)+"%",1)]),e("div",bn,[e("div",{class:M(["h-2 rounded-full transition-all duration-300",$e(n.status)]),style:fe({width:`${n.completion_percentage||0}%`})},null,6)])])]),e("div",xn,[e("div",wn,[e("div",Cn,[l(o(_e),{class:"w-4 h-4 text-gray-400 mr-1"}),e("span",$n,u(n.participant_count||0),1)]),e("div",kn,[e("button",{onClick:Y(D=>te(n,D),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[l(o(Ae),{class:"w-4 h-4"})],8,Sn)])])])]),e("div",An,[e("div",Vn,[e("div",Dn,[e("h4",Mn,u(n.name),1),e("p",Un,u(n.description||"No description provided"),1)]),e("span",{class:M([we(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0"])},u(z(n.status)),3)]),e("div",Fn,[e("div",Nn,[l(o(K),{class:"w-4 h-4 mr-2"}),p(" "+u(Ce(n.start_date,n.end_date)),1)]),e("div",null,[e("div",jn,[s[46]||(s[46]=e("span",{class:"text-xs text-gray-600"},"Progress",-1)),e("span",En,u(n.completion_percentage||0)+"%",1)]),e("div",Rn,[e("div",{class:M(["h-2 rounded-full transition-all duration-300",$e(n.status)]),style:fe({width:`${n.completion_percentage||0}%`})},null,6)])])]),e("div",Pn,[e("div",Ln,[l(o(_e),{class:"w-4 h-4 mr-1"}),e("span",null,u(n.participant_count||0)+" participants",1)]),e("div",Bn,[e("button",{onClick:Y(D=>te(n,D),["stop"]),class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[l(o(Ae),{class:"w-5 h-5"})],8,qn)])])])],8,ln))),128))])]))])]),_.value.show?(d(),m("div",{key:0,style:fe({top:_.value.y+"px",left:_.value.x+"px"}),class:"context-menu",onClick:s[18]||(s[18]=Y(()=>{},["stop"]))},[e("div",Tn,[e("button",{onClick:s[9]||(s[9]=n=>ee(_.value.cycle)),class:"menu-item"},[l(o(is),{class:"menu-icon"}),s[48]||(s[48]=p(" View Details "))]),e("button",{onClick:s[10]||(s[10]=n=>re(_.value.cycle)),class:"menu-item",disabled:((g=_.value.cycle)==null?void 0:g.status)==="completed"},[l(o(qe),{class:"menu-icon"}),s[49]||(s[49]=p(" Edit Cycle "))],8,zn),s[57]||(s[57]=e("hr",{class:"menu-divider"},null,-1)),((S=_.value.cycle)==null?void 0:S.status)==="active"?(d(),m("button",{key:0,onClick:s[11]||(s[11]=n=>me(_.value.cycle)),class:"menu-item"},[l(o(ge),{class:"menu-icon"}),s[50]||(s[50]=p(" Create Assessment "))])):h("",!0),((V=_.value.cycle)==null?void 0:V.status)==="planned"?(d(),m("button",{key:1,onClick:s[12]||(s[12]=n=>de(_.value.cycle)),class:"menu-item"},[l(o(Le),{class:"menu-icon"}),s[51]||(s[51]=p(" Start Cycle "))])):h("",!0),((I=_.value.cycle)==null?void 0:I.status)==="active"?(d(),m("button",{key:2,onClick:s[13]||(s[13]=n=>ce(_.value.cycle)),class:"menu-item"},[l(o(Se),{class:"menu-icon"}),s[52]||(s[52]=p(" Complete Cycle "))])):h("",!0),((L=_.value.cycle)==null?void 0:L.status)!=="completed"?(d(),m("hr",In)):h("",!0),e("button",{onClick:s[14]||(s[14]=n=>be(_.value.cycle)),class:"menu-item"},[l(o(vs),{class:"menu-icon"}),s[53]||(s[53]=p(" Duplicate "))]),e("button",{onClick:s[15]||(s[15]=n=>xe(_.value.cycle)),class:"menu-item",disabled:((X=_.value.cycle)==null?void 0:X.status)!=="active"},[l(o(rs),{class:"menu-icon"}),s[54]||(s[54]=p(" Send Reminders "))],8,Yn),e("button",{onClick:s[16]||(s[16]=n=>se(_.value.cycle)),class:"menu-item"},[l(o(fs),{class:"menu-icon"}),s[55]||(s[55]=p(" Export Data "))]),s[58]||(s[58]=e("hr",{class:"menu-divider"},null,-1)),e("button",{onClick:s[17]||(s[17]=n=>ue(_.value.cycle)),class:"menu-item danger",disabled:((Ee=_.value.cycle)==null?void 0:Ee.status)==="active"},[l(o(ds),{class:"menu-icon"}),s[56]||(s[56]=p(" Delete "))],8,Gn)])],4)):h("",!0),l(Tt,{show:i.showCycleModal,cycle:U.value,employees:Q.employees,competencies:Q.competencies,onClose:c,onSave:t},null,8,["show","cycle","employees","competencies"]),l(ss,{show:C.value,title:R.value,message:P.value,"confirm-text":r.value,onConfirm:a,onCancel:y},null,8,["show","title","message","confirm-text"]),$.value.length>0?(d(),m("div",Wn,[e("div",Hn,[(d(!0),m(q,null,T($.value,n=>(d(),m("div",{key:n.id,class:M([Oe(n.type),"notification-card"])},[e("div",On,[(d(),G(Ke(Qe(n.type)),{class:"w-5 h-5"}))]),e("div",Qn,[e("p",Jn,u(n.message),1)]),e("button",{onClick:D=>Ne(n.id),class:"notification-close"},[l(o(oe),{class:"w-4 h-4"})],8,Xn)],2))),128))])])):h("",!0)]}),_:1}))}},bl=We(Kn,[["__scopeId","data-v-bf320601"]]);export{bl as default};
