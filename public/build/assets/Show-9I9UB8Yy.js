import{f as _,e as H,Q as F,g as y,o,h as g,k as m,c as n,i,a as e,t as a,u as d,S as f,l as x,n as p,q as Q,F as b,r as h}from"./app-C51Ifso5.js";import{r as P,_ as R}from"./AuthenticatedLayout-NyF5khB_.js";import{P as U}from"./PageLayout-DqIrqH_-.js";import{c as q,j as k,l as I,p as G,e as J}from"./Icon-BhRYfepf.js";import"./useAuth-Blxfr8Ck.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-DITUjXc-.js";import"./useAccessibility-CdeKpcWR.js";import"./PageHeader-DSnjWwxZ.js";/* empty css                                                                   *//* empty css                                                                   */const K={key:0,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-md"},W={class:"text-sm text-green-800"},X={key:1,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md"},Y={class:"text-sm text-red-800"},Z={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ee={class:"lg:col-span-2 space-y-6"},te={class:"bg-white rounded-lg shadow-sm border border-gray-200"},se={class:"p-6"},re={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},le={class:"mt-1"},oe={class:"mt-1"},ae={class:"flex items-center"},ne={class:"flex-1 bg-gray-200 rounded-full h-2 mr-3"},ce={class:"text-sm font-medium text-gray-900"},de={class:"mt-1 text-sm text-gray-900"},ie={class:"mt-1 text-sm text-gray-900"},ue={class:"mt-1 text-sm text-gray-900"},me={class:"mt-1 text-sm text-gray-900"},ye={key:0,class:"mt-6"},ge={class:"mt-1 text-sm text-gray-700"},xe={class:"bg-white rounded-lg shadow-sm border border-gray-200"},fe={class:"overflow-x-auto"},pe={class:"min-w-full divide-y divide-gray-200"},be={class:"bg-white divide-y divide-gray-200"},he={class:"px-6 py-4 whitespace-nowrap"},ve={class:"text-sm font-medium text-gray-900"},we={class:"px-6 py-4 whitespace-nowrap"},_e={class:"text-sm text-gray-900"},ke={class:"px-6 py-4 whitespace-nowrap"},Se={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},Ce={class:"px-6 py-4 whitespace-nowrap"},Ae={class:"px-6 py-4 whitespace-nowrap"},De={key:0,class:"flex items-center"},$e={class:"flex"},je={class:"ml-2 text-sm text-gray-600"},Ee={key:1,class:"text-sm text-gray-400"},Te={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Fe={class:"flex items-center justify-end space-x-2"},Pe={key:0,class:"px-6 py-3 border-t border-gray-200"},Be={class:"flex items-center justify-between"},Le={class:"text-sm text-gray-700"},Ne={class:"flex space-x-1"},Ve={class:"space-y-6"},Me={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200"},Oe={class:"p-6 space-y-3"},ze={key:0,class:"p-3 bg-yellow-50 border border-yellow-200 rounded-md"},He={class:"flex"},Qe={class:"text-sm text-yellow-800"},Re=["disabled"],Ue={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200"},qe={class:"p-6 space-y-3"},Ie=["disabled"],Ge={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Je={class:"p-6"},Ke={class:"space-y-2"},nt={__name:"Show",props:{cycle:Object,assessments:Object},setup(r){const c=r,B=_(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Assessment Dashboard",href:route("assessment-dashboard")},{label:"Assessment Cycles",href:route("assessment-cycle-manager")},{label:c.cycle.name,href:null}]),L=_(()=>{const s=[{label:"Back to Cycles",href:route("assessment-cycle-manager"),icon:q,variant:"secondary"}];return(c.cycle.status==="planned"||c.cycle.status==="draft")&&s.push({label:"Edit Cycle",href:route("assessment-cycles.edit",c.cycle.id),icon:k,variant:"secondary"}),c.cycle.status==="planned"&&!v.value&&s.push({label:"Start Cycle",onClick:S,icon:P,variant:"primary",disabled:u.value}),s}),u=H(!1),v=_(()=>new Date(c.cycle.start_date)>new Date),S=()=>{console.log("Start cycle clicked for:",c.cycle.name),confirm(`Are you sure you want to start the "${c.cycle.name}" assessment cycle?`)&&(console.log("Starting cycle..."),u.value=!0,F.post(route("assessment-cycles.start",c.cycle.id),{},{onSuccess:s=>{console.log("Start cycle success:",s)},onError:s=>{console.error("Start cycle error:",s)},onFinish:()=>{console.log("Start cycle finished"),u.value=!1}}))},N=()=>{console.log("Complete cycle clicked for:",c.cycle.name),confirm(`Are you sure you want to complete the "${c.cycle.name}" assessment cycle?`)&&(console.log("Completing cycle..."),u.value=!0,F.post(route("assessment-cycles.complete",c.cycle.id),{},{onSuccess:s=>{console.log("Complete cycle success:",s)},onError:s=>{console.error("Complete cycle error:",s)},onFinish:()=>{console.log("Complete cycle finished"),u.value=!1}}))},V=s=>({planned:"Planned",active:"Active",completed:"Completed",cancelled:"Cancelled"})[s]||s,M=s=>({planned:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800",C=s=>({self:"Self Assessment",manager:"Manager Assessment",peer:"Peer Assessment",360:"360Â° Feedback"})[s]||s,O=s=>({draft:"Draft",submitted:"Submitted",approved:"Approved",rejected:"Rejected"})[s]||s,z=s=>({draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800",w=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(s,t)=>(o(),y(R,null,{default:g(()=>[m(U,{title:r.cycle.name,subtitle:"Assessment cycle details and progress",breadcrumbs:B.value,actions:L.value},{default:g(()=>{var A,D;return[(A=s.$page.props.flash)!=null&&A.success?(o(),n("div",K,[e("p",W,a(s.$page.props.flash.success),1)])):i("",!0),(D=s.$page.props.flash)!=null&&D.error?(o(),n("div",X,[e("p",Y,a(s.$page.props.flash.error),1)])):i("",!0),r.cycle.status==="planned"?(o(),y(d(f),{key:2,href:s.route("assessment-cycles.edit",r.cycle.id),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:g(()=>[m(d(k),{class:"w-4 h-4 mr-2"}),t[0]||(t[0]=x(" Edit Cycle "))]),_:1,__:[0]},8,["href"])):i("",!0),e("div",Z,[e("div",ee,[e("div",te,[t[8]||(t[8]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Cycle Overview")],-1)),e("div",se,[e("dl",re,[e("div",null,[t[1]||(t[1]=e("dt",{class:"text-sm font-medium text-gray-500"},"Status",-1)),e("dd",le,[e("span",{class:p([M(r.cycle.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},a(V(r.cycle.status)),3)])]),e("div",null,[t[2]||(t[2]=e("dt",{class:"text-sm font-medium text-gray-500"},"Progress",-1)),e("dd",oe,[e("div",ae,[e("div",ne,[e("div",{class:"bg-blue-600 h-2 rounded-full",style:Q({width:`${r.cycle.completion_percentage||0}%`})},null,4)]),e("span",ce,a(r.cycle.completion_percentage||0)+"%",1)])])]),e("div",null,[t[3]||(t[3]=e("dt",{class:"text-sm font-medium text-gray-500"},"Start Date",-1)),e("dd",de,a(w(r.cycle.start_date)),1)]),e("div",null,[t[4]||(t[4]=e("dt",{class:"text-sm font-medium text-gray-500"},"End Date",-1)),e("dd",ie,a(w(r.cycle.end_date)),1)]),e("div",null,[t[5]||(t[5]=e("dt",{class:"text-sm font-medium text-gray-500"},"Participants",-1)),e("dd",ue,a(r.cycle.participant_count||0),1)]),e("div",null,[t[6]||(t[6]=e("dt",{class:"text-sm font-medium text-gray-500"},"Total Assessments",-1)),e("dd",me,a(r.cycle.assessment_count||0),1)])]),r.cycle.description?(o(),n("div",ye,[t[7]||(t[7]=e("dt",{class:"text-sm font-medium text-gray-500"},"Description",-1)),e("dd",ge,a(r.cycle.description),1)])):i("",!0)])]),e("div",xe,[t[12]||(t[12]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Assessments")],-1)),e("div",fe,[e("table",pe,[t[11]||(t[11]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Employee "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Competency "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Rating "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",be,[(o(!0),n(b,null,h(r.assessments.data,l=>{var $,j,E;return o(),n("tr",{key:l.id,class:"hover:bg-gray-50"},[e("td",he,[e("div",ve,a(((j=($=l.employee)==null?void 0:$.user)==null?void 0:j.name)||"Unknown"),1)]),e("td",we,[e("div",_e,a((E=l.competency)==null?void 0:E.name),1)]),e("td",ke,[e("span",Se,a(C(l.assessment_type)),1)]),e("td",Ce,[e("span",{class:p([z(l.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},a(O(l.status)),3)]),e("td",Ae,[l.rating?(o(),n("div",De,[e("div",$e,[(o(),n(b,null,h(5,T=>m(d(I),{key:T,class:p([T<=l.rating?"text-yellow-400":"text-gray-300","h-4 w-4"])},null,8,["class"])),64))]),e("span",je,a(l.rating)+"/5",1)])):(o(),n("span",Ee,"Not rated"))]),e("td",Te,[e("div",Fe,[l.status==="draft"?(o(),y(d(f),{key:0,href:s.route("competency-assessments.evaluate",l.id),class:"inline-flex items-center px-3 py-1 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:g(()=>[m(d(k),{class:"w-3 h-3 mr-1"}),t[9]||(t[9]=x(" Assess "))]),_:2,__:[9]},1032,["href"])):(o(),y(d(f),{key:1,href:s.route("competency-assessments.show",l.id),class:"text-blue-600 hover:text-blue-900 text-sm"},{default:g(()=>t[10]||(t[10]=[x(" View ")])),_:2,__:[10]},1032,["href"]))])])])}),128))])])]),r.assessments.links?(o(),n("div",Pe,[e("div",Be,[e("div",Le," Showing "+a(r.assessments.from)+" to "+a(r.assessments.to)+" of "+a(r.assessments.total)+" results ",1),e("div",Ne,[(o(!0),n(b,null,h(r.assessments.links,l=>(o(),y(d(f),{key:l.label,href:l.url,class:p(["px-3 py-2 text-sm font-medium rounded-md",l.active?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"]),innerHTML:l.label},null,8,["href","class","innerHTML"]))),128))])])])):i("",!0)])]),e("div",Ve,[r.cycle.status==="planned"?(o(),n("div",Me,[t[15]||(t[15]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Actions")],-1)),e("div",Oe,[v.value?(o(),n("div",ze,[e("div",He,[m(d(G),{class:"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0"}),e("div",Qe,[t[13]||(t[13]=e("p",{class:"font-medium"},"Scheduled Start",-1)),e("p",null,"This cycle is scheduled to start on "+a(w(r.cycle.start_date))+".",1),t[14]||(t[14]=e("p",{class:"mt-1 text-xs"},"As an admin, you can start it early if needed.",-1))])])])):i("",!0),e("button",{onClick:S,disabled:u.value,class:"w-full inline-flex items-center justify-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50"},[m(d(P),{class:"w-4 h-4 mr-2"}),x(" "+a(v.value?"Start Early":"Start Cycle"),1)],8,Re)])])):i("",!0),r.cycle.status==="active"?(o(),n("div",Ue,[t[17]||(t[17]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Actions")],-1)),e("div",qe,[e("button",{onClick:N,disabled:u.value,class:"w-full inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[m(d(J),{class:"w-4 h-4 mr-2"}),t[16]||(t[16]=x(" Complete Cycle "))],8,Ie)])])):i("",!0),e("div",Ge,[t[18]||(t[18]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Assessment Types")],-1)),e("div",Je,[e("div",Ke,[(o(!0),n(b,null,h(r.cycle.assessment_types,l=>(o(),n("span",{key:l,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 mr-2 mb-2"},a(C(l)),1))),128))])])])])])]}),_:1},8,["title","breadcrumbs","actions"])]),_:1}))}};export{nt as default};
