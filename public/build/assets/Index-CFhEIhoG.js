import{f as l,b as i,p as t,k as h,L as k,o as A,a as L,w as _,g as C,e as a,y as n,F as M,t as B,u as b,n as N,z as c,B as P,A as j,K as R,s as U,E as m}from"./app-CWwoYAk4.js";import{_ as q}from"./AuthenticatedLayout-BWClUAfB.js";import{r as O}from"./StatsCard.vue_vue_type_style_index_0_scoped_25b82822_lang-CPLQM-rp.js";import{u as z}from"./useDateUtils-DrY-Zm1S.js";import{r as G}from"./ChartBarIcon-BQxRWfNn.js";import{G as w,a as H,s as I}from"./Icon-DUSk3d79.js";import{r as K}from"./UserGroupIcon-WErzwGQ6.js";import"./useAuth-DAQpqjtu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B2aD2RV0.js";import"./useAccessibility-CpMbVGic.js";function W($,v){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"})])}function Y($,v){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}const Z={class:"flex justify-between items-center"},J={class:"flex space-x-3"},Q={class:"py-12"},X={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},ee={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},te={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},se={class:"p-6"},oe={class:"space-y-3"},re={class:"flex items-center"},ne={class:"flex items-center"},ae={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ie={class:"p-6"},le={class:"space-y-3"},de={class:"flex items-center"},ce={class:"flex items-center"},ue={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},me={class:"p-6"},ge={key:0,class:"text-center py-8"},pe={key:1,class:"overflow-hidden"},fe={class:"min-w-full divide-y divide-gray-200"},xe={class:"bg-white divide-y divide-gray-200"},ye={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},be={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},we={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ve={class:"px-6 py-4 whitespace-nowrap"},he={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ke=["onClick"],Ce=["onClick"],je={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Re={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},$e={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},De={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},_e={class:"space-y-4"},Pe={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Ue={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},Ve={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Se={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full"},Ee={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Fe={class:"space-y-4"},Te={class:"mt-2 space-y-2"},Ae={class:"flex items-center"},Le={class:"flex items-center"},Me={class:"flex items-center"},Be={class:"grid grid-cols-2 gap-4"},Ne={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Qe={__name:"Index",setup($){const{formatDateForDisplay:v}=z(),g=h(!1),p=h(!1),D=k({totalUsers:0,activeProjects:0,completedTasks:0,hoursLogged:0}),x=h([]),d=k({type:"",frequency:"weekly"}),r=k({name:"",sources:[],startDate:"",endDate:""}),y=async o=>{var e;try{const s=await m.post(route("reports.generate"),{type:o,format:"pdf"});(e=s==null?void 0:s.data)!=null&&e.success&&(await f(),alert("Report generation started. You will be notified when it's ready."))}catch(s){console.error("Error generating report:",s),alert("Failed to generate report. Please try again.")}},V=async()=>{var o;if(!d.type){alert("Please select a report type");return}try{const e=await m.post(route("reports.schedule"),d);(o=e==null?void 0:e.data)!=null&&o.success&&(g.value=!1,d.type="",d.frequency="weekly",alert("Report scheduled successfully!"))}catch(e){console.error("Error scheduling report:",e),alert("Failed to schedule report. Please try again.")}},S=async()=>{var o;if(!r.name||r.sources.length===0){alert("Please provide a report name and select at least one data source");return}try{const e=await m.post(route("reports.custom"),r);(o=e==null?void 0:e.data)!=null&&o.success&&(p.value=!1,Object.assign(r,{name:"",sources:[],startDate:"",endDate:""}),await f(),alert("Custom report generation started!"))}catch(e){console.error("Error creating custom report:",e),alert("Failed to create custom report. Please try again.")}},f=async()=>{var o;try{const e=await m.get(route("reports.recent"));x.value=((o=e==null?void 0:e.data)==null?void 0:o.reports)||[]}catch(e){console.error("Error fetching reports:",e),x.value=[]}},E=async o=>{try{const e=await m.get(route("reports.download",o.id),{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([e.data])),u=document.createElement("a");u.href=s,u.setAttribute("download",`${o.name}.pdf`),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(s)}catch(e){console.error("Error downloading report:",e),alert("Failed to download report. Please try again.")}},F=async o=>{var e;if(confirm("Are you sure you want to delete this report?"))try{const s=await m.delete(route("reports.destroy",o.id));(e=s==null?void 0:s.data)!=null&&e.success&&await f()}catch(s){console.error("Error deleting report:",s),alert("Failed to delete report. Please try again.")}},T=async()=>{var o;try{const e=await m.get(route("reports.stats"));Object.assign(D,((o=e==null?void 0:e.data)==null?void 0:o.stats)||{})}catch(e){console.error("Error loading stats:",e),Object.assign(D,{totalUsers:25,activeProjects:8,completedTasks:142,hoursLogged:1250})}};return A(async()=>{await Promise.all([T(),f()])}),(o,e)=>(i(),L(q,null,{header:_(()=>[t("div",Z,[e[20]||(e[20]=t("div",null,[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Reports & Analytics "),t("p",{class:"text-sm text-gray-600 mt-1"}," Comprehensive insights and data-driven decisions ")],-1)),t("div",J,[t("button",{onClick:e[0]||(e[0]=s=>g.value=!0),class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},[a(n(H),{class:"w-4 h-4 mr-2"}),e[18]||(e[18]=U(" Schedule Report "))]),t("button",{onClick:e[1]||(e[1]=s=>p.value=!0),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},[a(n(I),{class:"w-4 h-4 mr-2"}),e[19]||(e[19]=U(" Custom Report "))])])])]),default:_(()=>[t("div",Q,[t("div",X,[t("div",ee,[t("div",te,[t("div",se,[e[23]||(e[23]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Project Reports",-1)),t("div",oe,[t("button",{onClick:e[2]||(e[2]=s=>y("project-summary")),class:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},[t("div",re,[a(n(G),{class:"h-5 w-5 text-gray-400 mr-3"}),e[21]||(e[21]=t("div",{class:"text-left"},[t("p",{class:"text-sm font-medium text-gray-900"},"Project Summary"),t("p",{class:"text-xs text-gray-500"},"Overview of all projects and their status")],-1))]),a(n(w),{class:"h-5 w-5 text-gray-400"})]),t("button",{onClick:e[3]||(e[3]=s=>y("project-progress")),class:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},[t("div",ne,[a(n(O),{class:"h-5 w-5 text-gray-400 mr-3"}),e[22]||(e[22]=t("div",{class:"text-left"},[t("p",{class:"text-sm font-medium text-gray-900"},"Progress Tracking"),t("p",{class:"text-xs text-gray-500"},"Detailed progress analysis by project")],-1))]),a(n(w),{class:"h-5 w-5 text-gray-400"})])])])]),t("div",ae,[t("div",ie,[e[26]||(e[26]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Team Reports",-1)),t("div",le,[t("button",{onClick:e[4]||(e[4]=s=>y("team-performance")),class:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},[t("div",de,[a(n(K),{class:"h-5 w-5 text-gray-400 mr-3"}),e[24]||(e[24]=t("div",{class:"text-left"},[t("p",{class:"text-sm font-medium text-gray-900"},"Team Performance"),t("p",{class:"text-xs text-gray-500"},"Individual and team productivity metrics")],-1))]),a(n(w),{class:"h-5 w-5 text-gray-400"})]),t("button",{onClick:e[5]||(e[5]=s=>y("attendance")),class:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},[t("div",ce,[a(n(W),{class:"h-5 w-5 text-gray-400 mr-3"}),e[25]||(e[25]=t("div",{class:"text-left"},[t("p",{class:"text-sm font-medium text-gray-900"},"Attendance Report"),t("p",{class:"text-xs text-gray-500"},"Leave requests and attendance tracking")],-1))]),a(n(w),{class:"h-5 w-5 text-gray-400"})])])])])]),t("div",ue,[t("div",me,[t("div",{class:"flex items-center justify-between mb-4"},[e[27]||(e[27]=t("h3",{class:"text-lg font-medium text-gray-900"},"Recent Reports",-1)),t("button",{onClick:f,class:"text-sm text-indigo-600 hover:text-indigo-500"}," Refresh ")]),x.value.length===0?(i(),l("div",ge,[a(n(Y),{class:"mx-auto h-12 w-12 text-gray-400"}),e[28]||(e[28]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No reports yet",-1)),e[29]||(e[29]=t("p",{class:"mt-1 text-sm text-gray-500"},"Get started by generating your first report.",-1))])):(i(),l("div",pe,[t("table",fe,[e[30]||(e[30]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Report Name "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Generated "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"relative px-6 py-3"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",xe,[(i(!0),l(M,null,B(x.value,s=>(i(),l("tr",{key:s.id},[t("td",ye,b(s.name),1),t("td",be,b(s.type),1),t("td",we,b(n(v)(s.created_at)),1),t("td",ve,[t("span",{class:N({"inline-flex px-2 py-1 text-xs font-semibold rounded-full":!0,"bg-green-100 text-green-800":s.status==="completed","bg-yellow-100 text-yellow-800":s.status==="processing","bg-red-100 text-red-800":s.status==="failed"})},b(s.status),3)]),t("td",he,[s.status==="completed"?(i(),l("button",{key:0,onClick:u=>E(s),class:"text-indigo-600 hover:text-indigo-900 mr-3"}," Download ",8,ke)):C("",!0),t("button",{onClick:u=>F(s),class:"text-red-600 hover:text-red-900"}," Delete ",8,Ce)])]))),128))])])]))])])])]),g.value?(i(),l("div",je,[t("div",Re,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e[6]||(e[6]=s=>g.value=!1)}),t("div",$e,[t("div",De,[e[35]||(e[35]=t("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Schedule Report",-1)),t("div",_e,[t("div",null,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700"},"Report Type",-1)),c(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>d.type=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},e[31]||(e[31]=[t("option",{value:""},"Select report type",-1),t("option",{value:"project-summary"},"Project Summary",-1),t("option",{value:"team-performance"},"Team Performance",-1),t("option",{value:"attendance"},"Attendance Report",-1)]),512),[[P,d.type]])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700"},"Frequency",-1)),c(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>d.frequency=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},e[33]||(e[33]=[t("option",{value:"daily"},"Daily",-1),t("option",{value:"weekly"},"Weekly",-1),t("option",{value:"monthly"},"Monthly",-1)]),512),[[P,d.frequency]])])])]),t("div",Pe,[t("button",{onClick:V,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm"}," Schedule "),t("button",{onClick:e[9]||(e[9]=s=>g.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):C("",!0),p.value?(i(),l("div",Ue,[t("div",Ve,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e[10]||(e[10]=s=>p.value=!1)}),t("div",Se,[t("div",Ee,[e[43]||(e[43]=t("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Create Custom Report",-1)),t("div",Fe,[t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700"},"Report Name",-1)),c(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>r.name=s),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter report name"},null,512),[[j,r.name]])]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700"},"Data Sources",-1)),t("div",Te,[t("label",Ae,[c(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>r.sources=s),type:"checkbox",value:"projects",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[R,r.sources]]),e[37]||(e[37]=t("span",{class:"ml-2 text-sm text-gray-700"},"Projects",-1))]),t("label",Le,[c(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>r.sources=s),type:"checkbox",value:"users",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[R,r.sources]]),e[38]||(e[38]=t("span",{class:"ml-2 text-sm text-gray-700"},"Users",-1))]),t("label",Me,[c(t("input",{"onUpdate:modelValue":e[14]||(e[14]=s=>r.sources=s),type:"checkbox",value:"feedback",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[R,r.sources]]),e[39]||(e[39]=t("span",{class:"ml-2 text-sm text-gray-700"},"Feedback",-1))])])]),t("div",Be,[t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),c(t("input",{"onUpdate:modelValue":e[15]||(e[15]=s=>r.startDate=s),type:"date",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[j,r.startDate]])]),t("div",null,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-700"},"End Date",-1)),c(t("input",{"onUpdate:modelValue":e[16]||(e[16]=s=>r.endDate=s),type:"date",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[j,r.endDate]])])])])]),t("div",Ne,[t("button",{onClick:S,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm"}," Generate Report "),t("button",{onClick:e[17]||(e[17]=s=>p.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):C("",!0)]),_:1}))}};export{Qe as default};
