import{f as V,e as Y,g as w,o as a,h as f,k as d,a as e,u as i,t as o,w as O,c as l,F as g,r as y,v as B,i as x,S as p,l as b,n as A,Q as q}from"./app-ncY6vA5p.js";import{A as G}from"./AuthenticatedLayout-B48czCvq.js";import{P as J}from"./PageLayout-BB-uR6aa.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as W}from"./ChartBarIcon-BK4kB2Aq.js";import{b as X,a as Z}from"./UsersIcon-CoPHWUaN.js";import{j as ee,n as te,b as se,i as re}from"./icons-C19vy05A.js";import{r as oe}from"./ClipboardDocumentCheckIcon-CU-5wJki.js";import{r as ae}from"./TagIcon-BtDtP6iQ.js";import"./useAuth-EO6FNapM.js";import"./PageHeader-D_M1oIAi.js";import"./Icon-CHGPojSg.js";const ne={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},le={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ie={class:"flex items-center"},de={class:"flex-shrink-0"},ce={class:"ml-4"},me={class:"text-2xl font-bold text-gray-900"},ue={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},fe={class:"flex items-center"},ge={class:"flex-shrink-0"},ye={class:"ml-4"},xe={class:"text-2xl font-bold text-gray-900"},be={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},he={class:"flex items-center"},pe={class:"flex-shrink-0"},ve={class:"ml-4"},_e={class:"text-2xl font-bold text-gray-900"},we={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},Ae={class:"p-6"},ke={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ce=["value"],Se=["value"],je={class:"bg-white rounded-lg shadow-sm border border-gray-200"},$e={class:"px-6 py-4 border-b border-gray-200"},Ee={class:"text-lg font-medium text-gray-900"},Me={key:0,class:"p-12 text-center"},Le={key:1,class:"divide-y divide-gray-200"},Re={class:"flex items-center justify-between"},Ue={class:"flex-1"},De={class:"flex items-center space-x-3 mb-2"},Fe={class:"flex items-center"},Ve={class:"h-8 w-8 rounded-full bg-teal-100 flex items-center justify-center mr-3"},Oe={class:"text-xs font-medium text-teal-600"},Be={class:"text-lg font-medium text-gray-900"},Ne={class:"flex items-center space-x-6 text-sm text-gray-600"},Te={class:"flex items-center"},Ie={key:0,class:"flex items-center"},Pe={key:0,class:"mt-3 flex items-center"},He={class:"flex items-center"},Qe={class:"flex"},ze={class:"ml-2 text-sm font-medium text-gray-900"},Ye={class:"ml-2 text-sm text-gray-500"},qe={key:1,class:"mt-3"},Ge={class:"text-sm text-gray-700 line-clamp-2"},Je={class:"flex items-center space-x-3 ml-6"},Ke={key:2,class:"px-6 py-3 border-t border-gray-200"},We={class:"flex items-center justify-between"},Xe={class:"text-sm text-gray-700"},Ze={class:"flex space-x-1"},et={__name:"MyAssessments",props:{assessments:Object,stats:Object,employees:Array,assessmentCycles:Array,statusOptions:Array,filters:Object},setup(n){var C;const c=n;(C=c.assessments)!=null&&C.data&&c.assessments.data.forEach(()=>{});const N=V(()=>[{label:"Dashboard",href:typeof route<"u"?route("dashboard"):"/dashboard"},{label:"My Assessments",href:null}]),T=V(()=>[{label:"All Assessments",href:typeof route<"u"?route("competency-assessments.index"):"/competency-assessments",variant:"secondary"}]),m=Y({status:c.filters&&typeof c.filters=="object"&&!Array.isArray(c.filters)&&c.filters.status||"",assessment_cycle_id:c.filters&&typeof c.filters=="object"&&!Array.isArray(c.filters)&&c.filters.assessment_cycle_id||""}),v=()=>{try{if(typeof route>"u"){console.error("Route function is not available");return}const r=route("competency-assessments.my-assessments");if(!r){console.error("Route URL could not be generated");return}q.get(r,m.value,{preserveState:!0,preserveScroll:!0}).catch(t=>{console.error("Error applying filters:",t)})}catch(r){console.error("Error in applyFilters:",r)}},I=()=>{m.value={status:"",assessment_cycle_id:""},v()},P=r=>r.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().substring(0,2),k=r=>({draft:"Draft",submitted:"Submitted",approved:"Approved",rejected:"Rejected"})[r]||r,H=r=>({draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[r]||"bg-gray-100 text-gray-800",Q=r=>({1:"Needs Improvement",2:"Below Expectations",3:"Meets Expectations",4:"Exceeds Expectations",5:"Outstanding"})[r]||"",z=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=(r,t=null)=>{try{return typeof route>"u"?(console.warn(`Route function not available for: ${r}`),"#"):route(r,t)}catch(h){return console.error(`Error generating route ${r}:`,h),"#"}};return(r,t)=>(a(),w(G,null,{default:f(()=>[d(J,{title:"My Assessments",subtitle:"Assessments assigned to me for completion",breadcrumbs:N.value,actions:T.value},{default:f(()=>{var h,S,j,$,E,M;return[e("div",ne,[e("div",le,[e("div",ie,[e("div",de,[d(i(W),{class:"h-8 w-8 text-teal-600"})]),e("div",ce,[t[2]||(t[2]=e("p",{class:"text-sm font-medium text-gray-500"},"Total Assigned",-1)),e("p",me,o(((h=n.stats)==null?void 0:h.total)||0),1)])])]),e("div",ue,[e("div",fe,[e("div",ge,[d(i(X),{class:"h-8 w-8 text-yellow-600"})]),e("div",ye,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-gray-500"},"Pending",-1)),e("p",xe,o(((S=n.stats)==null?void 0:S.pending)||0),1)])])]),e("div",be,[e("div",he,[e("div",pe,[d(i(ee),{class:"h-8 w-8 text-green-600"})]),e("div",ve,[t[4]||(t[4]=e("p",{class:"text-sm font-medium text-gray-500"},"Completed",-1)),e("p",_e,o(((j=n.stats)==null?void 0:j.completed)||0),1)])])])]),e("div",we,[e("div",Ae,[e("div",ke,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),O(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>m.value.status=s),onChange:v,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"},[t[5]||(t[5]=e("option",{value:""},"All Statuses",-1)),(a(!0),l(g,null,y(n.statusOptions,s=>(a(),l("option",{key:s,value:s},o(k(s)),9,Ce))),128))],544),[[B,m.value.status]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Assessment Cycle",-1)),O(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>m.value.assessment_cycle_id=s),onChange:v,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"},[t[7]||(t[7]=e("option",{value:""},"All Cycles",-1)),(a(!0),l(g,null,y(n.assessmentCycles,s=>(a(),l("option",{key:s.id,value:s.id},o(s.name),9,Se))),128))],544),[[B,m.value.assessment_cycle_id]])]),e("div",{class:"flex items-end"},[e("button",{onClick:I,class:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500"}," Clear Filters ")])])])]),e("div",je,[e("div",$e,[e("h3",Ee," Assessments ("+o((($=n.assessments)==null?void 0:$.total)||0)+") ",1)]),!((E=n.assessments)!=null&&E.data)||n.assessments.data.length===0?(a(),l("div",Me,[d(i(oe),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t[9]||(t[9]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No Assessments Found",-1)),t[10]||(t[10]=e("p",{class:"text-gray-500"},"You don't have any assessments assigned to you yet.",-1))])):(a(),l("div",Le,[(a(!0),l(g,null,y(((M=n.assessments)==null?void 0:M.data)||[],s=>{var L,R,U,D;return a(),l("div",{key:(s==null?void 0:s.id)||Math.random(),class:"p-6 hover:bg-gray-50 transition-colors duration-200"},[e("div",Re,[e("div",Ue,[e("div",De,[e("div",Fe,[e("div",Ve,[e("span",Oe,o(P(((R=(L=s.employee)==null?void 0:L.user)==null?void 0:R.name)||"Unknown")),1)]),e("div",null,[d(i(p),{href:_("competency-assessments.by-employee",(U=s.employee)==null?void 0:U.id),class:"text-sm font-medium text-teal-600 hover:text-teal-800 hover:underline"},{default:f(()=>{var u,F;return[b(o(((F=(u=s.employee)==null?void 0:u.user)==null?void 0:F.name)||"Unknown"),1)]}),_:2},1032,["href"])])]),t[11]||(t[11]=e("span",{class:"text-gray-300"},"â€¢",-1)),e("h4",Be,o((D=s.competency)==null?void 0:D.name),1),e("span",{class:A([H(s.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},o(k(s.status)),3)]),e("div",Ne,[e("div",Te,[d(i(te),{class:"w-4 h-4 mr-1"}),b(" "+o(z(s.created_at)),1)]),s.assessment_cycle?(a(),l("div",Ie,[d(i(ae),{class:"w-4 h-4 mr-1"}),b(" "+o(s.assessment_cycle.name),1)])):x("",!0)]),s.rating?(a(),l("div",Pe,[t[12]||(t[12]=e("span",{class:"text-sm font-medium text-gray-700 mr-2"},"Rating:",-1)),e("div",He,[e("div",Qe,[(a(),l(g,null,y(5,u=>d(i(Z),{key:u,class:A([u<=s.rating?"text-yellow-400":"text-gray-300","h-4 w-4"])},null,8,["class"])),64))]),e("span",ze,o(s.rating)+"/5",1),e("span",Ye,"("+o(Q(s.rating))+")",1)])])):x("",!0),s.comments?(a(),l("div",qe,[e("p",Ge,o(s.comments),1)])):x("",!0)]),e("div",Je,[d(i(p),{href:_("competency-assessments.show",s.id),class:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500"},{default:f(()=>[d(i(se),{class:"w-4 h-4 mr-2"}),t[13]||(t[13]=b(" View "))]),_:2,__:[13]},1032,["href"]),s.status==="draft"?(a(),w(i(p),{key:0,href:_("competency-assessments.evaluate",s.id),class:"inline-flex items-center px-3 py-2 bg-teal-500 text-white text-sm font-medium rounded-md hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500"},{default:f(()=>[d(i(re),{class:"w-4 h-4 mr-2"}),t[14]||(t[14]=b(" Complete "))]),_:2,__:[14]},1032,["href"])):x("",!0)])])])}),128))])),n.assessments.links?(a(),l("div",Ke,[e("div",We,[e("div",Xe," Showing "+o(n.assessments.from)+" to "+o(n.assessments.to)+" of "+o(n.assessments.total)+" results ",1),e("div",Ze,[(a(!0),l(g,null,y(n.assessments.links,s=>(a(),w(i(p),{key:s.label,href:s.url,class:A(["px-3 py-2 text-sm font-medium rounded-md",s.active?"bg-teal-500 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])):x("",!0)])]}),_:1},8,["breadcrumbs","actions"])]),_:1}))}},ft=K(et,[["__scopeId","data-v-ff066da1"]]);export{ft as default};
