import{f as d,Q as m,g as k,o as a,h as p,k as c,a as t,u,t as i,c as r,F as C,r as $,i as n,n as L,G as q}from"./app-Cb0_jh1v.js";import{_ as A}from"./AuthenticatedLayout-CmrMUa2L.js";import{P}from"./PageLayout-1L2w-Kzw.js";import{S as B,m as D,G as Q,w as S}from"./Icon-B41DNgSr.js";import"./useAuth-DUIAurAl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-JvEG5o5-.js";import"./useAccessibility-Dy2noiOq.js";import"./PageHeader-CA4NkzIx.js";/* empty css                                                                   *//* empty css                                                                   */const E={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},V={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},N={class:"p-6"},F={class:"flex items-center"},G={class:"flex-shrink-0"},I={class:"ml-4"},M={class:"text-2xl font-semibold text-gray-900"},R={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},z={class:"p-6"},U={class:"flex items-center"},j={class:"flex-shrink-0"},H={class:"ml-4"},J={class:"text-2xl font-semibold text-gray-900"},K={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},O={class:"p-6"},W={class:"flex items-center"},X={class:"flex-shrink-0"},Y={class:"ml-4"},Z={class:"text-2xl font-semibold text-gray-900"},T={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},tt={class:"p-6"},st={class:"flex items-center"},et={class:"flex-shrink-0"},ot={class:"ml-4"},it={class:"text-2xl font-semibold text-gray-900"},at={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},rt={class:"p-6"},nt={class:"overflow-x-auto"},dt={class:"min-w-full divide-y divide-gray-200"},ct={class:"bg-white divide-y divide-gray-200"},lt={class:"px-6 py-4 whitespace-nowrap"},ut={class:"text-sm font-medium text-gray-900"},_t={key:0,class:"text-sm text-gray-500"},xt={class:"px-6 py-4 whitespace-nowrap"},mt={class:"text-sm text-gray-900"},pt={key:0,class:"text-xs text-green-600"},ht={class:"px-6 py-4 whitespace-nowrap"},vt={class:"space-y-1"},gt={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},yt={key:1,class:"text-xs text-gray-600"},ft={key:2,class:"text-xs text-gray-600"},wt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},bt={class:"px-6 py-4 whitespace-nowrap"},kt=["onClick"],Ct={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},$t={class:"flex items-center space-x-2"},Lt=["onClick"],qt=["onClick"],At=["onClick"],Mt={__name:"Index",props:{leaveTypes:Array,canCreate:Boolean},setup(_){const l=_,h=d(()=>l.leaveTypes.filter(e=>e.is_active).length),v=d(()=>l.leaveTypes.reduce((e,o)=>e+o.quota,0)),g=d(()=>l.leaveTypes.reduce((e,o)=>e+o.leaves_count,0)),y=d(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Leave Policies",current:!0}]),f=d(()=>{const e=[];return l.canCreate&&e.push({id:"add-leave-type",label:"Add Leave Type",icon:"plus",variant:"primary",handler:()=>m.visit(route("leave-types.create"))}),e}),w=async e=>{try{if((await q.post(route("leave-types.toggle-status",e.id))).data.success){e.is_active=!e.is_active;const s=e.is_active?"activated":"deactivated";console.log(`Leave type ${s} successfully`)}}catch(o){console.error("Error toggling status:",o)}},b=e=>{confirm(`Are you sure you want to delete "${e.name}"? This action cannot be undone.`)&&m.delete(route("leave-types.destroy",e.id),{onSuccess:()=>{},onError:o=>{console.error("Delete failed:",o)}})};return(e,o)=>(a(),k(A,null,{default:p(()=>[c(P,{title:"Leave Policies",subtitle:"Manage leave types, quotas, and approval policies",breadcrumbs:y.value,actions:f.value},{default:p(()=>[t("div",E,[t("div",V,[t("div",N,[t("div",F,[t("div",G,[c(u(B),{class:"h-8 w-8 text-blue-500"})]),t("div",I,[o[0]||(o[0]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Leave Types",-1)),t("p",M,i(_.leaveTypes.length),1)])])])]),t("div",R,[t("div",z,[t("div",U,[t("div",j,[c(u(D),{class:"h-8 w-8 text-green-500"})]),t("div",H,[o[1]||(o[1]=t("p",{class:"text-sm font-medium text-gray-500"},"Active Policies",-1)),t("p",J,i(h.value),1)])])])]),t("div",K,[t("div",O,[t("div",W,[t("div",X,[c(u(Q),{class:"h-8 w-8 text-purple-500"})]),t("div",Y,[o[2]||(o[2]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Quota Days",-1)),t("p",Z,i(v.value),1)])])])]),t("div",T,[t("div",tt,[t("div",st,[t("div",et,[c(u(S),{class:"h-8 w-8 text-orange-500"})]),t("div",ot,[o[3]||(o[3]=t("p",{class:"text-sm font-medium text-gray-500"},"Leave Requests",-1)),t("p",it,i(g.value),1)])])])])]),t("div",at,[t("div",rt,[t("div",nt,[t("table",dt,[o[4]||(o[4]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Leave Type "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Quota "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Policies "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Usage "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"relative px-6 py-3"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",ct,[(a(!0),r(C,null,$(_.leaveTypes,s=>(a(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",lt,[t("div",null,[t("div",ut,i(s.name),1),s.description?(a(),r("div",_t,i(s.description),1)):n("",!0)])]),t("td",xt,[t("div",mt,i(s.quota)+" days ",1),s.carry_forward?(a(),r("div",pt," Carry forward enabled ")):n("",!0)]),t("td",ht,[t("div",vt,[s.requires_approval?(a(),r("div",gt," Requires Approval ")):n("",!0),s.max_consecutive_days?(a(),r("div",yt," Max "+i(s.max_consecutive_days)+" consecutive days ",1)):n("",!0),s.min_notice_days?(a(),r("div",ft,i(s.min_notice_days)+" days notice required ",1)):n("",!0)])]),t("td",wt,i(s.leaves_count)+" requests ",1),t("td",bt,[t("button",{onClick:x=>w(s),class:L([{"bg-green-100 text-green-800":s.is_active,"bg-red-100 text-red-800":!s.is_active},"inline-flex px-2 py-1 text-xs font-semibold rounded-full cursor-pointer hover:opacity-80"])},i(s.is_active?"Active":"Inactive"),11,kt)]),t("td",Ct,[t("div",$t,[t("button",{onClick:x=>e.$inertia.visit(e.route("leave-types.show",s.id)),class:"text-indigo-600 hover:text-indigo-900"}," View ",8,Lt),t("button",{onClick:x=>e.$inertia.visit(e.route("leave-types.edit",s.id)),class:"text-indigo-600 hover:text-indigo-900"}," Edit ",8,qt),s.leaves_count===0?(a(),r("button",{key:0,onClick:x=>b(s),class:"text-red-600 hover:text-red-900"}," Delete ",8,At)):n("",!0)])])]))),128))])])])])])]),_:1},8,["breadcrumbs","actions"])]),_:1}))}};export{Mt as default};
