import{b as Pe,c as Ie}from"./AuthenticatedLayout-CVw9EQFA.js";import{e as D,y as J,f as w,c as n,o as a,a as u,i as x,n as W,t as A,g as O,l as Y,d as Re,k as V,z as _e,B as Oe,w as Ve,b as Be,m as Fe,h as Z,F as N,r as M,T as ke,D as Ne,A as ee,P as je,q as le,V as Se}from"./app-DLSN0gU7.js";import{B as ue}from"./BaseButton--HVdRgnX.js";import{B as xe}from"./BaseInput-BWKACy7V.js";import{B as we}from"./BaseSelect-DbDs6z-r.js";import{B as $e}from"./BaseMultiSelect-BITwhL2N.js";/* empty css                                                                  */import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I as F}from"./Icon-BoMiG0_K.js";import{B as ve}from"./BaseCheckbox-DerPQ383.js";const Me={class:"date-range-picker"},De={class:"flex flex-col space-y-2"},We={class:"flex items-center space-x-2"},Le=["id","value","disabled","required","placeholder"],Ee=["id","value","disabled","required","placeholder"],Ue={key:0,class:"error-message"},qe={key:1,class:"hint-message"},Ke={__name:"DateRangePicker",props:{id:{type:String,default:""},modelValue:{type:Object,default:()=>({start:"",end:""})},startPlaceholder:{type:String,default:"Start date"},endPlaceholder:{type:String,default:"End date"},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},error:{type:String,default:""},hint:{type:String,default:""},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)}},emits:["update:modelValue"],setup(e,{emit:b}){const t=D("custom");J(t,y=>{y!=="custom"&&s(y)});const s=y=>{const p=new Date;let $,r;switch(y){case"today":$=r=p.toISOString().split("T")[0];break;case"last7":$=new Date(p),$.setDate($.getDate()-6),$=$.toISOString().split("T")[0],r=p.toISOString().split("T")[0];break;case"thisMonth":$=new Date(p.getFullYear(),p.getMonth(),1).toISOString().split("T")[0],r=new Date(p.getFullYear(),p.getMonth()+1,0).toISOString().split("T")[0];break}v("update:modelValue",{start:$,end:r})},o=e,v=b,c=w(()=>{var y;return((y=o.modelValue)==null?void 0:y.start)||""}),h=w(()=>{var y;return((y=o.modelValue)==null?void 0:y.end)||""}),k=w(()=>["date-input","border rounded-md transition-colors focus:outline-none focus:ring-2",{"px-3 py-2 text-sm":o.size==="sm","px-3 py-2 text-base":o.size==="md","px-4 py-3 text-lg":o.size==="lg","border-neutral-300 focus:border-primary-500 focus:ring-primary-500":!o.error&&!o.disabled,"border-red-500 focus:border-red-500 focus:ring-red-500":o.error,"bg-neutral-100 border-neutral-200 cursor-not-allowed":o.disabled}]),I=y=>{const p={...o.modelValue,start:y.target.value};v("update:modelValue",p),t.value!=="custom"&&(t.value="custom")},f=y=>{const p={...o.modelValue,end:y.target.value};v("update:modelValue",p),t.value!=="custom"&&(t.value="custom")};return(y,p)=>(a(),n("div",Me,[u("div",De,[u("div",We,[u("input",{id:`${e.id}-start`,type:"date",value:c.value,disabled:e.disabled,required:e.required,class:W(k.value),placeholder:e.startPlaceholder,onInput:I},null,42,Le),p[0]||(p[0]=u("span",{class:"text-neutral-500"},"to",-1)),u("input",{id:`${e.id}-end`,type:"date",value:h.value,disabled:e.disabled,required:e.required,class:W(k.value),placeholder:e.endPlaceholder,onInput:f},null,42,Ee)])]),e.error?(a(),n("div",Ue,A(e.error),1)):x("",!0),e.hint?(a(),n("div",qe,A(e.hint),1)):x("",!0)]))}},Ce=G(Ke,[["__scopeId","data-v-19d8cd7a"]]),He={class:"filter-chip"},Ge={key:4,class:"text-filter-chip"},Ye={__name:"FilterChip",props:{filter:{type:Object,required:!0},value:{type:[String,Number,Array,Object],default:null},active:{type:Boolean,default:!1}},emits:["change","clear"],setup(e,{emit:b}){const t=e,s=b,o=k=>{s("change",t.filter.key,k)},v=()=>{s("clear",t.filter.key)},c=()=>{t.active?v():o(!0)},h=()=>["toggle-chip","inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-full","border transition-colors duration-150","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",{"bg-primary-100 text-primary-800 border-primary-200":t.active,"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50":!t.active}];return(k,I)=>(a(),n("div",He,[e.filter.type==="select"?(a(),O(we,{key:0,"model-value":e.value,options:e.filter.options,placeholder:e.filter.label,size:"sm","onUpdate:modelValue":o},null,8,["model-value","options","placeholder"])):e.filter.type==="multiselect"?(a(),O($e,{key:1,"model-value":e.value||[],options:e.filter.options,placeholder:e.filter.label,size:"sm","onUpdate:modelValue":o},null,8,["model-value","options","placeholder"])):e.filter.type==="toggle"?(a(),n("button",{key:2,class:W(h()),onClick:c},[e.filter.icon?(a(),O(F,{key:0,name:e.filter.icon,class:"w-4 h-4 mr-2"},null,8,["name"])):x("",!0),Y(" "+A(e.filter.label)+" ",1),e.active?(a(),O(F,{key:1,name:"x",class:"w-3 h-3 ml-2",onClick:Re(v,["stop"])})):x("",!0)],2)):e.filter.type==="daterange"?(a(),O(Ce,{key:3,"model-value":e.value,placeholder:e.filter.label,size:"sm","onUpdate:modelValue":o},null,8,["model-value","placeholder"])):(a(),n("div",Ge,[V(xe,{"model-value":e.value,placeholder:e.filter.label,size:"sm","onUpdate:modelValue":o},null,8,["model-value","placeholder"]),e.value?(a(),n("button",{key:0,onClick:v,class:"clear-button","aria-label":"Clear filter"},[V(F,{name:"x",class:"w-3 h-3"})])):x("",!0)]))]))}},Je=G(Ye,[["__scopeId","data-v-8baf0099"]]),Qe={class:"filter-tag"},Xe={class:"filter-name"},Ze={class:"filter-value"},et=["aria-label"],tt={__name:"FilterTag",props:{filter:{type:Object,required:!0},value:{type:[String,Number,Array,Object],required:!0}},emits:["remove"],setup(e,{emit:b}){const t=e,s=b,o=w(()=>Array.isArray(t.value)?t.value.length===0?"None":t.value.length===1?t.value[0]:`${t.value.length} selected`:typeof t.value=="object"&&t.value!==null?t.value.start&&t.value.end?`${t.value.start} - ${t.value.end}`:JSON.stringify(t.value):typeof t.value=="boolean"?t.value?"Yes":"No":String(t.value)),v=()=>{s("remove")};return(c,h)=>(a(),n("span",Qe,[u("span",Xe,A(e.filter.label)+":",1),u("span",Ze,A(o.value),1),u("button",{onClick:v,class:"remove-button","aria-label":`Remove ${e.filter.label} filter`},[V(F,{name:"x",class:"w-3 h-3"})],8,et)]))}},at=G(tt,[["__scopeId","data-v-2f28cfe8"]]);var lt=typeof global=="object"&&global&&global.Object===Object&&global,nt=typeof self=="object"&&self&&self.Object===Object&&self,Te=lt||nt||Function("return this")(),re=Te.Symbol,ze=Object.prototype,st=ze.hasOwnProperty,rt=ze.toString,ae=re?re.toStringTag:void 0;function it(e){var b=st.call(e,ae),t=e[ae];try{e[ae]=void 0;var s=!0}catch{}var o=rt.call(e);return s&&(b?e[ae]=t:delete e[ae]),o}var ot=Object.prototype,ct=ot.toString;function ut(e){return ct.call(e)}var dt="[object Null]",ht="[object Undefined]",ye=re?re.toStringTag:void 0;function ft(e){return e==null?e===void 0?ht:dt:ye&&ye in Object(e)?it(e):ut(e)}function mt(e){return e!=null&&typeof e=="object"}var gt="[object Symbol]";function vt(e){return typeof e=="symbol"||mt(e)&&ft(e)==gt}var yt=/\s/;function pt(e){for(var b=e.length;b--&&yt.test(e.charAt(b)););return b}var bt=/^\s+/;function kt(e){return e&&e.slice(0,pt(e)+1).replace(bt,"")}function he(e){var b=typeof e;return e!=null&&(b=="object"||b=="function")}var pe=NaN,St=/^[-+]0x[0-9a-f]+$/i,xt=/^0b[01]+$/i,wt=/^0o[0-7]+$/i,$t=parseInt;function be(e){if(typeof e=="number")return e;if(vt(e))return pe;if(he(e)){var b=typeof e.valueOf=="function"?e.valueOf():e;e=he(b)?b+"":b}if(typeof e!="string")return e===0?e:+e;e=kt(e);var t=xt.test(e);return t||wt.test(e)?$t(e.slice(2),t?2:8):St.test(e)?pe:+e}var de=function(){return Te.Date.now()},Ct="Expected a function",Tt=Math.max,zt=Math.min;function At(e,b,t){var s,o,v,c,h,k,I=0,f=!1,y=!1,p=!0;if(typeof e!="function")throw new TypeError(Ct);b=be(b)||0,he(t)&&(f=!!t.leading,y="maxWait"in t,v=y?Tt(be(t.maxWait)||0,b):v,p="trailing"in t?!!t.trailing:p);function $(d){var m=s,z=o;return s=o=void 0,I=d,c=e.apply(z,m),c}function r(d){return I=d,h=setTimeout(L,b),f?$(d):c}function j(d){var m=d-k,z=d-I,K=b-m;return y?zt(K,v-z):K}function _(d){var m=d-k,z=d-I;return k===void 0||m>=b||m<0||y&&z>=v}function L(){var d=de();if(_(d))return U(d);h=setTimeout(L,j(d))}function U(d){return h=void 0,p&&s?$(d):(s=o=void 0,c)}function E(){h!==void 0&&clearTimeout(h),I=0,s=k=o=h=void 0}function q(){return h===void 0?c:U(de())}function T(){var d=de(),m=_(d);if(s=arguments,o=this,k=d,m){if(h===void 0)return r(k);if(y)return clearTimeout(h),h=setTimeout(L,b),$(k)}return h===void 0&&(h=setTimeout(L,b)),c}return T.cancel=E,T.flush=q,T}const Pt={class:"relative"},It={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},Rt=["placeholder","disabled","aria-expanded","aria-activedescendant"],_t=["aria-label"],Ot={key:0,class:"px-4 py-3 text-sm text-neutral-500 flex items-center"},Vt={key:1,class:"px-4 py-3 text-sm text-neutral-500"},Bt={key:0,class:"border-b border-neutral-100"},Ft=["onClick"],Nt={class:"truncate"},jt={key:1},Mt={key:0,class:"px-4 py-2 text-xs font-medium text-neutral-500 uppercase tracking-wide"},Dt=["id","onClick","onMouseenter","aria-selected"],Wt={class:"flex-1 min-w-0"},Lt=["innerHTML"],Et={key:0,class:"text-xs text-neutral-500 truncate"},Ut={key:1,class:"text-xs text-neutral-400 ml-2 flex-shrink-0"},qt={__name:"SearchBar",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"Search..."},disabled:{type:Boolean,default:!1},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},suggestions:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},minSearchLength:{type:Number,default:3},debounceMs:{type:Number,default:300},showRecentSearches:{type:Boolean,default:!0},maxRecentSearches:{type:Number,default:5},clearLabel:{type:String,default:"Clear search"},class:{type:[String,Array,Object],default:""}},emits:["update:modelValue","search","select","focus","blur","clear"],setup(e,{expose:b,emit:t}){const s=e,o=t,v=D(null),c=D(s.modelValue),h=D(!1),k=D(-1),I=D(!1),f=D([]),y=`suggestions-${Math.random().toString(36).substr(2,9)}`,p=i=>`suggestion-${y}-${i}`,$=w(()=>k.value>=0?p(k.value):null),r=w(()=>["search-bar relative",s.class]),j=w(()=>{const i=["block w-full rounded-md border-0 shadow-sm ring-1 ring-inset ring-neutral-300","placeholder:text-neutral-400 focus:ring-2 focus:ring-inset focus:ring-primary-600","disabled:cursor-not-allowed disabled:bg-neutral-50 disabled:text-neutral-500","transition-all duration-200 bg-white text-neutral-900"],P={sm:"pl-9 pr-9 py-2 text-sm h-8",md:"pl-10 pr-10 py-2.5 text-base h-10",lg:"pl-12 pr-12 py-3 text-lg h-12"};return[...i,P[s.size]]}),_=w(()=>[{sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[s.size],"text-neutral-400"]),L=At(i=>{i.length>=s.minSearchLength&&(I.value=!0,o("search",i))},s.debounceMs);J(()=>s.loading,i=>{I.value=i}),J(()=>s.modelValue,i=>{c.value=i}),J(c,i=>{o("update:modelValue",i),i.length>=s.minSearchLength?(h.value=!0,L(i)):(h.value=i.length===0&&s.showRecentSearches&&f.value.length>0,I.value=!1),k.value=-1});const U=i=>{c.value=i.target.value},E=i=>{c.value.length===0&&s.showRecentSearches&&f.value.length>0||c.value.length>=s.minSearchLength?h.value=!0:h.value=!1,o("focus",i)},q=i=>{setTimeout(()=>{h.value=!1,k.value=-1},150),o("blur",i)},T=i=>{if(!h.value)return;const P=s.suggestions.length+(s.showRecentSearches?f.value.length:0);switch(i.key){case"ArrowDown":i.preventDefault(),k.value=Math.min(k.value+1,P-1);break;case"ArrowUp":i.preventDefault(),k.value=Math.max(k.value-1,-1);break;case"Enter":if(i.preventDefault(),k.value>=0){const B=[...s.showRecentSearches?f.value:[],...s.suggestions];K(B[k.value])}else c.value&&z();break;case"Tab":h.value=!1;break}},d=()=>{var i;h.value=!1,k.value=-1,(i=v.value)==null||i.blur()},m=()=>{h.value=!1,k.value=-1,o("clear"),Ne(()=>{var i;(i=v.value)==null||i.focus()})},z=()=>{c.value&&(te(c.value),h.value=!1,o("search",c.value))},K=i=>{const P=i.text||i.label||i;c.value=P,h.value=!1,k.value=-1,te(P),o("select",i),o("search",P)},te=i=>{if(!s.showRecentSearches||!i.trim())return;const P={text:i.trim(),timestamp:Date.now()};f.value=f.value.filter(B=>B.text!==P.text),f.value.unshift(P),f.value.length>s.maxRecentSearches&&(f.value=f.value.slice(0,s.maxRecentSearches)),oe()},ie=()=>{try{const i=localStorage.getItem("searchbar-recent-searches");i&&(f.value=JSON.parse(i))}catch(i){console.warn("Failed to load recent searches:",i),f.value=[]}},oe=()=>{try{localStorage.setItem("searchbar-recent-searches",JSON.stringify(f.value))}catch(i){console.warn("Failed to save recent searches:",i)}},Q=i=>{if(!c.value||!i)return i;const P=new RegExp(`(${ce(c.value)})`,"gi");return i.replace(P,'<mark class="bg-yellow-200 text-yellow-800 px-0.5 rounded">$1</mark>')},ce=i=>i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),ne=i=>{var P;(P=v.value)!=null&&P.contains(i.target)||(h.value=!1)};return b({focus:()=>{var i;(i=v.value)==null||i.focus()},blur:()=>{var i;(i=v.value)==null||i.blur()},clear:()=>{m()}}),_e(()=>{ie(),document.addEventListener("click",ne)}),Oe(()=>{document.removeEventListener("click",ne)}),(i,P)=>(a(),n("div",{class:W(["search-bar",r.value])},[u("div",Pt,[u("div",It,[V(F,{name:"search",class:W(_.value)},null,8,["class"])]),Ve(u("input",{ref_key:"searchInput",ref:v,"onUpdate:modelValue":P[0]||(P[0]=B=>c.value=B),type:"search",placeholder:e.placeholder,disabled:e.disabled,class:W(j.value),onInput:U,onFocus:E,onBlur:q,onKeydown:T,onKeyup:Fe(d,["escape"]),autocomplete:"off",role:"combobox","aria-expanded":h.value,"aria-owns":y,"aria-activedescendant":$.value},null,42,Rt),[[Be,c.value]]),c.value&&!e.disabled?(a(),n("button",{key:0,type:"button",class:"absolute inset-y-0 right-0 flex items-center pr-3 text-neutral-400 hover:text-neutral-600 transition-colors duration-200",onClick:m,"aria-label":e.clearLabel},[V(F,{name:"x",class:"w-4 h-4"})],8,_t)):x("",!0)]),V(ke,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-1"},{default:Z(()=>[h.value?(a(),n("div",{key:0,id:y,class:"absolute z-[9999] mt-1 w-full bg-white rounded-md shadow-lg border border-neutral-200 max-h-60 overflow-auto",role:"listbox"},[I.value?(a(),n("div",Ot,P[1]||(P[1]=[u("div",{class:"animate-spin rounded-full h-4 w-4 border-2 border-primary-500 border-t-transparent mr-2"},null,-1),Y(" Searching... ")]))):e.suggestions.length===0&&c.value?(a(),n("div",Vt,' No results found for "'+A(c.value)+'" ',1)):(a(),n(N,{key:2},[e.showRecentSearches&&f.value.length>0?(a(),n("div",Bt,[P[2]||(P[2]=u("div",{class:"px-4 py-2 text-xs font-medium text-neutral-500 uppercase tracking-wide"}," Recent Searches ",-1)),(a(!0),n(N,null,M(f.value,(B,H)=>(a(),n("button",{key:`recent-${H}`,type:"button",class:"w-full px-4 py-2 text-left text-sm hover:bg-neutral-50 flex items-center",onClick:se=>K(B)},[V(F,{name:"clock",class:"w-4 h-4 text-neutral-400 mr-2 flex-shrink-0"}),u("span",Nt,A(B.text),1)],8,Ft))),128))])):x("",!0),e.suggestions.length>0?(a(),n("div",jt,[e.showRecentSearches&&f.value.length>0?(a(),n("div",Mt," Suggestions ")):x("",!0),(a(!0),n(N,null,M(e.suggestions,(B,H)=>(a(),n("button",{key:B.id||H,id:p(H),type:"button",class:W(["w-full px-4 py-2 text-left text-sm hover:bg-neutral-50 focus:bg-neutral-50 flex items-center",{"bg-primary-50 text-primary-700":H===k.value}]),onClick:se=>K(B),onMouseenter:se=>k.value=H,role:"option","aria-selected":H===k.value},[B.icon?(a(),O(F,{key:0,name:B.icon,class:"w-4 h-4 text-neutral-400 mr-2 flex-shrink-0"},null,8,["name"])):x("",!0),u("div",Wt,[u("div",{class:"truncate",innerHTML:Q(B.text||B.label)},null,8,Lt),B.description?(a(),n("div",Et,A(B.description),1)):x("",!0)]),B.category?(a(),n("div",Ut,A(B.category),1)):x("",!0)],42,Dt))),128))])):x("",!0)],64))])):x("",!0)]),_:1})],2))}},Kt=G(qt,[["__scopeId","data-v-c373adbc"]]),Ht=["data-theme"],Gt={class:"header-main"},Yt={class:"header-content"},Jt={key:0,class:"table-title"},Qt={key:1,class:"table-subtitle"},Xt={class:"header-actions"},Zt={key:0,class:"search-filter-bar relative z-[10000] transform translate-z-0"},ea={key:0,class:"search-section"},ta={key:1,class:"filter-section"},aa={class:"filter-controls"},la={key:0,class:"quick-filters"},na={key:0,class:"advanced-filters-panel"},sa={class:"filter-grid"},ra=["for"],ia={class:"filter-actions"},oa={key:1,class:"active-filters"},ca={class:"active-filters-list"},ua={__name:"TableHeader",props:{title:{type:String,default:""},subtitle:{type:String,default:""},searchConfig:{type:Object,default:()=>({enabled:!0,placeholder:"Search...",debounce:300})},filterConfig:{type:Object,default:()=>({enabled:!0,filters:[]})},actions:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},theme:{type:String,default:"light",validator:e=>["light","dark"].includes(e)}},emits:["search","filter","action"],setup(e,{emit:b}){const t=e,s=b,o=D(""),v=D({}),c=D(!1),h=w(()=>t.searchConfig.enabled||t.filterConfig.enabled&&t.filterConfig.filters.length),k=w(()=>t.filterConfig.filters.filter(T=>T.quick)),I=w(()=>t.filterConfig.filters.filter(T=>!T.quick)),f=w(()=>I.value.length>0),y=w(()=>Object.keys(v.value).some(T=>{const d=v.value[T];return d!=null&&d!==""&&(!Array.isArray(d)||d.length>0)})),p=T=>{s("search",T)},$=()=>{o.value="",s("search","")},r=(T,d)=>{d==null||d===""||Array.isArray(d)&&d.length===0?delete v.value[T]:v.value[T]=d,s("filter",{...v.value})},j=T=>{delete v.value[T],s("filter",{...v.value})},_=()=>{v.value={},s("filter",{})},L=()=>{c.value=!1,s("filter",{...v.value})},U=()=>{c.value=!c.value},E=T=>t.filterConfig.filters.find(d=>d.key===T),q=T=>{s("action",T),T.handler&&T.handler()};return J(()=>t.searchConfig,()=>{t.searchConfig.enabled||(o.value="")}),J(()=>t.filterConfig,()=>{t.filterConfig.enabled||(v.value={},c.value=!1)}),(T,d)=>(a(),n("div",{class:"table-header","data-theme":e.theme},[u("div",Gt,[u("div",Yt,[e.title?(a(),n("h3",Jt,A(e.title),1)):x("",!0),e.subtitle?(a(),n("p",Qt,A(e.subtitle),1)):x("",!0)]),u("div",Xt,[ee(T.$slots,"actions",{},()=>[(a(!0),n(N,null,M(e.actions,m=>(a(),O(ue,je({key:m.id},{ref_for:!0},m,{onClick:z=>q(m)}),{default:Z(()=>[m.icon?(a(),O(F,{key:0,name:m.icon,class:"w-4 h-4 mr-2"},null,8,["name"])):x("",!0),Y(" "+A(m.label),1)]),_:2},1040,["onClick"]))),128))],!0)])]),h.value?(a(),n("div",Zt,[e.searchConfig.enabled?(a(),n("div",ea,[V(Kt,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=m=>o.value=m),placeholder:e.searchConfig.placeholder,"min-search-length":e.searchConfig.minSearchLength||3,suggestions:e.searchConfig.suggestions||[],loading:e.loading,onSearch:p,onClear:$},null,8,["modelValue","placeholder","min-search-length","suggestions","loading"])])):x("",!0),e.filterConfig.enabled&&e.filterConfig.filters.length?(a(),n("div",ta,[u("div",aa,[k.value.length?(a(),n("div",la,[(a(!0),n(N,null,M(k.value,m=>(a(),O(Je,{key:m.key,filter:m,active:v.value[m.key]!==void 0,value:v.value[m.key],onChange:r,onClear:j},null,8,["filter","active","value"]))),128))])):x("",!0),f.value?(a(),n("button",{key:1,onClick:U,class:"advanced-filter-toggle"},[V(F,{name:"filter",class:"w-4 h-4 mr-2"}),d[1]||(d[1]=Y(" Advanced Filters ")),V(F,{name:c.value?"chevron-up":"chevron-down",class:"w-4 h-4 ml-2"},null,8,["name"])])):x("",!0),y.value?(a(),n("button",{key:2,onClick:_,class:"clear-filters"},[V(F,{name:"x",class:"w-4 h-4 mr-1"}),d[2]||(d[2]=Y(" Clear All "))])):x("",!0)]),V(ke,{name:"slide-down"},{default:Z(()=>[c.value?(a(),n("div",na,[u("div",sa,[(a(!0),n(N,null,M(I.value,m=>(a(),n("div",{key:m.key,class:"filter-field"},[u("label",{for:`filter-${m.key}`,class:"filter-label"},A(m.label),9,ra),m.type==="select"?(a(),O(we,{key:0,id:`filter-${m.key}`,"model-value":v.value[m.key],options:m.options,placeholder:m.placeholder,"onUpdate:modelValue":z=>r(m.key,z)},null,8,["id","model-value","options","placeholder","onUpdate:modelValue"])):m.type==="multiselect"?(a(),O($e,{key:1,id:`filter-${m.key}`,"model-value":v.value[m.key]||[],options:m.options,placeholder:m.placeholder,"onUpdate:modelValue":z=>r(m.key,z)},null,8,["id","model-value","options","placeholder","onUpdate:modelValue"])):m.type==="daterange"?(a(),O(Ce,{key:2,id:`filter-${m.key}`,"model-value":v.value[m.key],placeholder:m.placeholder,"onUpdate:modelValue":z=>r(m.key,z)},null,8,["id","model-value","placeholder","onUpdate:modelValue"])):(a(),O(xe,{key:3,id:`filter-${m.key}`,"model-value":v.value[m.key],placeholder:m.placeholder,"onUpdate:modelValue":z=>r(m.key,z)},null,8,["id","model-value","placeholder","onUpdate:modelValue"]))]))),128))]),u("div",ia,[V(ue,{variant:"secondary",onClick:_},{default:Z(()=>d[3]||(d[3]=[Y(" Clear All ")])),_:1,__:[3]}),V(ue,{variant:"primary",onClick:L},{default:Z(()=>d[4]||(d[4]=[Y(" Apply Filters ")])),_:1,__:[4]})])])):x("",!0)]),_:1})])):x("",!0)])):x("",!0),y.value?(a(),n("div",oa,[u("div",ca,[d[5]||(d[5]=u("span",{class:"active-filters-label"},"Active filters:",-1)),(a(!0),n(N,null,M(v.value,(m,z)=>(a(),O(at,{key:z,filter:E(z),value:m,onRemove:K=>j(z)},null,8,["filter","value","onRemove"]))),128))])])):x("",!0)],8,Ht))}},da=G(ua,[["__scopeId","data-v-724cc814"]]),ha=["data-theme"],fa={class:"page-size-section"},ma=["value"],ga=["value"],va={class:"page-info flex-grow min-w-0"},ya={class:"info-text"},pa={class:"pagination-nav flex-shrink-0 flex-grow justify-end"},ba=["disabled"],ka={class:"page-numbers flex items-center"},Sa=["onClick","aria-label","aria-current","title"],xa={key:1,class:"ellipsis","aria-hidden":"true"},wa=["disabled"],$a={__name:"TablePagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},pageSize:{type:Number,required:!0},pageSizeOptions:{type:Array,default:()=>[10,25,50,100]},totalItems:{type:Number,required:!0},maxVisiblePages:{type:Number,default:5},theme:{type:String,default:"light",validator:e=>["light","dark"].includes(e)}},emits:["page-change","page-size-change"],setup(e,{emit:b}){const t=e,s=b,o=w(()=>t.totalItems===0?0:(t.currentPage-1)*t.pageSize+1),v=w(()=>Math.min(t.currentPage*t.pageSize,t.totalItems)),c=w(()=>{const f=[],y=t.totalPages,p=t.currentPage,$=t.maxVisiblePages;if(y<=$)for(let r=1;r<=y;r++)f.push(r);else{let r=Math.max(1,p-Math.floor($/2)),j=Math.min(y,r+$-1);j-r+1<$&&(r=Math.max(1,j-$+1)),r>1&&(f.push(1),r>2&&f.push("..."));for(let _=r;_<=j;_++)f.push(_);j<y&&(j<y-1&&f.push("..."),f.push(y))}return f});w(()=>c.value.includes("..."));const h=f=>{f>=1&&f<=t.totalPages&&f!==t.currentPage&&s("page-change",f)},k=f=>{const y=parseInt(f.target.value);s("page-size-change",y)},I=f=>["pagination-button","page-number",{active:f===t.currentPage,ellipsis:f==="..."}];return(f,y)=>(a(),n("div",{class:"table-pagination","data-theme":e.theme},[u("div",fa,[y[2]||(y[2]=u("label",{class:"page-size-label"},"Rows per page:",-1)),u("select",{value:e.pageSize,onChange:k,class:"page-size-select","aria-label":"Select page size"},[(a(!0),n(N,null,M(e.pageSizeOptions,p=>(a(),n("option",{key:p,value:p},A(p),9,ga))),128))],40,ma)]),u("div",va,[u("span",ya,A(o.value)+"-"+A(v.value)+" of "+A(e.totalItems),1)]),u("div",pa,[u("button",{disabled:e.currentPage===1,onClick:y[0]||(y[0]=p=>h(e.currentPage-1)),class:"nav-button","aria-label":"Previous page",title:"Previous page"},[V(F,{name:"chevron-left",class:"w-4 h-4"})],8,ba),u("div",ka,[(a(!0),n(N,null,M(c.value,p=>(a(),n(N,{key:p},[p!=="..."?(a(),n("button",{key:0,class:W(I(p)),onClick:$=>h(p),"aria-label":`Go to page ${p}`,"aria-current":p===e.currentPage?"page":void 0,title:`Go to page ${p}`},A(p),11,Sa)):(a(),n("span",xa,"..."))],64))),128))]),u("button",{disabled:e.currentPage===e.totalPages,onClick:y[1]||(y[1]=p=>h(e.currentPage+1)),class:"nav-button","aria-label":"Next page",title:"Next page"},[V(F,{name:"chevron-right",class:"w-4 h-4"})],8,wa)])],8,ha))}},Ca=G($a,[["__scopeId","data-v-d858a119"]]),Ta={class:"table-skeleton"},za={class:"skeleton-table"},Aa={class:"skeleton-head"},Pa={class:"skeleton-body"},Ia={class:"skeleton-cell-content"},Ra={__name:"TableSkeleton",props:{columns:{type:Number,default:4},rows:{type:Number,default:5},animated:{type:Boolean,default:!0}},setup(e){const b=s=>{const o={};return s===0?(o.minWidth="200px",o.width="auto"):s===1?(o.minWidth="250px",o.width="auto"):(o.minWidth="120px",o.width="auto"),o},t=(s,o)=>{const v=(s*7+o*11)%100;let c,h;return s===0?(c=60,h=85):s===1?(c=70,h=90):(c=40,h=80),{width:`${c+v%(h-c)}%`}};return(s,o)=>(a(),n("div",Ta,[u("table",za,[u("thead",Aa,[u("tr",null,[(a(!0),n(N,null,M(e.columns,(v,c)=>(a(),n("th",{key:c,class:"skeleton-header-cell",style:le(b(c))},o[0]||(o[0]=[u("div",{class:"skeleton-header-content"},[u("div",{class:"skeleton-element skeleton-header-text"})],-1)]),4))),128))])]),u("tbody",Pa,[(a(!0),n(N,null,M(e.rows,v=>(a(),n("tr",{key:v,class:"skeleton-row"},[(a(!0),n(N,null,M(e.columns,(c,h)=>(a(),n("td",{key:h,class:"skeleton-cell",style:le(b(h))},[u("div",Ia,[u("div",{class:"skeleton-element skeleton-cell-text",style:le(t(h,v))},null,4)])],4))),128))]))),128))])])]))}},_a=G(Ra,[["__scopeId","data-v-d5f8dfa0"]]),Oa={class:"empty-content"},Va={class:"empty-icon"},Ba={key:1,class:"default-icon"},Fa={key:0,class:"empty-illustration"},Na=["src","alt"],ja={class:"empty-title"},Ma={key:1,class:"empty-description"},Da={key:2,class:"empty-custom-content"},Wa={key:3,class:"empty-actions"},La=["onClick","disabled"],Ea={key:4,class:"empty-help"},Ua={class:"help-text"},qa={__name:"EmptyState",props:{title:{type:String,default:""},description:{type:String,default:""},icon:{type:String,default:""},illustration:{type:String,default:""},helpText:{type:String,default:""},actions:{type:Array,default:()=>[]},emptyType:{type:String,default:"default",validator:e=>["default","no-data","no-results","no-permissions","error","loading","maintenance","search"].includes(e)},variant:{type:String,default:"default",validator:e=>["default","minimal","illustration"].includes(e)},size:{type:String,default:"md",validator:e=>["sm","md","lg","xl"].includes(e)},centered:{type:Boolean,default:!0},class:{type:[String,Array,Object],default:""}},emits:["action"],setup(e,{emit:b}){const t=e,s=b,o=Se(),v=w(()=>{var r;return((r=t.actions)==null?void 0:r.length)>0||!!o.actions}),c=w(()=>["empty-state",`empty-state--${t.variant}`,`empty-state--${t.size}`,`empty-state--${t.emptyType}`,{"empty-state--centered":t.centered},t.class]),h=w(()=>{if(t.icon)return t.icon;const r={"no-data":"document-text","no-results":"magnifying-glass","no-permissions":"shield-exclamation",error:"exclamation-triangle",loading:"loading",maintenance:"wrench-screwdriver",search:"magnifying-glass",default:"document-text"};return r[t.emptyType]||r.default}),k=w(()=>({sm:"lg",md:"xl",lg:"2xl",xl:"2xl"})[t.size]||"xl"),I=w(()=>({error:"error","no-permissions":"warning",maintenance:"info",loading:"primary"})[t.emptyType]||"neutral"),f=w(()=>{if(t.title)return t.title;const r={"no-data":"No data available","no-results":"No results found","no-permissions":"Access restricted",error:"Something went wrong",loading:"Loading...",maintenance:"Under maintenance",search:"No search results",default:"No data available"};return r[t.emptyType]||r.default}),y=w(()=>t.description?t.description:{"no-data":"There is no data to display at the moment.","no-results":"Try adjusting your search or filter criteria.","no-permissions":"You don't have permission to view this content.",error:"An error occurred while loading the content.",loading:"Please wait while we load your content.",maintenance:"This feature is temporarily unavailable.",search:"Try different keywords or check your spelling.",default:""}[t.emptyType]||""),p=r=>{r.disabled||(s("action",r),r.handler&&r.handler())},$=r=>["empty-action-button","inline-flex items-center justify-center","font-medium rounded-md transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2",{"px-3 py-2 text-sm":r.size==="sm"||!r.size,"px-4 py-2 text-base":r.size==="md","px-6 py-3 text-lg":r.size==="lg","bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 shadow-sm hover:shadow-md":r.variant==="primary","bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500 shadow-sm":r.variant==="secondary"||!r.variant,"text-primary-600 hover:text-primary-700 hover:bg-primary-50 focus:ring-primary-500":r.variant==="ghost","bg-error-600 text-white hover:bg-error-700 focus:ring-error-500 shadow-sm hover:shadow-md":r.variant==="danger","opacity-50 cursor-not-allowed":r.disabled,"space-x-2":r.icon&&r.label}];return(r,j)=>(a(),n("div",{class:W(c.value)},[u("div",Oa,[u("div",Va,[ee(r.$slots,"icon",{},()=>[h.value?(a(),O(F,{key:0,name:h.value,size:k.value,color:I.value,class:"empty-icon-component"},null,8,["name","size","color"])):(a(),n("div",Ba,[V(F,{name:"document-text",size:k.value,color:"neutral",class:"empty-icon-component"},null,8,["size"])]))],!0)]),e.variant==="illustration"&&e.illustration?(a(),n("div",Fa,[ee(r.$slots,"illustration",{},()=>[u("img",{src:e.illustration,alt:e.title,class:"empty-illustration-image"},null,8,Na)],!0)])):x("",!0),u("h3",ja,A(f.value),1),y.value?(a(),n("p",Ma,A(y.value),1)):x("",!0),r.$slots.default?(a(),n("div",Da,[ee(r.$slots,"default",{},void 0,!0)])):x("",!0),v.value?(a(),n("div",Wa,[ee(r.$slots,"actions",{},()=>[(a(!0),n(N,null,M(e.actions,_=>(a(),n("button",{key:_.id,onClick:L=>p(_),disabled:_.disabled,class:W($(_)),type:"button"},[_.icon?(a(),O(F,{key:0,name:_.icon,size:"sm",class:"action-icon"},null,8,["name"])):x("",!0),u("span",null,A(_.label),1)],10,La))),128))],!0)])):x("",!0),e.helpText?(a(),n("div",Ea,[u("p",Ua,A(e.helpText),1)])):x("",!0)])],2))}},Ka=G(qa,[["__scopeId","data-v-88bd39bd"]]),Ha={class:"data-table-container"},Ga={key:2,class:"table-scroll-container"},Ya={class:"table-head"},Ja={key:0,class:"select-column"},Qa=["data-priority","onClick"],Xa={class:"column-header"},Za={class:"column-label"},el={key:0,class:"sort-indicator"},tl={key:1,class:"actions-column"},al={class:"table-body"},ll=["onClick"],nl={key:0,class:"select-column"},sl=["data-priority"],rl={class:"cell-content"},il={key:1,class:"cell-value"},ol={key:1,class:"actions-column"},cl={class:"row-actions"},ul={class:"action-trigger","aria-label":"Row actions"},dl=["onClick","disabled"],hl={key:1,class:"table-footer"},fl={__name:"DataTable",props:{data:{type:Array,default:()=>[]},columns:{type:Array,required:!0,validator:e=>e.every(b=>typeof b=="object"&&b.key&&b.label)},title:{type:String,default:""},loading:{type:Boolean,default:!1},pageSize:{type:Number,default:10},pageSizeOptions:{type:Array,default:()=>[10,25,50,100]},serverSidePagination:{type:Boolean,default:!1},currentPage:{type:Number,default:1},totalPages:{type:Number,default:1},totalItems:{type:Number,default:0},selectable:{type:Boolean,default:!1},selectedRows:{type:Array,default:()=>[]},searchConfig:{type:Object,default:()=>({enabled:!0,placeholder:"Search...",fields:[]})},filterConfig:{type:Object,default:()=>({enabled:!0,filters:[]})},headerActions:{type:Array,default:()=>[]},rowActions:{type:[Array,Function],default:()=>[]},striped:{type:Boolean,default:!0},bordered:{type:Boolean,default:!0},hoverable:{type:Boolean,default:!0},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},showHeader:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},skeletonRows:{type:Number,default:5},emptyState:{type:Object,default:()=>({title:"No data available",description:"There are no items to display.",icon:"table",actions:[]})},rowKey:{type:[String,Function],default:"id"},theme:{type:String,default:"light",validator:e=>["light","dark","auto"].includes(e)}},emits:["search","filter","sort","page-change","page-size-change","row-click","row-action","header-action","selection-change"],setup(e,{emit:b}){const t=e,s=b,{isMobile:o}=Pe(),v=Se(),c=D(1),h=D(t.pageSize),k=D(""),I=D({}),f=D({key:null,direction:null}),y=w(()=>["data-table",`table-${t.size}`,{"table-striped":t.striped,"table-bordered":t.bordered,"table-hoverable":t.hoverable,"table-mobile":o.value}]),p=w(()=>t.rowActions.length>0||!!v["row-actions"]),$=w(()=>{if(t.serverSidePagination)return[...t.data];let l=[...t.data];if(k.value){const g=k.value.toLowerCase(),S=t.searchConfig.fields.length?t.searchConfig.fields:t.columns.map(R=>R.key);l=l.filter(R=>S.some(C=>{const X=d(R,C);return String(X).toLowerCase().includes(g)}))}return Object.entries(I.value).forEach(([g,S])=>{S!=null&&S!==""&&(l=l.filter(R=>{const C=d(R,g);return Array.isArray(S)?S.includes(C):C===S}))}),f.value.key&&l.sort((g,S)=>{const R=d(g,f.value.key),C=d(S,f.value.key);let X=0;return R<C&&(X=-1),R>C&&(X=1),f.value.direction==="desc"?-X:X}),l}),r=w(()=>t.serverSidePagination?t.totalItems:$.value.length),j=w(()=>t.serverSidePagination?t.totalPages:Math.ceil(r.value/h.value)),_=w(()=>t.serverSidePagination?t.currentPage:c.value),L=w(()=>t.serverSidePagination?t.pageSize:h.value),U=w(()=>(_.value-1)*L.value);w(()=>Math.min(U.value+L.value,r.value));const E=w(()=>t.serverSidePagination?$.value:$.value.slice(U.value,U.value+h.value)),q=w(()=>t.selectable&&E.value.length>0&&E.value.every(l=>Q(l))),T=w(()=>t.selectable&&t.selectedRows.length>0&&!q.value),d=(l,g)=>g.split(".").reduce((S,R)=>S==null?void 0:S[R],l),m=(l,g)=>g.formatter&&typeof g.formatter=="function"?g.formatter(l):l==null?"-":String(l),z=(l,g)=>typeof t.rowKey=="function"?t.rowKey(l,g):d(l,t.rowKey)||g,K=l=>["table-column",`column-${l.key}`,{sortable:l.sortable,sorted:f.value.key===l.key,"text-left":!l.align||l.align==="left","text-center":l.align==="center","text-right":l.align==="right","sticky-column":l.sticky}],te=l=>{const g={};if(l.width)return g.width=l.width,g.minWidth=l.minWidth||l.width,g.maxWidth=l.maxWidth||l.width,g;if(l.flex){const S=t.columns.filter(R=>R.flex).reduce((R,C)=>R+parseFloat(C.flex),0);if(S>0){const R=parseFloat(l.flex)/S*100;g.width=`${R}%`}return g.minWidth=l.minWidth||"120px",g}return l.minWidth?(g.minWidth=l.minWidth,g.width="auto",g.maxWidth=l.maxWidth,g):(g.width="auto",g.minWidth="120px",l.maxWidth&&(g.maxWidth=l.maxWidth),g)},ie=(l,g)=>["table-row",{"row-selected":Q(l),"row-clickable":!!t.onRowClick,"row-even":g%2===0,"row-odd":g%2===1}],oe=(l,g)=>["table-cell",`cell-${l.key}`,{"text-left":!l.align||l.align==="left","text-center":l.align==="center","text-right":l.align==="right"}],Q=l=>{const g=z(l);return t.selectedRows.some(S=>z(S)===g)},ce=l=>typeof t.rowActions=="function"?t.rowActions(l):t.rowActions,ne=l=>{k.value=l,c.value=1,s("search",l)},fe=l=>{I.value={...l},c.value=1,s("filter",l)},me=l=>{if(!l.sortable)return;let g="asc";f.value.key===l.key&&(g=f.value.direction==="asc"?"desc":"asc"),f.value={key:l.key,direction:g},s("sort",{key:l.key,direction:g})},ge=l=>{c.value=l,s("page-change",l)},i=l=>{t.serverSidePagination||(h.value=l,c.value=1),s("page-size-change",l)},P=(l,g)=>{g.target.closest(".select-column, .actions-column")||s("row-click",l)},B=(l,g)=>{s("row-action",{action:l,row:g})},H=l=>{s("header-action",l)},se=()=>{const l=q.value?t.selectedRows.filter(g=>!E.value.includes(g)):[...t.selectedRows,...E.value.filter(g=>!Q(g))];s("selection-change",l)},Ae=l=>{const g=Q(l)?t.selectedRows.filter(S=>z(S)!==z(l)):[...t.selectedRows,l];s("selection-change",g)};return J(()=>t.data,()=>{c.value=1}),J(()=>$.value.length,()=>{c.value>j.value&&(c.value=Math.max(1,j.value))}),(l,g)=>(a(),n("div",Ha,[e.showHeader?(a(),O(da,{key:0,title:e.title,"search-config":e.searchConfig,"filter-config":e.filterConfig,actions:e.headerActions,loading:e.loading,theme:e.theme,onSearch:ne,onFilter:fe,onAction:H},null,8,["title","search-config","filter-config","actions","loading","theme"])):x("",!0),u("div",{class:W(["table-wrapper",{loading:e.loading}])},[e.loading&&!e.data.length?(a(),O(_a,{key:0,columns:e.columns.length,rows:e.skeletonRows},null,8,["columns","rows"])):!e.loading&&!$.value.length?(a(),O(Ka,{key:1,title:e.emptyState.title,description:e.emptyState.description,icon:e.emptyState.icon,actions:e.emptyState.actions},null,8,["title","description","icon","actions"])):(a(),n("div",Ga,[u("table",{class:W(["data-table",y.value])},[u("thead",Ya,[u("tr",null,[e.selectable?(a(),n("th",Ja,[V(ve,{checked:q.value,indeterminate:T.value,onChange:se,"aria-label":"Select all rows"},null,8,["checked","indeterminate"])])):x("",!0),(a(!0),n(N,null,M(e.columns,S=>(a(),n("th",{key:S.key,class:W(K(S)),style:le(te(S)),"data-priority":S.priority||"high",onClick:R=>me(S)},[u("div",Xa,[u("span",Za,A(S.label),1),S.sortable?(a(),n("div",el,[f.value.key===S.key?(a(),O(F,{key:0,name:f.value.direction==="asc"?"chevron-up":"chevron-down",class:"sort-icon active"},null,8,["name"])):(a(),O(F,{key:1,name:"chevron-up-down",class:"sort-icon"}))])):x("",!0)])],14,Qa))),128)),p.value?(a(),n("th",tl,g[0]||(g[0]=[u("span",{class:"sr-only"},"Actions",-1)]))):x("",!0)])]),u("tbody",al,[(a(!0),n(N,null,M(E.value,(S,R)=>(a(),n("tr",{key:z(S,R),class:W(ie(S,R)),onClick:C=>P(S,C)},[e.selectable?(a(),n("td",nl,[V(ve,{checked:Q(S),onChange:C=>Ae(S),"aria-label":`Select row ${R+1}`},null,8,["checked","onChange","aria-label"])])):x("",!0),(a(!0),n(N,null,M(e.columns,C=>(a(),n("td",{key:C.key,class:W(oe(C)),style:le(te(C)),"data-priority":C.priority||"high"},[u("div",rl,[l.$slots[`cell-${C.key}`]?ee(l.$slots,`cell-${C.key}`,{key:0,row:S,value:d(S,C.key),column:C,index:R},void 0,!0):(a(),n("span",il,A(m(d(S,C.key),C)),1))])],14,sl))),128)),p.value?(a(),n("td",ol,[u("div",cl,[ee(l.$slots,"row-actions",{row:S,index:R},()=>[V(Ie,{align:"right",width:"48"},{trigger:Z(()=>[u("button",ul,[V(F,{name:"dots-vertical",class:"w-4 h-4"})])]),content:Z(()=>[(a(!0),n(N,null,M(ce(S),C=>(a(),n("button",{key:C.id,onClick:X=>B(C,S),disabled:C.disabled,class:"dropdown-action-item"},[C.icon?(a(),O(F,{key:0,name:C.icon,class:"w-4 h-4 mr-2"},null,8,["name"])):x("",!0),Y(" "+A(C.label),1)],8,dl))),128))]),_:2},1024)],!0)])])):x("",!0)],10,ll))),128))])],2)]))],2),e.showFooter?(a(),n("div",hl,[V(Ca,{"current-page":_.value,"total-pages":j.value,"page-size":L.value,"page-size-options":e.pageSizeOptions,"total-items":r.value,theme:e.theme,onPageChange:ge,onPageSizeChange:i},null,8,["current-page","total-pages","page-size","page-size-options","total-items","theme"])])):x("",!0)]))}},$l=G(fl,[["__scopeId","data-v-731a230e"]]);export{$l as D};
