import{e as S,x as He,f as R,y as Ne,z as Te,g as P,o as d,h as p,k as a,u as o,a as e,l as v,t as u,d as D,c as m,F as T,r as I,n as q,w as C,j as O,p as pe,i as b,J as $e,b as Ae,v as Ve,B as Oe,S as Ee,q as ve,s as Qe,Q as j}from"./app-ZDfx9y12.js";import{l as Je}from"./lodash-B566EX1S.js";import{r as je,_ as Xe}from"./AuthenticatedLayout-D47HHAes.js";import{h as oe,g as ye,f as ge,s as Ke,k as De,a as te,t as Re,q as X,u as Ze,v as es,w as ss,j as Pe,e as ke,x as Se,y as ts,r as os,i as Be,p as Le}from"./Icon-B_HWMVUD.js";import{_ as Ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                   *//* empty css                                                                   */import{P as _e}from"./PrimaryButton-C1yl6Zq1.js";import{_ as V}from"./SecondaryButton-DdvGjrR4.js";import{_ as ns}from"./ConfirmationModal-Cslex03p.js";import{F as z}from"./FormField-l9eofElB.js";import{B as fe}from"./BaseInput-Vw4aiLOj.js";import{B as as}from"./BaseTextarea-B11xmMxB.js";import{Y as ls,h as ze,G as is,V as rs,S as ds}from"./transition-D_jN_MO1.js";import{r as qe}from"./ArrowPathIcon-DvqGw1r3.js";import{r as cs}from"./DocumentDuplicateIcon-JMoURiee.js";import{r as us}from"./ArrowDownTrayIcon-BoSCHJg3.js";import"./useAuth-DELEeJMl.js";import"./ApplicationLogo-FWsk-L5K.js";import"./useAccessibility-Dh_S4m3E.js";/* empty css                                                                  */const ms={class:"fixed inset-0 z-10 overflow-y-auto"},ps={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},vs={class:"modal-header"},fs={class:"header-content"},gs={class:"modal-subtitle"},ys={class:"modal-content"},_s={class:"step-indicator"},hs={class:"steps-list"},bs={class:"step-number"},xs={class:"step-label"},ws={class:"form-steps"},Cs={class:"form-step"},$s={class:"form-grid"},ks={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ss={class:"assessment-types-grid"},As=["value"],Vs={class:"assessment-type-content"},Ds={class:"assessment-type-name"},Ms={class:"assessment-type-description"},Us={class:"form-step"},Fs={class:"participant-selection"},Ns={class:"selection-mode"},Es={class:"mode-options"},js={class:"mode-option"},Rs={class:"mode-option"},Ps={class:"mode-option"},Bs={key:0,class:"department-selection"},Ls={class:"department-grid"},zs=["value"],qs={class:"department-content"},Ts={class:"department-name"},Is={class:"department-count"},Ys={key:1,class:"individual-selection"},Gs={class:"employee-search"},Ws={class:"search-input"},Hs={class:"employee-list"},Os=["value"],Qs={class:"employee-content"},Js={class:"employee-avatar"},Xs={class:"avatar-circle"},Ks={class:"employee-info"},Zs={class:"employee-name"},et={class:"employee-details"},st={key:0,class:"employee-position"},tt={key:1,class:"employee-department"},ot={class:"selection-summary"},nt={class:"summary-card"},at={class:"summary-header"},lt={class:"summary-content"},it={class:"summary-count"},rt={class:"form-step"},dt={class:"competency-assignment"},ct={class:"competency-search"},ut={class:"search-input"},mt={class:"competency-categories"},pt={class:"category-header"},vt={class:"category-title"},ft=["onClick"],gt={class:"competency-grid"},yt=["value"],_t={class:"competency-content"},ht={class:"competency-name"},bt={class:"competency-description"},xt={key:0,class:"competency-weight"},wt={class:"form-step"},Ct={class:"notification-settings"},$t={class:"notification-options"},kt={class:"notification-option"},St={class:"notification-option"},At={class:"notification-option"},Vt={key:0,class:"reminder-settings"},Dt={class:"reminder-options"},Mt={class:"reminder-frequency"},Ut={class:"reminder-timing"},Ft={class:"form-navigation"},Nt={class:"nav-buttons"},Et={key:0,class:"flex items-center"},jt={key:1},Rt={__name:"CycleFormModal",props:{show:{type:Boolean,default:!1},cycle:{type:Object,default:null},employees:{type:Array,default:()=>[]},competencies:{type:Array,default:()=>[]}},emits:["close","save"],setup(Q,{emit:ne}){const _=Q,H=ne,h=S(0),k=S("all"),f=S([]),F=S([]),$=S([]),B=S(""),L=S(""),r=He({name:"",description:"",start_date:"",end_date:"",assessment_types:[],target_employees:[],competencies:[],notification_settings:{send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7}}),M=R(()=>!!_.cycle),x=R(()=>[{id:"basic",label:"Basic Info"},{id:"participants",label:"Participants"},{id:"competencies",label:"Competencies"},{id:"notifications",label:"Notifications"}]),W=R(()=>[{value:"self",label:"Self Assessment",description:"Employees assess their own competencies"},{value:"manager",label:"Manager Assessment",description:"Managers assess their direct reports"},{value:"peer",label:"Peer Assessment",description:"Colleagues assess each other"},{value:"360",label:"360Â° Feedback",description:"Multi-source feedback from all levels"}]),ae=R(()=>{const c=new Map;return _.employees.forEach(t=>{var l;t.department&&c.set(t.department.id,{id:t.department.id,name:t.department.name,employee_count:(((l=c.get(t.department.id))==null?void 0:l.employee_count)||0)+1})}),Array.from(c.values())}),le=R(()=>{if(!B.value)return _.employees;const c=B.value.toLowerCase();return _.employees.filter(t=>t.name.toLowerCase().includes(c)||t.position&&t.position.toLowerCase().includes(c)||t.department&&t.department.name.toLowerCase().includes(c))}),ie=R(()=>{const c=new Set;return _.competencies.forEach(t=>{t.category&&c.add(t.category)}),Array.from(c).sort()}),J=R(()=>{switch(k.value){case"all":return _.employees.length;case"department":return _.employees.filter(c=>c.department&&f.value.includes(c.department.id)).length;case"individual":return F.value.length;default:return 0}}),K=R(()=>{switch(h.value){case 0:return r.name&&r.start_date&&r.end_date&&r.assessment_types.length>0;case 1:return J.value>0;case 2:return $.value.length>0;case 3:return!0;default:return!1}}),re=R(()=>r.name&&r.start_date&&r.end_date&&r.assessment_types.length>0&&J.value>0&&$.value.length>0),de=c=>c<h.value?"completed":c===h.value?"active":"pending",ce=()=>{h.value<x.value.length-1&&h.value++},he=()=>{h.value>0&&h.value--},be=c=>c.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().slice(0,2),Z=c=>{const t=_.competencies.filter(l=>l.category===c);if(L.value){const l=L.value.toLowerCase();return t.filter(g=>g.name.toLowerCase().includes(l)||g.description&&g.description.toLowerCase().includes(l))}return t},ue=c=>{const t=Z(c);return t.length>0&&t.every(l=>$.value.includes(l.id))},ee=c=>{const t=Z(c);ue(c)?t.forEach(g=>{const Y=$.value.indexOf(g.id);Y>-1&&$.value.splice(Y,1)}):t.forEach(g=>{$.value.includes(g.id)||$.value.push(g.id)})},me=()=>{let c=[];switch(k.value){case"all":c=_.employees.map(t=>t.id);break;case"department":c=_.employees.filter(t=>t.department&&f.value.includes(t.department.id)).map(t=>t.id);break;case"individual":c=F.value;break}r.target_employees=c,r.competencies=$.value,H("save",r.data())};Ne(()=>_.show,c=>{c&&se()}),Ne(()=>_.cycle,c=>{c&&N(c)});const se=()=>{h.value=0,k.value="all",f.value=[],F.value=[],$.value=[],B.value="",L.value="",_.cycle?N(_.cycle):(r.reset(),r.notification_settings={send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7})},N=c=>{r.name=c.name||"",r.description=c.description||"",r.start_date=c.start_date||"",r.end_date=c.end_date||"",r.assessment_types=c.assessment_types||[],r.notification_settings=c.notification_settings||{send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7},c.target_employees&&(F.value=c.target_employees,k.value="individual"),c.competencies&&($.value=c.competencies)};return Te(()=>{_.cycle&&N(_.cycle)}),(c,t)=>(d(),P(o(ds),{as:"template",show:Q.show},{default:p(()=>[a(o(ls),{as:"div",class:"relative z-50",onClose:t[20]||(t[20]=l=>c.$emit("close"))},{default:p(()=>[a(o(ze),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>t[21]||(t[21]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1,__:[21]}),e("div",ms,[e("div",ps,[a(o(ze),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:p(()=>[a(o(is),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl"},{default:p(()=>[e("div",vs,[e("div",fs,[a(o(rs),{as:"h3",class:"modal-title"},{default:p(()=>[v(u(M.value?"Edit Assessment Cycle":"Create Assessment Cycle"),1)]),_:1}),e("p",gs,u(M.value?"Update the assessment cycle details":"Set up a new assessment cycle for systematic competency evaluation"),1)]),e("button",{onClick:t[0]||(t[0]=l=>c.$emit("close")),class:"close-button"},[a(o(oe),{class:"w-5 h-5"})])]),e("div",ys,[e("form",{onSubmit:D(me,["prevent"]),class:"cycle-form"},[e("div",_s,[e("div",hs,[(d(!0),m(T,null,I(x.value,(l,g)=>(d(),m("div",{key:l.id,class:q(["step-item",de(g)])},[e("div",bs,u(g+1),1),e("div",xs,u(l.label),1)],2))),128))])]),e("div",ws,[C(e("div",Cs,[t[22]||(t[22]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Basic Information"),e("p",{class:"step-description"},"Provide the basic details for your assessment cycle")],-1)),e("div",$s,[a(z,{label:"Cycle Name",required:!0,"error-message":o(r).errors.name,"help-text":"A descriptive name for this assessment cycle"},{default:p(()=>[a(fe,{modelValue:o(r).name,"onUpdate:modelValue":t[1]||(t[1]=l=>o(r).name=l),placeholder:"e.g., Q1 2024 Performance Review","error-message":o(r).errors.name,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),a(z,{label:"Description","error-message":o(r).errors.description,"help-text":"Optional description of the assessment cycle's purpose"},{default:p(()=>[a(as,{modelValue:o(r).description,"onUpdate:modelValue":t[2]||(t[2]=l=>o(r).description=l),placeholder:"Describe the purpose and scope of this assessment cycle...",rows:3,"error-message":o(r).errors.description},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),e("div",ks,[a(z,{label:"Start Date",required:!0,"error-message":o(r).errors.start_date},{default:p(()=>[a(fe,{modelValue:o(r).start_date,"onUpdate:modelValue":t[3]||(t[3]=l=>o(r).start_date=l),type:"date","error-message":o(r).errors.start_date,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),a(z,{label:"End Date",required:!0,"error-message":o(r).errors.end_date},{default:p(()=>[a(fe,{modelValue:o(r).end_date,"onUpdate:modelValue":t[4]||(t[4]=l=>o(r).end_date=l),type:"date","error-message":o(r).errors.end_date,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"])]),a(z,{label:"Assessment Types",required:!0,"error-message":o(r).errors.assessment_types,"help-text":"Select the types of assessments to include in this cycle"},{default:p(()=>[e("div",Ss,[(d(!0),m(T,null,I(W.value,l=>(d(),m("label",{key:l.value,class:"assessment-type-option"},[C(e("input",{"onUpdate:modelValue":t[5]||(t[5]=g=>o(r).assessment_types=g),value:l.value,type:"checkbox",class:"assessment-type-checkbox"},null,8,As),[[O,o(r).assessment_types]]),e("div",Vs,[e("div",Ds,u(l.label),1),e("div",Ms,u(l.description),1)])]))),128))])]),_:1},8,["error-message"])])],512),[[pe,h.value===0]]),C(e("div",Us,[t[28]||(t[28]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Participant Selection"),e("p",{class:"step-description"},"Choose which employees will participate in this assessment cycle")],-1)),e("div",Fs,[e("div",Ns,[e("div",Es,[e("label",js,[C(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>k.value=l),value:"all",type:"radio",class:"mode-radio"},null,512),[[$e,k.value]]),t[23]||(t[23]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"All Employees"),e("div",{class:"mode-description"},"Include all active employees")],-1))]),e("label",Rs,[C(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>k.value=l),value:"department",type:"radio",class:"mode-radio"},null,512),[[$e,k.value]]),t[24]||(t[24]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"By Department"),e("div",{class:"mode-description"},"Select specific departments")],-1))]),e("label",Ps,[C(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>k.value=l),value:"individual",type:"radio",class:"mode-radio"},null,512),[[$e,k.value]]),t[25]||(t[25]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"Individual Selection"),e("div",{class:"mode-description"},"Choose specific employees")],-1))])])]),k.value==="department"?(d(),m("div",Bs,[a(z,{label:"Select Departments","error-message":o(r).errors.departments},{default:p(()=>[e("div",Ls,[(d(!0),m(T,null,I(ae.value,l=>(d(),m("label",{key:l.id,class:"department-option"},[C(e("input",{"onUpdate:modelValue":t[9]||(t[9]=g=>f.value=g),value:l.id,type:"checkbox",class:"department-checkbox"},null,8,zs),[[O,f.value]]),e("div",qs,[e("div",Ts,u(l.name),1),e("div",Is,u(l.employee_count||0)+" employees",1)])]))),128))])]),_:1},8,["error-message"])])):b("",!0),k.value==="individual"?(d(),m("div",Ys,[a(z,{label:"Select Employees","error-message":o(r).errors.employees},{default:p(()=>[e("div",Gs,[e("div",Ws,[a(o(ye),{class:"search-icon"}),C(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>B.value=l),type:"text",placeholder:"Search employees...",class:"search-field"},null,512),[[Ae,B.value]])])]),e("div",Hs,[(d(!0),m(T,null,I(le.value,l=>(d(),m("label",{key:l.id,class:"employee-option"},[C(e("input",{"onUpdate:modelValue":t[11]||(t[11]=g=>F.value=g),value:l.id,type:"checkbox",class:"employee-checkbox"},null,8,Os),[[O,F.value]]),e("div",Qs,[e("div",Js,[e("div",Xs,u(be(l.name)),1)]),e("div",Ks,[e("div",Zs,u(l.name),1),e("div",et,[l.position?(d(),m("span",st,u(l.position),1)):b("",!0),l.department?(d(),m("span",tt,u(l.department.name),1)):b("",!0)])])])]))),128))])]),_:1},8,["error-message"])])):b("",!0),e("div",ot,[e("div",nt,[e("div",at,[a(o(ge),{class:"summary-icon"}),t[26]||(t[26]=e("h5",{class:"summary-title"},"Selected Participants",-1))]),e("div",lt,[e("div",it,u(J.value),1),t[27]||(t[27]=e("div",{class:"summary-label"},"employees selected",-1))])])])])],512),[[pe,h.value===1]]),C(e("div",rt,[t[29]||(t[29]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Competency Assignment"),e("p",{class:"step-description"},"Select which competencies will be assessed in this cycle")],-1)),e("div",dt,[a(z,{label:"Select Competencies",required:!0,"error-message":o(r).errors.competencies,"help-text":"Choose the competencies that will be evaluated"},{default:p(()=>[e("div",ct,[e("div",ut,[a(o(ye),{class:"search-icon"}),C(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>L.value=l),type:"text",placeholder:"Search competencies...",class:"search-field"},null,512),[[Ae,L.value]])])]),e("div",mt,[(d(!0),m(T,null,I(ie.value,l=>(d(),m("div",{key:l,class:"category-section"},[e("div",pt,[e("h6",vt,u(l),1),e("button",{onClick:g=>ee(l),type:"button",class:"category-toggle"},u(ue(l)?"Deselect All":"Select All"),9,ft)]),e("div",gt,[(d(!0),m(T,null,I(Z(l),g=>(d(),m("label",{key:g.id,class:"competency-option"},[C(e("input",{"onUpdate:modelValue":t[13]||(t[13]=Y=>$.value=Y),value:g.id,type:"checkbox",class:"competency-checkbox"},null,8,yt),[[O,$.value]]),e("div",_t,[e("div",ht,u(g.name),1),e("div",bt,u(g.description),1),g.weight?(d(),m("div",xt," Weight: "+u(g.weight),1)):b("",!0)])]))),128))])]))),128))])]),_:1},8,["error-message"])])],512),[[pe,h.value===2]]),C(e("div",wt,[t[36]||(t[36]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Notification Settings"),e("p",{class:"step-description"},"Configure how participants will be notified about the assessment cycle")],-1)),e("div",Ct,[a(z,{label:"Notification Preferences","help-text":"Choose when and how to notify participants"},{default:p(()=>[e("div",$t,[e("label",kt,[C(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>o(r).notification_settings.send_start_notification=l),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_start_notification]]),t[30]||(t[30]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Start Notification"),e("div",{class:"notification-description"},"Notify participants when the cycle begins")],-1))]),e("label",St,[C(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>o(r).notification_settings.send_reminders=l),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_reminders]]),t[31]||(t[31]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Reminders"),e("div",{class:"notification-description"},"Send reminder notifications for pending assessments")],-1))]),e("label",At,[C(e("input",{"onUpdate:modelValue":t[16]||(t[16]=l=>o(r).notification_settings.send_completion_notification=l),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_completion_notification]]),t[32]||(t[32]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Completion Notification"),e("div",{class:"notification-description"},"Notify when assessments are completed")],-1))])])]),_:1}),o(r).notification_settings.send_reminders?(d(),m("div",Vt,[a(z,{label:"Reminder Schedule","help-text":"Configure when reminders should be sent"},{default:p(()=>[e("div",Dt,[e("div",Mt,[t[34]||(t[34]=e("label",{class:"reminder-label"},"Reminder Frequency",-1)),C(e("select",{"onUpdate:modelValue":t[17]||(t[17]=l=>o(r).notification_settings.reminder_frequency=l),class:"reminder-select"},t[33]||(t[33]=[e("option",{value:"daily"},"Daily",-1),e("option",{value:"weekly"},"Weekly",-1),e("option",{value:"custom"},"Custom",-1)]),512),[[Ve,o(r).notification_settings.reminder_frequency]])]),e("div",Ut,[t[35]||(t[35]=e("label",{class:"reminder-label"},"Days Before Deadline",-1)),a(fe,{modelValue:o(r).notification_settings.reminder_days_before,"onUpdate:modelValue":t[18]||(t[18]=l=>o(r).notification_settings.reminder_days_before=l),type:"number",min:"1",max:"30",placeholder:"7"},null,8,["modelValue"])])])]),_:1})])):b("",!0)])],512),[[pe,h.value===3]])]),e("div",Ft,[e("div",Nt,[h.value>0?(d(),P(V,{key:0,onClick:he,type:"button"},{default:p(()=>[a(o(Ke),{class:"w-4 h-4 mr-2"}),t[37]||(t[37]=v(" Previous "))]),_:1,__:[37]})):b("",!0),t[41]||(t[41]=e("div",{class:"nav-spacer"},null,-1)),a(V,{onClick:t[19]||(t[19]=l=>c.$emit("close")),type:"button"},{default:p(()=>t[38]||(t[38]=[v(" Cancel ")])),_:1,__:[38]}),h.value<x.value.length-1?(d(),P(_e,{key:1,onClick:ce,type:"button",disabled:!K.value},{default:p(()=>[t[39]||(t[39]=v(" Next ")),a(o(De),{class:"w-4 h-4 ml-2"})]),_:1,__:[39]},8,["disabled"])):(d(),P(_e,{key:2,type:"submit",disabled:o(r).processing||!re.value},{default:p(()=>[o(r).processing?(d(),m("span",Et,[t[40]||(t[40]=e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),v(" "+u(M.value?"Updating...":"Creating..."),1)])):(d(),m("span",jt,u(M.value?"Update Cycle":"Create Cycle"),1))]),_:1},8,["disabled"]))])])],32)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},Pt=Ie(Rt,[["__scopeId","data-v-d833f7e8"]]),Bt={class:"min-h-screen bg-gray-50"},Lt={class:"bg-white border-b border-gray-200"},zt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},qt={class:"py-6"},Tt={class:"flex mb-4","aria-label":"Breadcrumb"},It={class:"flex items-center space-x-2 text-sm"},Yt={class:"flex items-center"},Gt={class:"flex items-center"},Wt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},Ht={class:"flex items-center space-x-3"},Ot={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Qt={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},Jt={class:"p-6"},Xt={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},Kt={class:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4"},Zt={class:"relative"},eo={class:"relative"},so={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},to={class:"relative"},oo={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},no={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},ao={class:"flex items-center space-x-3"},lo={class:"flex bg-gray-100 rounded-lg p-1 border border-gray-200"},io={key:0,class:"mt-6 pt-4 border-t border-gray-200"},ro={class:"flex flex-wrap items-center gap-3"},co={class:"flex flex-wrap gap-2"},uo={key:0,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-blue-50 text-blue-700 border border-blue-200"},mo={key:1,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-green-50 text-green-700 border border-green-200"},po={key:2,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-purple-50 text-purple-700 border border-purple-200"},vo={key:0,class:"mb-6 flex items-center justify-between"},fo={class:"text-sm text-gray-600"},go={key:0},yo={key:1},_o={key:0,class:"text-sm text-gray-500"},ho={key:1,class:"space-y-6"},bo={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},xo={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200"},wo={class:"text-center py-16 px-6"},Co={class:"text-gray-600 mb-6 max-w-md mx-auto"},$o={class:"flex flex-col sm:flex-row items-center justify-center space-y-3 sm:space-y-0 sm:space-x-3"},ko={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},So=["onClick"],Ao={class:"p-6 pb-4"},Vo={class:"flex items-start justify-between mb-3"},Do={class:"flex-1 min-w-0"},Mo={class:"text-lg font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"},Uo={class:"text-sm text-gray-600 mt-1 line-clamp-2"},Fo={class:"flex items-center text-sm text-gray-500 mb-4"},No={class:"mb-4"},Eo={class:"flex items-center justify-between mb-2"},jo={class:"text-sm text-gray-600"},Ro={class:"w-full bg-gray-200 rounded-full h-2"},Po={class:"grid grid-cols-2 gap-4 mb-4"},Bo={class:"text-center p-3 bg-gray-50 rounded-lg"},Lo={class:"flex items-center justify-center mb-1"},zo={class:"text-lg font-semibold text-gray-900"},qo={class:"text-center p-3 bg-gray-50 rounded-lg"},To={class:"flex items-center justify-center mb-1"},Io={class:"text-lg font-semibold text-gray-900"},Yo={class:"px-6 py-4 bg-gray-50 border-t border-gray-100 rounded-b-lg"},Go={class:"flex items-center justify-between"},Wo={class:"flex items-center space-x-2"},Ho=["onClick"],Oo={key:4,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},Qo={class:"divide-y divide-gray-200"},Jo=["onClick"],Xo={class:"hidden md:grid md:grid-cols-12 md:gap-4"},Ko={class:"col-span-3"},Zo={class:"min-w-0"},en={class:"text-sm font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"},sn={class:"text-sm text-gray-600 mt-1 line-clamp-2"},tn={class:"col-span-2 flex items-center"},on={class:"col-span-2 flex items-center"},nn={class:"text-sm text-gray-900"},an={class:"flex items-center"},ln={class:"col-span-2 flex items-center"},rn={class:"w-full"},dn={class:"flex items-center justify-between mb-1"},cn={class:"text-xs text-gray-600"},un={class:"w-full bg-gray-200 rounded-full h-2"},mn={class:"col-span-2 flex items-center"},pn={class:"flex items-center text-sm text-gray-900"},vn={class:"font-medium"},fn={class:"col-span-1 flex items-center justify-end space-x-2"},gn=["onClick"],yn={class:"md:hidden space-y-3"},_n={class:"flex items-start justify-between"},hn={class:"flex-1 min-w-0"},bn={class:"text-sm font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"},xn={class:"text-sm text-gray-600 mt-1"},wn={class:"space-y-2"},Cn={class:"flex items-center text-sm text-gray-500"},$n={class:"flex items-center justify-between mb-1"},kn={class:"text-xs text-gray-600"},Sn={class:"w-full bg-gray-200 rounded-full h-2"},An={class:"flex items-center justify-between"},Vn={class:"flex items-center text-sm text-gray-600"},Dn={class:"flex items-center space-x-2"},Mn=["onClick"],Un={class:"menu-items"},Fn=["disabled"],Nn=["disabled"],En={key:1,class:"notification-overlay"},jn={class:"notification-center"},Rn={class:"notification-icon"},Pn={class:"notification-text"},Bn={class:"notification-message"},Ln=["onClick"],zn={__name:"AssessmentCycleManager",props:{cycles:{type:Array,default:()=>[]},employees:{type:Array,default:()=>[]},competencies:{type:Array,default:()=>[]}},setup(Q){const ne=Q,_=R(()=>!!(f.value.search||f.value.status||f.value.dateRange)),H=S(!1),h=S("grid"),k=S([]),f=S({search:"",status:"",dateRange:""}),F=S(null),$=S(!1),B=S(""),L=S(""),r=S("Confirm"),M=S(null),x=S({show:!1,x:0,y:0,cycle:null}),W=R(()=>{let i=[...ne.cycles];if(f.value.search){const s=f.value.search.toLowerCase();i=i.filter(y=>y.name.toLowerCase().includes(s)||y.description&&y.description.toLowerCase().includes(s))}if(f.value.status&&(i=i.filter(s=>s.status===f.value.status)),f.value.dateRange){const s=new Date,y=s.getMonth(),A=s.getFullYear();i=i.filter(U=>{const G=new Date(U.start_date),n=new Date(U.end_date);switch(f.value.dateRange){case"current":return G.getMonth()===y&&G.getFullYear()===A||n.getMonth()===y&&n.getFullYear()===A;case"upcoming":return G>s;case"past":return n<s;default:return!0}})}return i}),ae=()=>{H.value=!0,j.reload({only:["cycles"],preserveScroll:!0,onFinish:()=>{H.value=!1,E("Data refreshed successfully","success")}})},le=Je.debounce(()=>{},300),ie=()=>{},J=()=>{f.value={search:"",status:"",dateRange:""}},K=i=>{j.visit(route("assessment-cycles.edit",i.id))},re=i=>{j.visit(route("assessment-cycles.show",i.id))},de=i=>{B.value="Start Assessment Cycle",L.value=`Are you sure you want to start "${i.name}"? This will notify all participants and begin the assessment process.`,r.value="Start Cycle",M.value=()=>{me(i.id,"start","Assessment cycle started successfully")},$.value=!0,N()},ce=i=>{B.value="Complete Assessment Cycle",L.value=`Are you sure you want to complete "${i.name}"? This action cannot be undone.`,r.value="Complete Cycle",M.value=()=>{me(i.id,"complete","Assessment cycle completed successfully")},$.value=!0,N()},he=i=>{j.post(route("assessment-cycles.duplicate",i.id),{},{onSuccess:()=>{E("Assessment cycle duplicated successfully","success")},onError:()=>{E("Failed to duplicate assessment cycle","error")}}),N()},be=i=>{j.post(route("assessment-cycles.send-reminders",i.id),{},{onSuccess:()=>{E("Reminders sent successfully","success")},onError:()=>{E("Failed to send reminders","error")}}),N()},Z=i=>{window.open(route("assessment-cycles.export",i.id),"_blank"),N()},ue=i=>{B.value="Delete Assessment Cycle",L.value=`Are you sure you want to delete "${i.name}"? This action cannot be undone and will remove all associated data.`,r.value="Delete",M.value=()=>{j.delete(route("assessment-cycles.destroy",i.id),{onSuccess:()=>{E("Assessment cycle deleted successfully","success")},onError:()=>{E("Failed to delete assessment cycle","error")}})},$.value=!0,N()},ee=i=>{const s=new URLSearchParams({assessment_cycle_id:i.id,assessment_type:"manager"}),y=`${route("competency-assessments.create")}?${s.toString()}`;j.visit(y)},me=(i,s,y)=>{j.post(route(`assessment-cycles.${s}`,i),{},{onSuccess:()=>{E(y,"success")},onError:()=>{E(`Failed to ${s} assessment cycle`,"error")}})},se=(i,s)=>{s.preventDefault();const y=200,A=250,U=window.innerWidth,G=window.innerHeight;let n=s.clientX,w=s.clientY;n+y>U&&(n=U-y-10),w+A>G&&(w=G-A-10),x.value={show:!0,x:Math.max(10,n),y:Math.max(10,w),cycle:i}},N=()=>{x.value.show=!1},c=()=>{showCycleModal.value=!1,F.value=null},t=i=>{const s=!!F.value,y=s?"assessment-cycles.update":"assessment-cycles.store",A=s?"put":"post",U=s?[F.value.id]:[];j[A](route(y,...U),i,{onSuccess:()=>{E(`Assessment cycle ${s?"updated":"created"} successfully`,"success"),c()},onError:()=>{E(`Failed to ${s?"update":"create"} assessment cycle`,"error")}})},l=()=>{$.value=!1,M.value&&(M.value(),M.value=null)},g=()=>{$.value=!1,M.value=null},Y=i=>({planned:"Planned",active:"Active",completed:"Completed",cancelled:"Cancelled"})[i]||i,xe=i=>({planned:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"})[i]||"bg-gray-100 text-gray-800",we=(i,s)=>{const y=new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric"}),A=new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"});return`${y} - ${A}`},Ye=i=>({current:"Current Month",upcoming:"Upcoming",past:"Past Cycles"})[i]||i,Ce=i=>({planned:"bg-gray-400",active:"bg-blue-500",completed:"bg-green-500",cancelled:"bg-red-500"})[i]||"bg-gray-400",Me=()=>{try{typeof route<"u"?j.visit(route("assessment-cycles.create")):j.visit("/assessment-cycles/create")}catch(i){console.error("Navigation error:",i),window.location.href="/assessment-cycles/create"}},E=(i,s="info",y=4e3)=>{const A=Date.now(),U={id:A,message:i,type:s,visible:!0};k.value.push(U),setTimeout(()=>{Ue(A)},y)},Ue=i=>{const s=k.value.findIndex(y=>y.id===i);s>-1&&k.value.splice(s,1)},Ge=i=>{const s="notification-toast",y={success:"notification-success",error:"notification-error",warning:"notification-warning",info:"notification-info"};return`${s} ${y[i]||y.info}`},We=i=>({success:ke,error:Le,warning:Le,info:Be})[i]||Be,Fe=i=>{x.value.show&&!i.target.closest(".context-menu")&&N()};return Te(()=>{document.addEventListener("click",Fe),console.log("AssessmentCycleManager mounted"),console.log("Route helper available:",typeof route<"u"),typeof route<"u"?console.log("Test route generation:",route("assessment-cycles.create")):console.warn("Route helper not available - using fallback URLs")}),Oe(()=>{document.removeEventListener("click",Fe)}),(i,s)=>(d(),P(Xe,null,{default:p(()=>{var y,A,U,G;return[e("div",Bt,[e("div",Lt,[e("div",zt,[e("div",qt,[e("nav",Tt,[e("ol",It,[e("li",null,[a(o(Ee),{href:i.route("dashboard"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:p(()=>s[16]||(s[16]=[v(" Dashboard ")])),_:1,__:[16]},8,["href"])]),e("li",Yt,[a(o(De),{class:"w-4 h-4 text-gray-400 mx-2"}),a(o(Ee),{href:i.route("assessment-dashboard"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:p(()=>s[17]||(s[17]=[v(" Assessment Dashboard ")])),_:1,__:[17]},8,["href"])]),e("li",Gt,[a(o(De),{class:"w-4 h-4 text-gray-400 mx-2"}),s[18]||(s[18]=e("span",{class:"text-gray-900 font-medium"},"Assessment Cycles",-1))])])]),e("div",Wt,[s[21]||(s[21]=e("div",{class:"mb-4 sm:mb-0"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"Assessment Cycle Manager"),e("p",{class:"mt-1 text-sm text-gray-600"},"Create and manage assessment cycles for systematic competency evaluation")],-1)),e("div",Ht,[a(V,{onClick:ae,disabled:H.value},{default:p(()=>[a(o(qe),{class:"w-4 h-4 mr-2"}),s[19]||(s[19]=v(" Refresh "))]),_:1,__:[19]},8,["disabled"]),a(_e,{onClick:Me},{default:p(()=>[a(o(te),{class:"w-4 h-4 mr-2"}),s[20]||(s[20]=v(" New Assessment Cycle "))]),_:1,__:[20]})])])])])]),e("div",Ot,[e("div",Qt,[e("div",Jt,[e("div",Xt,[e("div",Kt,[e("div",Zt,[a(o(ye),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),C(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>f.value.search=n),type:"text",placeholder:"Search cycles...",class:"pl-10 pr-4 py-2.5 w-full sm:w-64 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",onInput:s[1]||(s[1]=(...n)=>o(le)&&o(le)(...n))},null,544),[[Ae,f.value.search]])]),e("div",eo,[C(e("select",{"onUpdate:modelValue":s[2]||(s[2]=n=>f.value.status=n),onChange:ie,class:"appearance-none pl-10 pr-10 py-2.5 min-w-40 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900 hover:border-gray-400 cursor-pointer"},s[22]||(s[22]=[e("option",{value:""},"All Statuses",-1),e("option",{value:"planned"},"Planned",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),544),[[Ve,f.value.status]]),s[23]||(s[23]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("div",{class:"w-4 h-4 text-gray-400"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])])],-1)),e("div",so,[a(o(Re),{class:"w-4 h-4 text-gray-400"})])]),e("div",to,[C(e("select",{"onUpdate:modelValue":s[3]||(s[3]=n=>f.value.dateRange=n),onChange:ie,class:"appearance-none pl-10 pr-10 py-2.5 min-w-40 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900 hover:border-gray-400 cursor-pointer"},s[24]||(s[24]=[e("option",{value:""},"All Dates",-1),e("option",{value:"current"},"Current Month",-1),e("option",{value:"upcoming"},"Upcoming",-1),e("option",{value:"past"},"Past Cycles",-1)]),544),[[Ve,f.value.dateRange]]),e("div",oo,[a(o(X),{class:"w-4 h-4 text-gray-400"})]),e("div",no,[a(o(Re),{class:"w-4 h-4 text-gray-400"})])]),_.value?(d(),P(V,{key:0,onClick:J,size:"sm"},{default:p(()=>s[25]||(s[25]=[v(" Clear Filters ")])),_:1,__:[25]})):b("",!0)]),e("div",ao,[s[28]||(s[28]=e("span",{class:"text-sm font-medium text-gray-700"},"View:",-1)),e("div",lo,[e("button",{onClick:s[4]||(s[4]=n=>h.value="grid"),class:q(["flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200",h.value==="grid"?"bg-white text-blue-600 shadow-sm border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[a(o(Ze),{class:"w-4 h-4 mr-2"}),s[26]||(s[26]=v(" Grid "))],2),e("button",{onClick:s[5]||(s[5]=n=>h.value="list"),class:q(["flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200",h.value==="list"?"bg-white text-blue-600 shadow-sm border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[a(o(es),{class:"w-4 h-4 mr-2"}),s[27]||(s[27]=v(" List "))],2)])])]),_.value?(d(),m("div",io,[e("div",ro,[s[30]||(s[30]=e("span",{class:"text-sm font-medium text-gray-700"},"Active filters:",-1)),e("div",co,[f.value.search?(d(),m("span",uo,[a(o(ye),{class:"w-4 h-4 mr-1.5"}),v(' "'+u(f.value.search)+'" ',1),e("button",{onClick:s[6]||(s[6]=n=>f.value.search=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-blue-200 transition-colors"},[a(o(oe),{class:"w-3 h-3"})])])):b("",!0),f.value.status?(d(),m("span",mo,[s[29]||(s[29]=e("div",{class:"w-4 h-4 mr-1.5"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),v(" "+u(Y(f.value.status))+" ",1),e("button",{onClick:s[7]||(s[7]=n=>f.value.status=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-green-200 transition-colors"},[a(o(oe),{class:"w-3 h-3"})])])):b("",!0),f.value.dateRange?(d(),m("span",po,[a(o(X),{class:"w-4 h-4 mr-1.5"}),v(" "+u(Ye(f.value.dateRange))+" ",1),e("button",{onClick:s[8]||(s[8]=n=>f.value.dateRange=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-purple-200 transition-colors"},[a(o(oe),{class:"w-3 h-3"})])])):b("",!0)])])])):b("",!0)])]),H.value?b("",!0):(d(),m("div",vo,[e("div",fo,[W.value.length>0?(d(),m("span",go," Showing "+u(W.value.length)+" of "+u(ne.cycles.length)+" assessment cycles ",1)):(d(),m("span",yo," No assessment cycles found "))]),W.value.length>0?(d(),m("div",_o,u(h.value==="grid"?"Grid":"List")+" view ",1)):b("",!0)])),H.value?(d(),m("div",ho,[e("div",bo,[(d(),m(T,null,I(6,n=>e("div",{key:n,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},s[31]||(s[31]=[e("div",{class:"animate-pulse space-y-4"},[e("div",{class:"flex items-center justify-between"},[e("div",{class:"h-5 bg-gray-200 rounded w-3/4"}),e("div",{class:"h-6 bg-gray-200 rounded-full w-16"})]),e("div",{class:"h-4 bg-gray-200 rounded w-full"}),e("div",{class:"h-3 bg-gray-200 rounded w-2/3"}),e("div",{class:"space-y-2"},[e("div",{class:"h-2 bg-gray-200 rounded w-full"}),e("div",{class:"h-2 bg-gray-200 rounded w-1/2"})]),e("div",{class:"flex justify-between"},[e("div",{class:"h-8 bg-gray-200 rounded w-16"}),e("div",{class:"h-8 bg-gray-200 rounded w-16"})])],-1)]))),64))])])):W.value.length===0?(d(),m("div",xo,[e("div",wo,[a(o(X),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s[35]||(s[35]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No Assessment Cycles Found",-1)),e("p",Co,u(_.value?"No cycles match your current filters. Try adjusting your search criteria.":"Get started by creating your first assessment cycle to begin systematic competency evaluation."),1),e("div",$o,[_.value?b("",!0):(d(),P(_e,{key:0,onClick:Me},{default:p(()=>[a(o(te),{class:"w-4 h-4 mr-2"}),s[32]||(s[32]=v(" Create Assessment Cycle "))]),_:1,__:[32]})),_.value?(d(),P(V,{key:1,onClick:J},{default:p(()=>s[33]||(s[33]=[v(" Clear Filters ")])),_:1,__:[33]})):b("",!0),a(V,{onClick:ae},{default:p(()=>[a(o(qe),{class:"w-4 h-4 mr-2"}),s[34]||(s[34]=v(" Refresh "))]),_:1,__:[34]})])])])):h.value==="grid"?(d(),m("div",ko,[(d(!0),m(T,null,I(W.value,n=>(d(),m("div",{key:n.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md hover:border-gray-300 transition-all duration-200 cursor-pointer group",onClick:w=>re(n)},[e("div",Ao,[e("div",Vo,[e("div",Do,[e("h3",Mo,u(n.name),1),e("p",Uo,u(n.description||"No description provided"),1)]),e("span",{class:q([xe(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0"])},u(Y(n.status)),3)]),e("div",Fo,[a(o(X),{class:"w-4 h-4 mr-2 flex-shrink-0"}),e("span",null,u(we(n.start_date,n.end_date)),1)]),e("div",No,[e("div",Eo,[s[36]||(s[36]=e("span",{class:"text-sm font-medium text-gray-700"},"Progress",-1)),e("span",jo,u(n.completion_percentage||0)+"%",1)]),e("div",Ro,[e("div",{class:q(["h-2 rounded-full transition-all duration-300",Ce(n.status)]),style:ve({width:`${n.completion_percentage||0}%`})},null,6)])]),e("div",Po,[e("div",Bo,[e("div",Lo,[a(o(ge),{class:"w-4 h-4 text-gray-500 mr-1"}),e("span",zo,u(n.participant_count||0),1)]),s[37]||(s[37]=e("span",{class:"text-xs text-gray-600"},"Participants",-1))]),e("div",qo,[e("div",To,[a(o(ss),{class:"w-4 h-4 text-gray-500 mr-1"}),e("span",Io,u(n.assessment_count||0),1)]),s[38]||(s[38]=e("span",{class:"text-xs text-gray-600"},"Assessments",-1))])])]),e("div",Yo,[e("div",Go,[e("div",Wo,[a(V,{onClick:D(w=>ee(n),["stop"]),size:"sm",disabled:n.status!=="active",class:"text-xs bg-blue-50 text-blue-700 hover:bg-blue-100 border-blue-200"},{default:p(()=>[a(o(te),{class:"w-3 h-3 mr-1"}),s[39]||(s[39]=v(" Create Assessment "))]),_:2,__:[39]},1032,["onClick","disabled"]),a(V,{onClick:D(w=>K(n),["stop"]),size:"sm",disabled:n.status==="completed",class:"text-xs"},{default:p(()=>[a(o(Pe),{class:"w-3 h-3 mr-1"}),s[40]||(s[40]=v(" Edit "))]),_:2,__:[40]},1032,["onClick","disabled"]),n.status==="planned"?(d(),P(V,{key:0,onClick:D(w=>de(n),["stop"]),size:"sm",class:"text-xs bg-green-50 text-green-700 hover:bg-green-100 border-green-200"},{default:p(()=>[a(o(je),{class:"w-3 h-3 mr-1"}),s[41]||(s[41]=v(" Start "))]),_:2,__:[41]},1032,["onClick"])):n.status==="active"?(d(),P(V,{key:1,onClick:D(w=>ce(n),["stop"]),size:"sm",class:"text-xs bg-green-50 text-green-700 hover:bg-green-100 border-green-200"},{default:p(()=>[a(o(ke),{class:"w-3 h-3 mr-1"}),s[42]||(s[42]=v(" Complete "))]),_:2,__:[42]},1032,["onClick"])):b("",!0)]),e("button",{onClick:D(w=>se(n,w),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[a(o(Se),{class:"w-4 h-4"})],8,Ho)])])],8,So))),128))])):(d(),m("div",Oo,[s[49]||(s[49]=e("div",{class:"bg-gray-50 border-b border-gray-200 hidden md:block"},[e("div",{class:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-medium text-gray-700"},[e("div",{class:"col-span-3"},"Name & Description"),e("div",{class:"col-span-2"},"Status"),e("div",{class:"col-span-2"},"Date Range"),e("div",{class:"col-span-2"},"Progress"),e("div",{class:"col-span-2"},"Participants"),e("div",{class:"col-span-1 text-right"},"Actions")])],-1)),e("div",Qo,[(d(!0),m(T,null,I(W.value,n=>(d(),m("div",{key:n.id,class:"px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors group",onClick:w=>re(n)},[e("div",Xo,[e("div",Ko,[e("div",Zo,[e("h4",en,u(n.name),1),e("p",sn,u(n.description||"No description provided"),1)])]),e("div",tn,[e("span",{class:q([xe(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},u(Y(n.status)),3)]),e("div",on,[e("div",nn,[e("div",an,[a(o(X),{class:"w-4 h-4 text-gray-400 mr-2"}),v(" "+u(we(n.start_date,n.end_date)),1)])])]),e("div",ln,[e("div",rn,[e("div",dn,[e("span",cn,u(n.completion_percentage||0)+"%",1)]),e("div",un,[e("div",{class:q(["h-2 rounded-full transition-all duration-300",Ce(n.status)]),style:ve({width:`${n.completion_percentage||0}%`})},null,6)])])]),e("div",mn,[e("div",pn,[a(o(ge),{class:"w-4 h-4 text-gray-400 mr-2"}),e("span",vn,u(n.participant_count||0),1),s[43]||(s[43]=e("span",{class:"text-gray-500 ml-1"},"participants",-1))])]),e("div",fn,[a(V,{onClick:D(w=>ee(n),["stop"]),size:"sm",disabled:n.status!=="active",class:"text-xs bg-blue-50 text-blue-700 hover:bg-blue-100 border-blue-200"},{default:p(()=>[a(o(te),{class:"w-3 h-3 mr-1"}),s[44]||(s[44]=v(" Assess "))]),_:2,__:[44]},1032,["onClick","disabled"]),a(V,{onClick:D(w=>K(n),["stop"]),size:"sm",disabled:n.status==="completed",class:"text-xs"},{default:p(()=>[a(o(Pe),{class:"w-3 h-3 mr-1"}),s[45]||(s[45]=v(" Edit "))]),_:2,__:[45]},1032,["onClick","disabled"]),e("button",{onClick:D(w=>se(n,w),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[a(o(Se),{class:"w-4 h-4"})],8,gn)])]),e("div",yn,[e("div",_n,[e("div",hn,[e("h4",bn,u(n.name),1),e("p",xn,u(n.description||"No description provided"),1)]),e("span",{class:q([xe(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0"])},u(Y(n.status)),3)]),e("div",wn,[e("div",Cn,[a(o(X),{class:"w-4 h-4 mr-2"}),v(" "+u(we(n.start_date,n.end_date)),1)]),e("div",null,[e("div",$n,[s[46]||(s[46]=e("span",{class:"text-xs text-gray-600"},"Progress",-1)),e("span",kn,u(n.completion_percentage||0)+"%",1)]),e("div",Sn,[e("div",{class:q(["h-2 rounded-full transition-all duration-300",Ce(n.status)]),style:ve({width:`${n.completion_percentage||0}%`})},null,6)])])]),e("div",An,[e("div",Vn,[a(o(ge),{class:"w-4 h-4 mr-1"}),e("span",null,u(n.participant_count||0)+" participants",1)]),e("div",Dn,[a(V,{onClick:D(w=>ee(n),["stop"]),size:"sm",disabled:n.status!=="active",class:"text-xs bg-blue-50 text-blue-700 hover:bg-blue-100 border-blue-200"},{default:p(()=>[a(o(te),{class:"w-3 h-3 mr-1"}),s[47]||(s[47]=v(" Assess "))]),_:2,__:[47]},1032,["onClick","disabled"]),a(V,{onClick:D(w=>K(n),["stop"]),size:"sm",disabled:n.status==="completed",class:"text-xs"},{default:p(()=>s[48]||(s[48]=[v(" Edit ")])),_:2,__:[48]},1032,["onClick","disabled"]),e("button",{onClick:D(w=>se(n,w),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[a(o(Se),{class:"w-4 h-4"})],8,Mn)])])])],8,Jo))),128))])]))])]),x.value.show?(d(),m("div",{key:0,style:ve({top:x.value.y+"px",left:x.value.x+"px"}),class:"context-menu",onClick:s[15]||(s[15]=D(()=>{},["stop"]))},[e("div",Un,[((y=x.value.cycle)==null?void 0:y.status)==="planned"?(d(),m("button",{key:0,onClick:s[9]||(s[9]=n=>de(x.value.cycle)),class:"menu-item"},[a(o(je),{class:"menu-icon"}),s[50]||(s[50]=v(" Start Cycle "))])):b("",!0),((A=x.value.cycle)==null?void 0:A.status)==="active"?(d(),m("button",{key:1,onClick:s[10]||(s[10]=n=>ce(x.value.cycle)),class:"menu-item"},[a(o(ke),{class:"menu-icon"}),s[51]||(s[51]=v(" Complete Cycle "))])):b("",!0),e("button",{onClick:s[11]||(s[11]=n=>he(x.value.cycle)),class:"menu-item"},[a(o(cs),{class:"menu-icon"}),s[52]||(s[52]=v(" Duplicate "))]),e("button",{onClick:s[12]||(s[12]=n=>be(x.value.cycle)),class:"menu-item",disabled:((U=x.value.cycle)==null?void 0:U.status)!=="active"},[a(o(ts),{class:"menu-icon"}),s[53]||(s[53]=v(" Send Reminders "))],8,Fn),e("button",{onClick:s[13]||(s[13]=n=>Z(x.value.cycle)),class:"menu-item"},[a(o(us),{class:"menu-icon"}),s[54]||(s[54]=v(" Export Data "))]),s[56]||(s[56]=e("hr",{class:"menu-divider"},null,-1)),e("button",{onClick:s[14]||(s[14]=n=>ue(x.value.cycle)),class:"menu-item danger",disabled:((G=x.value.cycle)==null?void 0:G.status)==="active"},[a(o(os),{class:"menu-icon"}),s[55]||(s[55]=v(" Delete "))],8,Nn)])],4)):b("",!0),a(Pt,{show:i.showCycleModal,cycle:F.value,employees:Q.employees,competencies:Q.competencies,onClose:c,onSave:t},null,8,["show","cycle","employees","competencies"]),a(ns,{show:$.value,title:B.value,message:L.value,"confirm-text":r.value,onConfirm:l,onCancel:g},null,8,["show","title","message","confirm-text"]),k.value.length>0?(d(),m("div",En,[e("div",jn,[(d(!0),m(T,null,I(k.value,n=>(d(),m("div",{key:n.id,class:q([Ge(n.type),"notification-card"])},[e("div",Rn,[(d(),P(Qe(We(n.type)),{class:"w-5 h-5"}))]),e("div",Pn,[e("p",Bn,u(n.message),1)]),e("button",{onClick:w=>Ue(n.id),class:"notification-close"},[a(o(oe),{class:"w-4 h-4"})],8,Ln)],2))),128))])])):b("",!0)]}),_:1}))}},ra=Ie(zn,[["__scopeId","data-v-89c7ece1"]]);export{ra as default};
