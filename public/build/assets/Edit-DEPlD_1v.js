import{x as N,e as j,f as G,g as I,o as n,h as k,a as e,d as E,w as g,c as o,i as u,n as _,u as i,b as v,t as d,F as x,r as y,v as C,j as U,k as p,l as f,S as V}from"./app-D67KtESJ.js";import{_ as q}from"./AuthenticatedLayout-CpbHWSvu.js";import{r as M,a as S,b as P,c as z}from"./Icon-Dd-6lDoU.js";import"./useAuth-CLfMmoyK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CyvfW2EW.js";import"./useAccessibility-BOF5R5qI.js";const F={class:"px-4 sm:px-6 lg:px-8"},L={class:"-mx-4 mt-8 sm:-mx-0"},O={class:"space-y-12"},T={class:"border-b border-gray-900/10 pb-12"},W={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},H={class:"sm:col-span-4"},J={class:"mt-2"},K={key:0,class:"mt-2 text-sm text-red-600"},Q={class:"sm:col-span-2"},X={class:"mt-2"},Y={key:0,class:"mt-2 text-sm text-red-600"},Z={class:"col-span-full"},ee={class:"mt-2"},te={key:0,class:"mt-2 text-sm text-red-600"},se={class:"sm:col-span-3"},ie={class:"mt-2"},re=["value"],ne={key:0,class:"mt-2 text-sm text-red-600"},oe={class:"sm:col-span-3"},de={class:"mt-2"},ae=["value"],le={key:0,class:"mt-2 text-sm text-red-600"},ce={class:"col-span-full"},me={class:"flex items-center space-x-6"},ge={class:"flex items-center"},ue={class:"flex items-center"},pe={class:"border-b border-gray-900/10 pb-12"},xe={class:"mt-6 space-y-4"},ye={class:"flex-1"},fe=["onUpdate:modelValue","placeholder"],be=["onClick","disabled"],_e={class:"border-b border-gray-900/10 pb-12"},ve={class:"mt-6 space-y-4"},he={class:"flex-shrink-0"},we={class:"w-8 h-8 bg-indigo-100 text-indigo-800 rounded-full flex items-center justify-center text-sm font-medium"},ke={class:"flex-1"},Ce=["onUpdate:modelValue","placeholder"],Ue=["onClick","disabled"],Ve=["disabled"],Me={class:"pb-12"},Se={class:"flex items-center justify-between"},Re={key:0,class:"mt-6 bg-gray-50 border border-gray-200 rounded-lg p-6"},$e={class:"space-y-4"},Ae={class:"text-lg font-medium text-gray-900"},Be={class:"mt-2 flex items-center space-x-4"},De={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Ne={class:"text-sm text-gray-500"},je={class:"text-sm text-gray-500"},Ge={key:0},Ie={class:"text-sm text-gray-700"},Ee={key:1},qe={class:"mt-2 list-disc list-inside text-sm text-gray-700 space-y-1"},Pe={key:2},ze={class:"mt-2 space-y-2"},Fe={class:"flex-shrink-0 w-6 h-6 bg-indigo-100 text-indigo-800 rounded-full flex items-center justify-center text-xs font-medium"},Le={class:"text-sm text-gray-700"},Oe={class:"mt-6 flex items-center justify-between"},Te={class:"flex items-center gap-x-6"},We=["disabled"],He={key:0},Je={key:1},st={__name:"Edit",props:{competency:Object,departments:Array,categories:Array,defaultRatingGuidelines:Array},setup(h){const l=h,s=N({name:l.competency.name||"",description:l.competency.description||"",category:l.competency.category||"",weight:l.competency.weight||1,measurement_indicators:l.competency.measurement_indicators||[""],rating_guidelines:l.competency.rating_guidelines||l.defaultRatingGuidelines||[{rating:1,description:"Needs significant improvement"},{rating:2,description:"Below expectations"},{rating:3,description:"Meets expectations"},{rating:4,description:"Exceeds expectations"},{rating:5,description:"Outstanding performance"}],department_id:l.competency.department_id||"",role_specific:l.competency.role_specific||!1,is_active:l.competency.is_active!==void 0?l.competency.is_active:!0}),w=j(!1),R=()=>{s.measurement_indicators.push("")},$=a=>{s.measurement_indicators.length>1&&s.measurement_indicators.splice(a,1)},A=()=>{const a=Math.max(...s.rating_guidelines.map(t=>t.rating))+1;a<=5&&s.rating_guidelines.push({rating:a,description:""})},B=a=>{s.rating_guidelines.length>1&&s.rating_guidelines.splice(a,1)},D=()=>{s.measurement_indicators=s.measurement_indicators.filter(a=>a.trim()!==""),s.rating_guidelines.sort((a,t)=>a.rating-t.rating),s.put(route("competencies.update",l.competency.id),{onSuccess:()=>{}})},c=G(()=>{var a;return{name:s.name||"Competency Name",description:s.description||"Competency description will appear here...",category:s.category||"Category",weight:s.weight,measurement_indicators:s.measurement_indicators.filter(t=>t.trim()!==""),rating_guidelines:s.rating_guidelines.filter(t=>t.description.trim()!==""),department:((a=l.departments.find(t=>t.id==s.department_id))==null?void 0:a.name)||"All Departments",role_specific:s.role_specific,is_active:s.is_active}});return(a,t)=>(n(),I(q,null,{header:k(()=>t[8]||(t[8]=[f("Edit Competency")])),default:k(()=>[e("div",F,[t[31]||(t[31]=e("div",{class:"sm:flex sm:items-center"},[e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-base font-semibold leading-6 text-gray-900"},"Edit Competency"),e("p",{class:"mt-2 text-sm text-gray-700"},"Update the competency details for your organization.")])],-1)),e("div",L,[e("form",{onSubmit:E(D,["prevent"])},[e("div",O,[e("div",T,[t[18]||(t[18]=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Basic Information",-1)),t[19]||(t[19]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Update the core details of this competency.",-1)),e("div",W,[e("div",H,[t[9]||(t[9]=e("label",{for:"name",class:"block text-sm font-medium leading-6 text-gray-900"},"Name *",-1)),e("div",J,[g(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>i(s).name=r),id:"name",required:"",class:_(["block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",{"ring-red-500":i(s).errors.name}])},null,2),[[v,i(s).name]]),i(s).errors.name?(n(),o("div",K,d(i(s).errors.name),1)):u("",!0)])]),e("div",Q,[t[10]||(t[10]=e("label",{for:"weight",class:"block text-sm font-medium leading-6 text-gray-900"},"Weight *",-1)),e("div",X,[g(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=r=>i(s).weight=r),id:"weight",step:"0.1",min:"0.1",max:"5.0",required:"",class:_(["block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",{"ring-red-500":i(s).errors.weight}])},null,2),[[v,i(s).weight,void 0,{number:!0}]]),i(s).errors.weight?(n(),o("div",Y,d(i(s).errors.weight),1)):u("",!0)])]),e("div",Z,[t[11]||(t[11]=e("label",{for:"description",class:"block text-sm font-medium leading-6 text-gray-900"},"Description",-1)),e("div",ee,[g(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=r=>i(s).description=r),id:"description",rows:"3",class:_(["block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",{"ring-red-500":i(s).errors.description}])},null,2),[[v,i(s).description]]),i(s).errors.description?(n(),o("div",te,d(i(s).errors.description),1)):u("",!0)])]),e("div",se,[t[13]||(t[13]=e("label",{for:"category",class:"block text-sm font-medium leading-6 text-gray-900"},"Category *",-1)),e("div",ie,[g(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>i(s).category=r),id:"category",required:"",class:_(["block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",{"ring-red-500":i(s).errors.category}])},[t[12]||(t[12]=e("option",{value:""},"Select a category",-1)),(n(!0),o(x,null,y(h.categories,r=>(n(),o("option",{key:r,value:r},d(r),9,re))),128))],2),[[C,i(s).category]]),i(s).errors.category?(n(),o("div",ne,d(i(s).errors.category),1)):u("",!0)])]),e("div",oe,[t[15]||(t[15]=e("label",{for:"department_id",class:"block text-sm font-medium leading-6 text-gray-900"},"Department",-1)),e("div",de,[g(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>i(s).department_id=r),id:"department_id",class:_(["block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",{"ring-red-500":i(s).errors.department_id}])},[t[14]||(t[14]=e("option",{value:""},"All Departments",-1)),(n(!0),o(x,null,y(h.departments,r=>(n(),o("option",{key:r.id,value:r.id},d(r.name),9,ae))),128))],2),[[C,i(s).department_id]]),i(s).errors.department_id?(n(),o("div",le,d(i(s).errors.department_id),1)):u("",!0)])]),e("div",ce,[e("div",me,[e("div",ge,[g(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>i(s).role_specific=r),id:"role_specific",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,512),[[U,i(s).role_specific]]),t[16]||(t[16]=e("label",{for:"role_specific",class:"ml-2 block text-sm text-gray-900"},"Role Specific",-1))]),e("div",ue,[g(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>i(s).is_active=r),id:"is_active",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,512),[[U,i(s).is_active]]),t[17]||(t[17]=e("label",{for:"is_active",class:"ml-2 block text-sm text-gray-900"},"Active",-1))])])])])]),e("div",pe,[t[21]||(t[21]=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Measurement Indicators",-1)),t[22]||(t[22]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Update specific indicators that will be used to measure this competency.",-1)),e("div",xe,[(n(!0),o(x,null,y(i(s).measurement_indicators,(r,m)=>(n(),o("div",{key:m,class:"flex items-center space-x-3"},[e("div",ye,[g(e("input",{type:"text","onUpdate:modelValue":b=>i(s).measurement_indicators[m]=b,placeholder:`Measurement indicator ${m+1}`,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,fe),[[v,i(s).measurement_indicators[m]]])]),e("button",{type:"button",onClick:b=>$(m),disabled:i(s).measurement_indicators.length===1,class:"inline-flex items-center p-1 text-red-600 hover:text-red-800 disabled:text-gray-400 disabled:cursor-not-allowed"},[p(i(M),{class:"h-4 w-4"})],8,be)]))),128)),e("button",{type:"button",onClick:R,class:"inline-flex items-center px-3 py-2 text-sm font-medium text-indigo-600 bg-white border border-indigo-300 rounded-md hover:bg-indigo-50"},[p(i(S),{class:"h-4 w-4 mr-2"}),t[20]||(t[20]=f(" Add Indicator "))])])]),e("div",_e,[t[24]||(t[24]=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Rating Guidelines",-1)),t[25]||(t[25]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Update what each rating level means for this competency.",-1)),e("div",ve,[(n(!0),o(x,null,y(i(s).rating_guidelines,(r,m)=>(n(),o("div",{key:m,class:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg"},[e("div",he,[e("div",we,d(r.rating),1)]),e("div",ke,[g(e("textarea",{"onUpdate:modelValue":b=>i(s).rating_guidelines[m].description=b,placeholder:`Description for rating ${r.rating}`,rows:"2",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ce),[[v,i(s).rating_guidelines[m].description]])]),e("button",{type:"button",onClick:b=>B(m),disabled:i(s).rating_guidelines.length===1,class:"inline-flex items-center p-1 text-red-600 hover:text-red-800 disabled:text-gray-400 disabled:cursor-not-allowed"},[p(i(M),{class:"h-4 w-4"})],8,Ue)]))),128)),e("button",{type:"button",onClick:A,disabled:i(s).rating_guidelines.length>=5,class:"inline-flex items-center px-3 py-2 text-sm font-medium text-indigo-600 bg-white border border-indigo-300 rounded-md hover:bg-indigo-50 disabled:text-gray-400 disabled:border-gray-300 disabled:cursor-not-allowed"},[p(i(S),{class:"h-4 w-4 mr-2"}),t[23]||(t[23]=f(" Add Rating Level "))],8,Ve)])]),e("div",Me,[e("div",Se,[t[26]||(t[26]=e("div",null,[e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Preview"),e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"See how this competency will appear to users.")],-1)),e("button",{type:"button",onClick:t[7]||(t[7]=r=>w.value=!w.value),class:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},[p(i(P),{class:"h-4 w-4 mr-2"}),f(" "+d(w.value?"Hide":"Show")+" Preview ",1)])]),w.value?(n(),o("div",Re,[e("div",$e,[e("div",null,[e("h3",Ae,d(c.value.name),1),e("div",Be,[e("span",De,d(c.value.category),1),e("span",Ne,"Weight: "+d(c.value.weight),1),e("span",je,d(c.value.department),1)])]),c.value.description?(n(),o("div",Ge,[e("p",Ie,d(c.value.description),1)])):u("",!0),c.value.measurement_indicators.length>0?(n(),o("div",Ee,[t[27]||(t[27]=e("h4",{class:"text-sm font-medium text-gray-900"},"Measurement Indicators:",-1)),e("ul",qe,[(n(!0),o(x,null,y(c.value.measurement_indicators,r=>(n(),o("li",{key:r},d(r),1))),128))])])):u("",!0),c.value.rating_guidelines.length>0?(n(),o("div",Pe,[t[28]||(t[28]=e("h4",{class:"text-sm font-medium text-gray-900"},"Rating Guidelines:",-1)),e("div",ze,[(n(!0),o(x,null,y(c.value.rating_guidelines,r=>(n(),o("div",{key:r.rating,class:"flex items-start space-x-3"},[e("div",Fe,d(r.rating),1),e("p",Le,d(r.description),1)]))),128))])])):u("",!0)])])):u("",!0)])]),e("div",Oe,[p(i(V),{href:a.route("competencies.index"),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},{default:k(()=>[p(i(z),{class:"h-4 w-4 mr-2"}),t[29]||(t[29]=f(" Back to Competencies "))]),_:1,__:[29]},8,["href"]),e("div",Te,[p(i(V),{href:a.route("competencies.show",h.competency.id),class:"text-sm font-semibold leading-6 text-gray-900 hover:text-gray-700"},{default:k(()=>t[30]||(t[30]=[f(" Cancel ")])),_:1,__:[30]},8,["href"]),e("button",{type:"submit",disabled:i(s).processing,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed"},[i(s).processing?(n(),o("span",He,"Updating...")):(n(),o("span",Je,"Update Competency"))],8,We)])])],32)])])]),_:1}))}};export{st as default};
