import{e as V,x as S,y as f,z as U,c as a,o as d,a as o,w as u,i,b as p,u as t,n as m,t as c,v as g,E as _,j as C,l as P,d as M}from"./app-C03CapZx.js";const N={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},j={key:0,class:"mt-1 text-sm text-red-600"},D={key:0,class:"mt-1 text-sm text-red-600"},A={key:0,class:"mt-1 text-sm text-red-600"},B={key:0,class:"mt-1 text-sm text-red-600"},F={key:0,class:"mt-1 text-sm text-red-600"},O={key:0,class:"mt-1 text-sm text-red-600"},z={class:"space-y-4"},E={key:0,class:"mt-1 text-sm text-red-600"},$={class:"flex items-center mb-2"},I={key:0,class:"mt-1 text-sm text-red-600"},T={class:"space-y-4"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={key:0,class:"mt-1 text-sm text-red-600"},L={key:0,class:"mt-1 text-sm text-red-600"},R={key:0,class:"mt-1 text-sm text-red-600"},H={key:0,class:"mt-1 text-sm text-red-600"},J={class:"space-y-4"},W={key:0,class:"mt-1 text-sm text-red-600"},Y={key:0,class:"mt-1 text-sm text-red-600"},K={class:"flex items-center justify-between pt-6 border-t border-gray-200"},Q={class:"text-sm text-gray-600"},X={key:0,class:"text-green-600 font-medium"},Z=["disabled"],ee={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},oe={__name:"UpdateEmployeeProfileForm",props:{employee:{type:Object,required:!0},user:{type:Object,required:!0}},setup(x){const l=x,b=V(!1),y=s=>{if(!s)return"";if(typeof s=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(s))return s;try{const r=new Date(s);if(isNaN(r.getTime()))return"";const n=r.getFullYear(),v=String(r.getMonth()+1).padStart(2,"0"),w=String(r.getDate()).padStart(2,"0");return`${n}-${v}-${w}`}catch(r){return console.warn("Error formatting date:",r),""}},e=S({name:l.user.name,date_of_birth:l.employee.date_of_birth_formatted||y(l.employee.date_of_birth),gender:l.employee.gender||"",phone:l.employee.phone||"",personal_email:l.employee.personal_email||"",nationality:l.employee.nationality||"",work_location:l.employee.work_location||"",current_address:l.employee.current_address||"",permanent_address:l.employee.permanent_address||"",emergency_contact_name:l.employee.emergency_contact_name||"",emergency_contact_relationship:l.employee.emergency_contact_relationship||"",emergency_contact_phone:l.employee.emergency_contact_phone||"",emergency_contact_email:l.employee.emergency_contact_email||"",skills:l.employee.skills||"",education:l.employee.education||""}),k=()=>{b.value&&(e.permanent_address=e.current_address)};f(()=>e.current_address,s=>{b.value&&(e.permanent_address=s)}),f(()=>l.employee,s=>{s&&(e.date_of_birth=s.date_of_birth_formatted||y(s.date_of_birth),e.gender=s.gender||"",e.phone=s.phone||"",e.personal_email=s.personal_email||"",e.nationality=s.nationality||"",e.work_location=s.work_location||"",e.current_address=s.current_address||"",e.permanent_address=s.permanent_address||"",e.emergency_contact_name=s.emergency_contact_name||"",e.emergency_contact_relationship=s.emergency_contact_relationship||"",e.emergency_contact_phone=s.emergency_contact_phone||"",e.emergency_contact_email=s.emergency_contact_email||"",e.skills=s.skills||"",e.education=s.education||"")},{deep:!0}),f(()=>l.user,s=>{s&&(e.name=s.name)},{deep:!0});const h=()=>{e.patch(route("profile.update-employee"),{preserveScroll:!0,onSuccess:()=>{}})};return U(()=>{l.employee.date_of_birth&&(e.date_of_birth=l.employee.date_of_birth_formatted||y(l.employee.date_of_birth))}),(s,r)=>(d(),a("form",{onSubmit:M(h,["prevent"]),class:"space-y-6"},[o("div",N,[o("div",null,[r[15]||(r[15]=o("label",{for:"date_of_birth",class:"block text-sm font-medium text-gray-700 mb-1"}," Date of Birth ",-1)),u(o("input",{id:"date_of_birth","onUpdate:modelValue":r[0]||(r[0]=n=>t(e).date_of_birth=n),type:"date",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.date_of_birth}])},null,2),[[p,t(e).date_of_birth]]),t(e).errors.date_of_birth?(d(),a("p",j,c(t(e).errors.date_of_birth),1)):i("",!0)]),o("div",null,[r[17]||(r[17]=o("label",{for:"gender",class:"block text-sm font-medium text-gray-700 mb-1"}," Gender ",-1)),u(o("select",{id:"gender","onUpdate:modelValue":r[1]||(r[1]=n=>t(e).gender=n),class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.gender}])},r[16]||(r[16]=[_('<option value="">Select Gender</option><option value="male">Male</option><option value="female">Female</option><option value="other">Other</option><option value="prefer_not_to_say">Prefer not to say</option>',5)]),2),[[g,t(e).gender]]),t(e).errors.gender?(d(),a("p",D,c(t(e).errors.gender),1)):i("",!0)]),o("div",null,[r[18]||(r[18]=o("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-1"}," Phone Number ",-1)),u(o("input",{id:"phone","onUpdate:modelValue":r[2]||(r[2]=n=>t(e).phone=n),type:"tel",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.phone}]),placeholder:"Enter your phone number"},null,2),[[p,t(e).phone]]),t(e).errors.phone?(d(),a("p",A,c(t(e).errors.phone),1)):i("",!0)]),o("div",null,[r[19]||(r[19]=o("label",{for:"personal_email",class:"block text-sm font-medium text-gray-700 mb-1"}," Personal Email ",-1)),u(o("input",{id:"personal_email","onUpdate:modelValue":r[3]||(r[3]=n=>t(e).personal_email=n),type:"email",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.personal_email}]),placeholder:"Enter your personal email"},null,2),[[p,t(e).personal_email]]),t(e).errors.personal_email?(d(),a("p",B,c(t(e).errors.personal_email),1)):i("",!0)]),o("div",null,[r[20]||(r[20]=o("label",{for:"nationality",class:"block text-sm font-medium text-gray-700 mb-1"}," Nationality ",-1)),u(o("input",{id:"nationality","onUpdate:modelValue":r[4]||(r[4]=n=>t(e).nationality=n),type:"text",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.nationality}]),placeholder:"Enter your nationality"},null,2),[[p,t(e).nationality]]),t(e).errors.nationality?(d(),a("p",F,c(t(e).errors.nationality),1)):i("",!0)]),o("div",null,[r[21]||(r[21]=o("label",{for:"work_location",class:"block text-sm font-medium text-gray-700 mb-1"}," Work Location ",-1)),u(o("input",{id:"work_location","onUpdate:modelValue":r[5]||(r[5]=n=>t(e).work_location=n),type:"text",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.work_location}]),placeholder:"Enter your work location"},null,2),[[p,t(e).work_location]]),t(e).errors.work_location?(d(),a("p",O,c(t(e).errors.work_location),1)):i("",!0)])]),o("div",z,[r[25]||(r[25]=o("h4",{class:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2"}," Address Information ",-1)),o("div",null,[r[22]||(r[22]=o("label",{for:"current_address",class:"block text-sm font-medium text-gray-700 mb-1"}," Current Address ",-1)),u(o("textarea",{id:"current_address","onUpdate:modelValue":r[6]||(r[6]=n=>t(e).current_address=n),rows:"3",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.current_address}]),placeholder:"Enter your current address"},null,2),[[p,t(e).current_address]]),t(e).errors.current_address?(d(),a("p",E,c(t(e).errors.current_address),1)):i("",!0)]),o("div",null,[r[24]||(r[24]=o("label",{for:"permanent_address",class:"block text-sm font-medium text-gray-700 mb-1"}," Permanent Address ",-1)),o("div",$,[u(o("input",{id:"same_as_current","onUpdate:modelValue":r[7]||(r[7]=n=>b.value=n),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",onChange:k},null,544),[[C,b.value]]),r[23]||(r[23]=o("label",{for:"same_as_current",class:"ml-2 text-sm text-gray-600"}," Same as current address ",-1))]),u(o("textarea",{id:"permanent_address","onUpdate:modelValue":r[8]||(r[8]=n=>t(e).permanent_address=n),rows:"3",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.permanent_address}]),placeholder:"Enter your permanent address"},null,2),[[p,t(e).permanent_address]]),t(e).errors.permanent_address?(d(),a("p",I,c(t(e).errors.permanent_address),1)):i("",!0)])]),o("div",T,[r[31]||(r[31]=o("h4",{class:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2"}," Emergency Contact ",-1)),o("div",q,[o("div",null,[r[26]||(r[26]=o("label",{for:"emergency_contact_name",class:"block text-sm font-medium text-gray-700 mb-1"}," Contact Name ",-1)),u(o("input",{id:"emergency_contact_name","onUpdate:modelValue":r[9]||(r[9]=n=>t(e).emergency_contact_name=n),type:"text",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.emergency_contact_name}]),placeholder:"Enter emergency contact name"},null,2),[[p,t(e).emergency_contact_name]]),t(e).errors.emergency_contact_name?(d(),a("p",G,c(t(e).errors.emergency_contact_name),1)):i("",!0)]),o("div",null,[r[28]||(r[28]=o("label",{for:"emergency_contact_relationship",class:"block text-sm font-medium text-gray-700 mb-1"}," Relationship ",-1)),u(o("select",{id:"emergency_contact_relationship","onUpdate:modelValue":r[10]||(r[10]=n=>t(e).emergency_contact_relationship=n),class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.emergency_contact_relationship}])},r[27]||(r[27]=[_('<option value="">Select Relationship</option><option value="spouse">Spouse</option><option value="parent">Parent</option><option value="sibling">Sibling</option><option value="child">Child</option><option value="friend">Friend</option><option value="other">Other</option>',7)]),2),[[g,t(e).emergency_contact_relationship]]),t(e).errors.emergency_contact_relationship?(d(),a("p",L,c(t(e).errors.emergency_contact_relationship),1)):i("",!0)]),o("div",null,[r[29]||(r[29]=o("label",{for:"emergency_contact_phone",class:"block text-sm font-medium text-gray-700 mb-1"}," Contact Phone ",-1)),u(o("input",{id:"emergency_contact_phone","onUpdate:modelValue":r[11]||(r[11]=n=>t(e).emergency_contact_phone=n),type:"tel",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.emergency_contact_phone}]),placeholder:"Enter emergency contact phone"},null,2),[[p,t(e).emergency_contact_phone]]),t(e).errors.emergency_contact_phone?(d(),a("p",R,c(t(e).errors.emergency_contact_phone),1)):i("",!0)]),o("div",null,[r[30]||(r[30]=o("label",{for:"emergency_contact_email",class:"block text-sm font-medium text-gray-700 mb-1"}," Contact Email ",-1)),u(o("input",{id:"emergency_contact_email","onUpdate:modelValue":r[12]||(r[12]=n=>t(e).emergency_contact_email=n),type:"email",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.emergency_contact_email}]),placeholder:"Enter emergency contact email"},null,2),[[p,t(e).emergency_contact_email]]),t(e).errors.emergency_contact_email?(d(),a("p",H,c(t(e).errors.emergency_contact_email),1)):i("",!0)])])]),o("div",J,[r[35]||(r[35]=o("h4",{class:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2"}," Professional Information ",-1)),o("div",null,[r[32]||(r[32]=o("label",{for:"skills",class:"block text-sm font-medium text-gray-700 mb-1"}," Skills ",-1)),u(o("textarea",{id:"skills","onUpdate:modelValue":r[13]||(r[13]=n=>t(e).skills=n),rows:"3",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.skills}]),placeholder:"List your skills (comma-separated)"},null,2),[[p,t(e).skills]]),r[33]||(r[33]=o("p",{class:"mt-1 text-xs text-gray-500"}," Enter your skills separated by commas (e.g., JavaScript, Project Management, Communication) ",-1)),t(e).errors.skills?(d(),a("p",W,c(t(e).errors.skills),1)):i("",!0)]),o("div",null,[r[34]||(r[34]=o("label",{for:"education",class:"block text-sm font-medium text-gray-700 mb-1"}," Education ",-1)),u(o("textarea",{id:"education","onUpdate:modelValue":r[14]||(r[14]=n=>t(e).education=n),rows:"3",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":t(e).errors.education}]),placeholder:"Enter your educational background"},null,2),[[p,t(e).education]]),t(e).errors.education?(d(),a("p",Y,c(t(e).errors.education),1)):i("",!0)])]),o("div",K,[o("div",Q,[t(e).recentlySuccessful?(d(),a("span",X," ✓ Profile updated successfully! ")):i("",!0)]),o("button",{type:"submit",disabled:t(e).processing,class:m(["inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",{"opacity-50 cursor-not-allowed":t(e).processing}])},[t(e).processing?(d(),a("svg",ee,r[36]||(r[36]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):i("",!0),P(" "+c(t(e).processing?"Updating...":"Update Profile"),1)],10,Z)])],32))}};export{oe as default};
