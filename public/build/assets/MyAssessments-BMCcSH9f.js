import{f as P,e as X,g as A,o as n,h as x,k as i,a as e,u as d,t as r,w as H,c as l,F as b,r as p,v as Q,i as h,S as _,l as v,n as C,Q as Z}from"./app-DZFm6JKb.js";import{_ as ee}from"./AuthenticatedLayout-DEtT1uGI.js";import{P as se}from"./PageLayout-DDjAy-y8.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as oe}from"./ChartBarIcon-Dv8ea6x0.js";import{n as re,m as ne,q as ae,l as le,b as de,j as ie}from"./Icon-DmC59pCX.js";import{r as ce}from"./ClipboardDocumentCheckIcon-pE6XGn_R.js";import{r as me}from"./TagIcon-iyh2bLer.js";import"./useAuth-DyFOF4xF.js";import"./ApplicationLogo-DERB6-ln.js";import"./useAccessibility-CqANFcXA.js";import"./PageHeader-C3C56fOc.js";/* empty css                                                                   *//* empty css                                                                   */const ue={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},fe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ge={class:"flex items-center"},ye={class:"flex-shrink-0"},xe={class:"ml-4"},be={class:"text-2xl font-bold text-gray-900"},pe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},he={class:"flex items-center"},ve={class:"flex-shrink-0"},_e={class:"ml-4"},we={class:"text-2xl font-bold text-gray-900"},ke={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Ae={class:"flex items-center"},Ce={class:"flex-shrink-0"},Se={class:"ml-4"},$e={class:"text-2xl font-bold text-gray-900"},je={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},Me={class:"p-6"},Ee={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},De=["value"],Re=["value"],Ue={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Fe={class:"px-6 py-4 border-b border-gray-200"},Le={class:"text-lg font-medium text-gray-900"},Ve={key:0,class:"p-12 text-center"},Oe={key:1,class:"divide-y divide-gray-200"},Be={class:"flex items-center justify-between"},Ne={class:"flex-1"},Te={class:"flex items-center space-x-3 mb-2"},Ie={class:"flex items-center"},Pe={class:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center mr-3"},He={class:"text-xs font-medium text-blue-600"},Qe={class:"text-lg font-medium text-gray-900"},qe={class:"flex items-center space-x-6 text-sm text-gray-600"},ze={class:"flex items-center"},Ye={key:0,class:"flex items-center"},Ge={key:0,class:"mt-3 flex items-center"},Je={class:"flex items-center"},Ke={class:"flex"},We={class:"ml-2 text-sm font-medium text-gray-900"},Xe={class:"ml-2 text-sm text-gray-500"},Ze={key:1,class:"mt-3"},es={class:"text-sm text-gray-700 line-clamp-2"},ss={class:"flex items-center space-x-3 ml-6"},ts={key:2,class:"px-6 py-3 border-t border-gray-200"},os={class:"flex items-center justify-between"},rs={class:"text-sm text-gray-700"},ns={class:"flex space-x-1"},as={__name:"MyAssessments",props:{assessments:Object,stats:Object,employees:Array,assessmentCycles:Array,statusOptions:Array,filters:Object},setup(a){var $,j,M,E,D,R,U;const c=a;console.log("MyAssessments props:",{assessments:c.assessments,stats:c.stats,assessmentsData:($=c.assessments)==null?void 0:$.data,assessmentsTotal:(j=c.assessments)==null?void 0:j.total,assessmentsCount:(E=(M=c.assessments)==null?void 0:M.data)==null?void 0:E.length,filters:c.filters}),(D=c.assessments)!=null&&D.data?(console.log("Individual assessments:"),c.assessments.data.forEach((o,s)=>{var m,f,g;console.log(`Assessment ${s+1}:`,{id:o.id,employee:(f=(m=o.employee)==null?void 0:m.user)==null?void 0:f.name,competency:(g=o.competency)==null?void 0:g.name,type:o.assessment_type,status:o.status})})):console.log("No assessments data found");const q=P(()=>[{label:"Dashboard",href:typeof route<"u"?route("dashboard"):"/dashboard"},{label:"My Assessments",href:null}]),z=P(()=>[{label:"All Assessments",href:typeof route<"u"?route("competency-assessments.index"):"/competency-assessments",variant:"secondary"}]),u=X({status:((R=c.filters)==null?void 0:R.status)||"",assessment_cycle_id:((U=c.filters)==null?void 0:U.assessment_cycle_id)||""}),w=()=>{try{if(typeof route>"u"){console.error("Route function is not available");return}const o=route("competency-assessments.my-assessments");if(!o){console.error("Route URL could not be generated");return}Z.get(o,u.value,{preserveState:!0,preserveScroll:!0}).catch(s=>{console.error("Error applying filters:",s)})}catch(o){console.error("Error in applyFilters:",o)}},Y=()=>{u.value={status:"",assessment_cycle_id:""},w()},G=o=>o.split(" ").map(s=>s.charAt(0)).join("").toUpperCase().substring(0,2),S=o=>({draft:"Draft",submitted:"Submitted",approved:"Approved",rejected:"Rejected"})[o]||o,J=o=>({draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",K=o=>({1:"Needs Improvement",2:"Below Expectations",3:"Meets Expectations",4:"Exceeds Expectations",5:"Outstanding"})[o]||"",W=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),k=(o,s=null)=>{try{return typeof route>"u"?(console.warn(`Route function not available for: ${o}`),"#"):route(o,s)}catch(m){return console.error(`Error generating route ${o}:`,m),"#"}};return(o,s)=>(n(),A(ee,null,{default:x(()=>[i(se,{title:"My Assessments",subtitle:"Assessments assigned to me for completion",breadcrumbs:q.value,actions:z.value},{default:x(()=>{var m,f,g,F,L,V;return[e("div",ue,[e("div",fe,[e("div",ge,[e("div",ye,[i(d(oe),{class:"h-8 w-8 text-blue-600"})]),e("div",xe,[s[2]||(s[2]=e("p",{class:"text-sm font-medium text-gray-500"},"Total Assigned",-1)),e("p",be,r(((m=a.stats)==null?void 0:m.total)||0),1)])])]),e("div",pe,[e("div",he,[e("div",ve,[i(d(re),{class:"h-8 w-8 text-yellow-600"})]),e("div",_e,[s[3]||(s[3]=e("p",{class:"text-sm font-medium text-gray-500"},"Pending",-1)),e("p",we,r(((f=a.stats)==null?void 0:f.pending)||0),1)])])]),e("div",ke,[e("div",Ae,[e("div",Ce,[i(d(ne),{class:"h-8 w-8 text-green-600"})]),e("div",Se,[s[4]||(s[4]=e("p",{class:"text-sm font-medium text-gray-500"},"Completed",-1)),e("p",$e,r(((g=a.stats)==null?void 0:g.completed)||0),1)])])])]),e("div",je,[e("div",Me,[e("div",Ee,[e("div",null,[s[6]||(s[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),H(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>u.value.status=t),onChange:w,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[5]||(s[5]=e("option",{value:""},"All Statuses",-1)),(n(!0),l(b,null,p(a.statusOptions,t=>(n(),l("option",{key:t,value:t},r(S(t)),9,De))),128))],544),[[Q,u.value.status]])]),e("div",null,[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Assessment Cycle",-1)),H(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>u.value.assessment_cycle_id=t),onChange:w,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[7]||(s[7]=e("option",{value:""},"All Cycles",-1)),(n(!0),l(b,null,p(a.assessmentCycles,t=>(n(),l("option",{key:t.id,value:t.id},r(t.name),9,Re))),128))],544),[[Q,u.value.assessment_cycle_id]])]),e("div",{class:"flex items-end"},[e("button",{onClick:Y,class:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Clear Filters ")])])])]),e("div",Ue,[e("div",Fe,[e("h3",Le," Assessments ("+r(((F=a.assessments)==null?void 0:F.total)||0)+") ",1)]),!((L=a.assessments)!=null&&L.data)||a.assessments.data.length===0?(n(),l("div",Ve,[i(d(ce),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s[9]||(s[9]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No Assessments Found",-1)),s[10]||(s[10]=e("p",{class:"text-gray-500"},"You don't have any assessments assigned to you yet.",-1))])):(n(),l("div",Oe,[(n(!0),l(b,null,p(((V=a.assessments)==null?void 0:V.data)||[],t=>{var O,B,N,T;return n(),l("div",{key:(t==null?void 0:t.id)||Math.random(),class:"p-6 hover:bg-gray-50 transition-colors duration-200"},[e("div",Be,[e("div",Ne,[e("div",Te,[e("div",Ie,[e("div",Pe,[e("span",He,r(G(((B=(O=t.employee)==null?void 0:O.user)==null?void 0:B.name)||"Unknown")),1)]),e("div",null,[i(d(_),{href:k("competency-assessments.by-employee",(N=t.employee)==null?void 0:N.id),class:"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline"},{default:x(()=>{var y,I;return[v(r(((I=(y=t.employee)==null?void 0:y.user)==null?void 0:I.name)||"Unknown"),1)]}),_:2},1032,["href"])])]),s[11]||(s[11]=e("span",{class:"text-gray-300"},"â€¢",-1)),e("h4",Qe,r((T=t.competency)==null?void 0:T.name),1),e("span",{class:C([J(t.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(S(t.status)),3)]),e("div",qe,[e("div",ze,[i(d(ae),{class:"w-4 h-4 mr-1"}),v(" "+r(W(t.created_at)),1)]),t.assessment_cycle?(n(),l("div",Ye,[i(d(me),{class:"w-4 h-4 mr-1"}),v(" "+r(t.assessment_cycle.name),1)])):h("",!0)]),t.rating?(n(),l("div",Ge,[s[12]||(s[12]=e("span",{class:"text-sm font-medium text-gray-700 mr-2"},"Rating:",-1)),e("div",Je,[e("div",Ke,[(n(),l(b,null,p(5,y=>i(d(le),{key:y,class:C([y<=t.rating?"text-yellow-400":"text-gray-300","h-4 w-4"])},null,8,["class"])),64))]),e("span",We,r(t.rating)+"/5",1),e("span",Xe,"("+r(K(t.rating))+")",1)])])):h("",!0),t.comments?(n(),l("div",Ze,[e("p",es,r(t.comments),1)])):h("",!0)]),e("div",ss,[i(d(_),{href:k("competency-assessments.show",t.id),class:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:x(()=>[i(d(de),{class:"w-4 h-4 mr-2"}),s[13]||(s[13]=v(" View "))]),_:2,__:[13]},1032,["href"]),t.status==="draft"?(n(),A(d(_),{key:0,href:k("competency-assessments.evaluate",t.id),class:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:x(()=>[i(d(ie),{class:"w-4 h-4 mr-2"}),s[14]||(s[14]=v(" Complete "))]),_:2,__:[14]},1032,["href"])):h("",!0)])])])}),128))])),a.assessments.links?(n(),l("div",ts,[e("div",os,[e("div",rs," Showing "+r(a.assessments.from)+" to "+r(a.assessments.to)+" of "+r(a.assessments.total)+" results ",1),e("div",ns,[(n(!0),l(b,null,p(a.assessments.links,t=>(n(),A(d(_),{key:t.label,href:t.url,class:C(["px-3 py-2 text-sm font-medium rounded-md",t.active?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))])])])):h("",!0)])]}),_:1},8,["breadcrumbs","actions"])]),_:1}))}},_s=te(as,[["__scopeId","data-v-f57a0a55"]]);export{_s as default};
