import{f as j,e as E,g as b,o as r,h as u,k as c,a as e,w as M,c as l,F as f,r as g,t as a,v as P,i as S,u as m,l as p,S as h,n as T,Q as L,K as H}from"./app-DQp60Kc9.js";import{_ as I}from"./AuthenticatedLayout-CcLSXvor.js";import{P as O}from"./PageLayout-VyL0Bxan.js";import{c as Q,a as z,m as K,b as R,j as q}from"./icons-BYjoUwtB.js";import"./useAuth-D8d4bJvx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-B8I8zccY.js";import"./PageHeader-DgOu0CMU.js";import"./Icon-Dnoz2uc8.js";/* empty css                                                             *//* empty css                                                                   *//* empty css                                                                   */const G={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},J={class:"p-6"},W={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},X=["value"],Y=["value"],Z={class:"bg-white rounded-lg shadow-sm border border-gray-200"},ee={class:"px-6 py-4 border-b border-gray-200"},se={class:"text-lg font-medium text-gray-900"},te={key:0,class:"p-12 text-center"},oe={key:1,class:"divide-y divide-gray-200"},re={class:"flex items-center justify-between"},ne={class:"flex items-center space-x-4"},ae={class:"flex-shrink-0"},le={class:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center"},ie={class:"text-sm font-medium text-blue-600"},de={class:"flex-1 min-w-0"},me={class:"flex items-center space-x-2"},ce={class:"text-lg font-medium text-gray-900 truncate"},ue={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},fe={class:"mt-1"},ge={class:"text-sm text-gray-600"},pe={class:"text-sm text-gray-500 mt-1"},ye={key:0},be={class:"flex items-center space-x-3"},he={key:1,class:"inline-flex items-center px-3 py-2 text-sm text-gray-500 italic"},xe={key:2,class:"px-6 py-3 border-t border-gray-200"},ve={class:"flex items-center justify-between"},_e={class:"text-sm text-gray-700"},we={class:"flex space-x-1"},Fe={__name:"Pending",props:{assessments:Object,employees:Array,competencies:Array,filters:Object},setup(i){var v,_;const x=i,$=j(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Assessment Dashboard",href:route("assessment-dashboard")},{label:"Pending Assessments",href:null}]),D=j(()=>[{label:"Back to Dashboard",href:route("assessment-dashboard"),icon:Q,variant:"secondary"},{label:"New Assessment",href:route("competency-assessments.create"),icon:z,variant:"primary"}]),d=E({employee_id:((v=x.filters)==null?void 0:v.employee_id)||"",competency_id:((_=x.filters)==null?void 0:_.competency_id)||""}),y=()=>{L.get(route("competency-assessments.pending"),d.value,{preserveState:!0,preserveScroll:!0})},N=()=>{d.value={employee_id:"",competency_id:""},y()},U=n=>{var t;try{const o=(t=H().props.auth)==null?void 0:t.user;return o?n.assessment_type==="self"?o.id===n.employee.user_id:o.id===n.assessor_id:!1}catch(s){return console.error("Error checking assessment permissions:",s),!1}},V=n=>({self:"Self Assessment",manager:"Manager Assessment",peer:"Peer Assessment",360:"360Â° Feedback"})[n]||n,F=n=>{const t=new Date,s=new Date(n),o=Math.floor((t-s)/(1e3*60));return o<1?"just now":o<60?`${o} minutes ago`:o<1440?`${Math.floor(o/60)} hours ago`:`${Math.floor(o/1440)} days ago`},B=n=>n.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().slice(0,2);return(n,t)=>(r(),b(I,null,{default:u(()=>[c(O,{title:"Pending Assessments",subtitle:"Assessments waiting to be completed",breadcrumbs:$.value,actions:D.value},{default:u(()=>[e("div",G,[e("div",J,[e("div",W,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Employee",-1)),M(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value.employee_id=s),onChange:y,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[t[2]||(t[2]=e("option",{value:""},"All Employees",-1)),(r(!0),l(f,null,g(i.employees,s=>{var o;return r(),l("option",{key:s.id,value:s.id},a(((o=s.user)==null?void 0:o.name)||"Unknown"),9,X)}),128))],544),[[P,d.value.employee_id]])]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Competency",-1)),M(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value.competency_id=s),onChange:y,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[t[4]||(t[4]=e("option",{value:""},"All Competencies",-1)),(r(!0),l(f,null,g(i.competencies,s=>(r(),l("option",{key:s.id,value:s.id},a(s.name),9,Y))),128))],544),[[P,d.value.competency_id]])]),e("div",{class:"flex items-end"},[e("button",{onClick:N,class:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Clear Filters ")])])])]),e("div",Z,[e("div",ee,[e("h3",se," Pending Assessments ("+a(i.assessments.total)+") ",1)]),i.assessments.data.length===0?(r(),l("div",te,[c(m(K),{class:"w-12 h-12 text-green-500 mx-auto mb-4"}),t[6]||(t[6]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No Pending Assessments",-1)),t[7]||(t[7]=e("p",{class:"text-gray-500"},"All assessments have been completed.",-1))])):(r(),l("div",oe,[(r(!0),l(f,null,g(i.assessments.data,s=>{var o,w,k,A,C;return r(),l("div",{key:s.id,class:"p-6 hover:bg-gray-50 transition-colors duration-200"},[e("div",re,[e("div",ne,[e("div",ae,[e("div",le,[e("span",ie,a(B(((w=(o=s.employee)==null?void 0:o.user)==null?void 0:w.name)||"Unknown")),1)])]),e("div",de,[e("div",me,[e("h4",ce,a(((A=(k=s.employee)==null?void 0:k.user)==null?void 0:A.name)||"Unknown"),1),e("span",ue,a(V(s.assessment_type)),1)]),e("div",fe,[e("p",ge,[t[8]||(t[8]=e("span",{class:"font-medium"},"Competency:",-1)),p(" "+a((C=s.competency)==null?void 0:C.name),1)]),e("p",pe,[p(" Created "+a(F(s.created_at))+" ",1),s.assessor?(r(),l("span",ye," by "+a(s.assessor.name),1)):S("",!0)])])])]),e("div",be,[c(m(h),{href:n.route("competency-assessments.show",s.id),class:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:u(()=>[c(m(R),{class:"w-4 h-4 mr-2"}),t[9]||(t[9]=p(" View "))]),_:2,__:[9]},1032,["href"]),U(s)?(r(),b(m(h),{key:0,href:n.route("competency-assessments.evaluate",s.id),class:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:u(()=>[c(m(q),{class:"w-4 h-4 mr-2"}),t[10]||(t[10]=p(" Complete Assessment "))]),_:2,__:[10]},1032,["href"])):(r(),l("span",he,a(s.assessment_type==="self"?"Employee only":"Not assigned"),1))])])])}),128))])),i.assessments.links?(r(),l("div",xe,[e("div",ve,[e("div",_e," Showing "+a(i.assessments.from)+" to "+a(i.assessments.to)+" of "+a(i.assessments.total)+" results ",1),e("div",we,[(r(!0),l(f,null,g(i.assessments.links,s=>(r(),b(m(h),{key:s.label,href:s.url,class:T(["px-3 py-2 text-sm font-medium rounded-md",s.active?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])):S("",!0)])]),_:1},8,["breadcrumbs","actions"])]),_:1}))}};export{Fe as default};
