import{f as b,c as a,o as n,a as t,i as u,n as f,k as m,e as I,x as be,y as fe,z as xe,B as ve,Q as M,g as q,h as Q,t as i,d as P,w as y,l as $,u as r,b as k,F as V,r as D,v as X,q as ye}from"./app-CQaMqC4B.js";import{u as he}from"./useNotifications-D3D1rmdh.js";import{u as _e}from"./useDateUtils-DrY-Zm1S.js";import{A as we}from"./AuthenticatedLayout-y7NT1_5C.js";import{P as ke}from"./PageLayout-4ZT8uayM.js";import{I as g}from"./Icon-CqWhHsTx.js";import"./useAuth-DUC2RJTn.js";import"./icons-BNsTkdmK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-Dn2b9rlP.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-DTik6M1Q.js";import"./PageHeader-Zc81K5-X.js";/* empty css                                                                   */const je={class:"relative"},Ce=["value","disabled","placeholder","min","max"],Se={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},G={__name:"DateInput",props:{modelValue:{type:[String,Date,null],default:null},error:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},min:{type:String,default:null},max:{type:String,default:null},showCalendarIcon:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(c,{emit:d}){const U=c,j=d,T=p=>{if(!p)return"";const x=new Date(p);return isNaN(x.getTime())?"":x.toISOString().split("T")[0]},A=b(()=>T(U.modelValue)),v=p=>{const x=p.target.value;j("update:modelValue",x||null)};return(p,x)=>(n(),a("div",je,[t("input",{value:A.value,onInput:v,type:"date",class:f(["w-full px-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",c.error?"border-red-300 text-red-900":"border-gray-300",c.disabled?"bg-gray-50 text-gray-500 cursor-not-allowed":"bg-white"]),disabled:c.disabled,placeholder:c.placeholder,min:c.min,max:c.max},null,42,Ce),c.showCalendarIcon?(n(),a("div",Se,[m(g,{name:"calendar",class:"w-4 h-4 text-gray-400"})])):u("",!0)]))}},Me={key:0,class:"mb-6"},Pe={class:"flex items-center"},Ve={class:"font-medium"},De={class:"text-sm opacity-90 mt-1"},Ue={class:"bg-white rounded-lg shadow-sm overflow-hidden"},Ie={class:"px-6 py-6 border-b border-gray-200"},$e={class:"flex items-center mb-6"},Te={class:"flex-shrink-0 w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center"},Ae={class:"space-y-6"},Ee={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ne=["disabled"],Le={key:0,class:"mt-1 text-sm text-red-600"},Be=["disabled"],Oe={key:0,class:"mt-1 text-sm text-red-600"},ze=["disabled"],Fe={key:0,class:"mt-1 text-sm text-red-600"},He={class:"px-6 py-6 border-b border-gray-200"},qe={class:"flex items-center mb-6"},Qe={class:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"},Xe={class:"space-y-6"},Ge={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Je=["disabled"],Re=["value"],Ke={key:0,class:"mt-1 text-sm text-red-600"},We=["disabled"],Ye=["value"],Ze={key:0,class:"mt-1 text-sm text-red-600"},et={class:"relative"},tt=["disabled"],st={key:0,class:"mt-1 text-sm text-red-600"},rt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ot={key:0,class:"mt-1 text-sm text-red-600"},lt={key:0,class:"mt-1 text-sm text-red-600"},nt={key:1,class:"mt-1 text-xs text-gray-500"},at={key:0,class:"text-red-600"},it={key:1},dt={class:"bg-gray-50 rounded-lg p-4 border border-gray-200"},ut={class:"flex items-center justify-between mb-3"},ct={class:"flex items-center space-x-2"},mt=["disabled"],gt={class:"relative"},pt={class:"mt-3 flex items-center justify-between"},bt={class:"flex items-center space-x-2"},ft={class:"text-xs text-gray-500"},xt={key:0,class:"mt-1 text-sm text-red-600"},vt={class:"px-6 py-6"},yt={class:"flex items-center mb-6"},ht={class:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center"},_t={class:"space-y-6"},wt={key:0,class:"mb-3"},kt={class:"flex flex-wrap gap-2"},jt={class:"w-6 h-6 bg-indigo-200 rounded-full flex items-center justify-center mr-2 text-xs font-medium"},Ct={class:"font-medium"},St=["onClick","disabled"],Mt={class:"relative"},Pt=["disabled"],Vt={class:"text-gray-500"},Dt={class:"sticky top-0 bg-white px-3 py-2 border-b border-gray-200"},Ut=["onClick"],It={class:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center mr-3 text-sm font-medium text-gray-600 flex-shrink-0"},$t={class:"flex-1 min-w-0"},Tt={class:"font-medium text-gray-900 truncate"},At={class:"text-sm text-gray-500 truncate"},Et={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 flex-shrink-0"},Nt={key:0,class:"px-3 py-2 text-sm text-gray-500 text-center"},Lt={key:1,class:"mt-1 text-sm text-red-600"},Bt={key:0,class:"mb-3"},Ot={class:"inline-flex items-center px-3 py-2 rounded-lg bg-blue-50 border border-blue-200"},zt={class:"w-8 h-8 bg-blue-200 rounded-full flex items-center justify-center mr-3 text-sm font-medium text-blue-800"},Ft={class:"font-medium text-blue-900"},Ht={class:"text-sm text-blue-700"},qt=["disabled"],Qt={class:"relative"},Xt=["disabled"],Gt={class:"sticky top-0 bg-white px-3 py-2 border-b border-gray-200"},Jt={class:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center mr-3"},Rt=["onClick"],Kt={class:"w-8 h-8 bg-blue-200 rounded-full flex items-center justify-center mr-3 text-sm font-medium text-blue-800 flex-shrink-0"},Wt={class:"flex-1 min-w-0"},Yt={class:"font-medium text-gray-900 truncate"},Zt={class:"text-sm text-gray-500 truncate"},es={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 flex-shrink-0"},ts={key:0,class:"px-3 py-2 text-sm text-gray-500 text-center"},ss={key:1,class:"mt-1 text-sm text-red-600"},rs={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center"},os=["disabled"],ls={class:"flex items-center space-x-3"},ns=["disabled"],as=["disabled"],is={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ws={__name:"Edit",props:{project:{type:Object,required:!0},users:{type:Array,default:()=>[]},managers:{type:Array,default:()=>[]}},setup(c){var H;const d=c,{showNotification:U}=he(),{formatDateForInput:j,isDateInPast:T,daysBetween:A}=_e(),v=I(!1),p=I(!1),x=I(""),h=I(""),J=(o,e)=>{if(!o||!e)return"";const l=A(o,e);if(l<0)return"Due date is before start date";if(l===0)return"Same day project";if(l===1)return"1 day duration";if(l<=7)return`${l} days duration`;if(l<=30)return`${Math.round(l/7)} weeks duration`;const w=Math.round(l/30);return`${w} month${w>1?"s":""} duration`},R=o=>{const e=parseInt(o)||0;return e===0?"bg-gray-400":e<25?"bg-red-400":e<50?"bg-yellow-400":e<75?"bg-blue-400":e<100?"bg-indigo-400":"bg-green-400"},K=o=>{const e=parseInt(o)||0;return e===0?"text-gray-600":e<25?"text-red-600":e<50?"text-yellow-600":e<75?"text-blue-600":e<100?"text-indigo-600":"text-green-600"},W=o=>{const e=parseInt(o)||0;return e===0?"Not Started":e<25?"Just Started":e<50?"In Progress":e<75?"Good Progress":e<100?"Nearly Complete":"Completed"},Y=o=>{const e=parseInt(o)||0;return e===0?"Project not yet started":e<25?"Early stages":e<50?"Making steady progress":e<75?"More than halfway done":e<100?"Almost finished":"Project complete"},Z=o=>{let e=parseInt(o.target.value)||0;e=Math.max(0,Math.min(100,e)),s.progress=e,s.clearErrors("progress")},ee=o=>{if(s.processing)return;const e=o.currentTarget.getBoundingClientRect(),l=o.clientX-e.left,w=Math.round(l/e.width*100);s.progress=Math.max(0,Math.min(100,w)),s.clearErrors("progress")},s=be({name:d.project.name||"",description:d.project.description||"",client:d.project.client||"",status:d.project.status||"planning",priority:d.project.priority||"medium",budget:d.project.budget||"",start_date:j(d.project.start_date),due_date:j(d.project.due_date),progress:Number(d.project.progress)||0,team_members:((H=d.project.team_members)==null?void 0:H.map(o=>o.id))||[],manager_id:d.project.manager_id||""});fe(()=>d.project,o=>{var e;o&&(s.name=o.name||"",s.description=o.description||"",s.client=o.client||"",s.status=o.status||"planning",s.priority=o.priority||"medium",s.budget=o.budget||"",s.start_date=j(o.start_date),s.due_date=j(o.due_date),s.progress=Number(o.progress)||0,s.team_members=((e=o.team_members)==null?void 0:e.map(l=>l.id))||[],s.manager_id=o.manager_id||"",s.clearErrors())},{immediate:!0}),xe(()=>{document.addEventListener("click",F)}),ve(()=>{document.removeEventListener("click",F)});const te=b(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Projects",href:route("projects.index")},{label:d.project.name,href:route("projects.show",d.project.id)},{label:"Edit",current:!0}]),C=b(()=>Number(s.progress)||0),L=b(()=>[{id:"view",label:"View Project",icon:"eye",variant:"secondary",handler:()=>M.visit(route("projects.show",d.project.id))}]);b(()=>[{id:"cancel",label:"Cancel",variant:"secondary",handler:()=>M.visit(route("projects.show",d.project.id))},{id:"save",label:"Update Project",type:"submit",variant:"primary",loadingLabel:"Updating...",disabled:!s.name}]);const se=b(()=>[{value:"planning",label:"Planning"},{value:"active",label:"Active"},{value:"on_hold",label:"On Hold"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}]),re=b(()=>[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}]),E=b(()=>d.users.map(o=>({value:o.id,label:o.name,description:o.email}))),N=b(()=>d.managers.map(o=>({value:o.id,label:o.name,description:o.email}))),S=b(()=>E.value.filter(o=>s.team_members.includes(o.value))),_=b(()=>N.value.find(o=>o.value===s.manager_id)||null),B=b(()=>{if(!x.value)return E.value;const o=x.value.toLowerCase();return E.value.filter(e=>e.label.toLowerCase().includes(o)||e.description.toLowerCase().includes(o))}),O=b(()=>{if(!h.value)return N.value;const o=h.value.toLowerCase();return N.value.filter(e=>e.label.toLowerCase().includes(o)||e.description.toLowerCase().includes(o))}),oe=o=>{const e={planning:"bg-blue-50 border-blue-400 text-blue-800",active:"bg-green-50 border-green-400 text-green-800",on_hold:"bg-yellow-50 border-yellow-400 text-yellow-800",completed:"bg-indigo-50 border-indigo-400 text-indigo-800",cancelled:"bg-red-50 border-red-400 text-red-800"};return e[o]||e.planning},le=o=>({planning:"clock",active:"play",on_hold:"pause",completed:"check-circle",cancelled:"x-circle"})[o]||"clock",ne=o=>({planning:"Planning",active:"Active",on_hold:"On Hold",completed:"Completed",cancelled:"Cancelled"})[o]||"Unknown",ae=o=>({planning:"Project is in the planning phase",active:"Project is currently active and in progress",on_hold:"Project has been temporarily paused",completed:"Project has been successfully completed",cancelled:"Project has been cancelled"})[o]||"Status information not available",ie=o=>{const e=L.value.find(l=>l.id===o);e&&e.handler&&e.handler()},de=o=>{o.stopPropagation(),v.value=!v.value,v.value&&(p.value=!1,x.value="")},ue=o=>{o.stopPropagation(),p.value=!p.value,p.value&&(v.value=!1,h.value="")},ce=o=>s.team_members.includes(o),me=o=>{const e=s.team_members.indexOf(o.value);e>-1?s.team_members.splice(e,1):s.team_members.push(o.value),s.clearErrors("team_members")},ge=o=>{const e=s.team_members.indexOf(o);e>-1&&s.team_members.splice(e,1),s.clearErrors("team_members")},z=o=>{s.manager_id=o?o.value:"",p.value=!1,h.value="",s.clearErrors("manager_id")},F=()=>{v.value=!1,p.value=!1,x.value="",h.value=""},pe=()=>{const o=parseInt(s.progress)||0;s.progress=o,console.log("Submitting form with progress:",o),s.put(route("projects.update",d.project.id),{onSuccess:()=>{U({type:"success",title:"Project Updated",message:"Project has been updated successfully."}),M.visit(route("projects.show",d.project.id))},onError:e=>{console.log("Form submission errors:",e),U({type:"error",title:"Update Failed",message:"Please check the form for errors and try again."})}})};return(o,e)=>(n(),q(we,null,{default:Q(()=>[m(ke,{title:"Edit Project",subtitle:`Update details for ${c.project.name}`,breadcrumbs:te.value,actions:L.value,onAction:ie},{default:Q(()=>[c.project.status?(n(),a("div",Me,[t("div",{class:f([oe(c.project.status),"rounded-lg p-4 border-l-4"])},[t("div",Pe,[m(g,{name:le(c.project.status),class:"w-5 h-5 mr-3"},null,8,["name"]),t("div",null,[t("h4",Ve,"Project Status: "+i(ne(c.project.status)),1),t("p",De,i(ae(c.project.status)),1)])])],2)])):u("",!0),t("div",Ue,[t("form",{onSubmit:P(pe,["prevent"]),class:"space-y-8"},[t("div",Ie,[t("div",$e,[t("div",Te,[m(g,{name:"information-circle",class:"w-5 h-5 text-indigo-600"})]),e[19]||(e[19]=t("div",{class:"ml-4"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Basic Information"),t("p",{class:"text-sm text-gray-500"},"Essential project details and description")],-1))]),t("div",Ae,[t("div",Ee,[t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[$(" Project Name "),t("span",{class:"text-red-500"},"*")],-1)),y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>r(s).name=l),type:"text",placeholder:"Enter project name",class:f(["w-full px-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",r(s).errors.name?"border-red-300 text-red-900 placeholder-red-300":"border-gray-300"]),disabled:r(s).processing,required:""},null,10,Ne),[[k,r(s).name]]),r(s).errors.name?(n(),a("p",Le,i(r(s).errors.name),1)):u("",!0)]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Client",-1)),y(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>r(s).client=l),type:"text",placeholder:"Enter client name",class:f(["w-full px-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",r(s).errors.client?"border-red-300 text-red-900 placeholder-red-300":"border-gray-300"]),disabled:r(s).processing},null,10,Be),[[k,r(s).client]]),r(s).errors.client?(n(),a("p",Oe,i(r(s).errors.client),1)):u("",!0)])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),y(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=l=>r(s).description=l),placeholder:"Describe the project objectives, deliverables, and key requirements...",rows:"4",class:f(["w-full px-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",r(s).errors.description?"border-red-300 text-red-900 placeholder-red-300":"border-gray-300"]),disabled:r(s).processing},null,10,ze),[[k,r(s).description]]),r(s).errors.description?(n(),a("p",Fe,i(r(s).errors.description),1)):u("",!0)])])]),t("div",He,[t("div",qe,[t("div",Qe,[m(g,{name:"cog",class:"w-5 h-5 text-blue-600"})]),e[23]||(e[23]=t("div",{class:"ml-4"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Project Details"),t("p",{class:"text-sm text-gray-500"},"Timeline, priority, and status information")],-1))]),t("div",Xe,[t("div",Ge,[t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),y(t("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>r(s).status=l),class:f(["w-full px-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",r(s).errors.status?"border-red-300":"border-gray-300"]),disabled:r(s).processing},[e[24]||(e[24]=t("option",{value:""},"Select status",-1)),(n(!0),a(V,null,D(se.value,l=>(n(),a("option",{key:l.value,value:l.value},i(l.label),9,Re))),128))],10,Je),[[X,r(s).status]]),r(s).errors.status?(n(),a("p",Ke,i(r(s).errors.status),1)):u("",!0)]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Priority",-1)),y(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>r(s).priority=l),class:f(["w-full px-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",r(s).errors.priority?"border-red-300":"border-gray-300"]),disabled:r(s).processing},[e[26]||(e[26]=t("option",{value:""},"Select priority",-1)),(n(!0),a(V,null,D(re.value,l=>(n(),a("option",{key:l.value,value:l.value},i(l.label),9,Ye))),128))],10,We),[[X,r(s).priority]]),r(s).errors.priority?(n(),a("p",Ze,i(r(s).errors.priority),1)):u("",!0)]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Budget",-1)),t("div",et,[e[28]||(e[28]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),y(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>r(s).budget=l),type:"number",placeholder:"0.00",class:f(["w-full pl-7 pr-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",r(s).errors.budget?"border-red-300":"border-gray-300"]),disabled:r(s).processing,step:"0.01",min:"0"},null,10,tt),[[k,r(s).budget]])]),r(s).errors.budget?(n(),a("p",st,i(r(s).errors.budget),1)):u("",!0)])]),t("div",rt,[t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Start Date",-1)),m(G,{modelValue:r(s).start_date,"onUpdate:modelValue":e[6]||(e[6]=l=>r(s).start_date=l),error:!!r(s).errors.start_date,disabled:r(s).processing,"show-calendar-icon":""},null,8,["modelValue","error","disabled"]),r(s).errors.start_date?(n(),a("p",ot,i(r(s).errors.start_date),1)):u("",!0)]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Due Date",-1)),m(G,{modelValue:r(s).due_date,"onUpdate:modelValue":e[7]||(e[7]=l=>r(s).due_date=l),error:!!r(s).errors.due_date,disabled:r(s).processing,min:r(s).start_date,"show-calendar-icon":""},null,8,["modelValue","error","disabled","min"]),r(s).errors.due_date?(n(),a("p",lt,i(r(s).errors.due_date),1)):r(s).due_date?(n(),a("div",nt,[r(T)(r(s).due_date)?(n(),a("span",at," ⚠️ Due date is in the past ")):r(s).start_date&&r(s).due_date?(n(),a("span",it,i(J(r(s).start_date,r(s).due_date)),1)):u("",!0)])):u("",!0)])]),t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Progress",-1)),t("div",dt,[t("div",ut,[e[33]||(e[33]=t("span",{class:"text-sm text-gray-600"},"Project Completion",-1)),t("div",ct,[y(t("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>r(s).progress=l),type:"number",min:"0",max:"100",class:"w-16 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-indigo-500 focus:border-indigo-500 text-center font-medium",disabled:r(s).processing,onInput:Z},null,40,mt),[[k,r(s).progress,void 0,{number:!0}]]),e[32]||(e[32]=t("span",{class:"text-sm text-gray-500 font-medium"},"%",-1))])]),t("div",gt,[t("div",{class:"w-full bg-gray-200 rounded-full h-3 cursor-pointer",onClick:ee},[t("div",{class:"bg-gradient-to-r from-indigo-500 to-indigo-600 h-3 rounded-full transition-all duration-300 shadow-sm",style:ye({width:`${C.value}%`})},null,4)]),e[34]||(e[34]=t("div",{class:"flex justify-between mt-2 text-xs text-gray-400"},[t("span",null,"0%"),t("span",null,"25%"),t("span",null,"50%"),t("span",null,"75%"),t("span",null,"100%")],-1))]),t("div",pt,[t("div",bt,[t("div",{class:f([R(C.value),"w-2 h-2 rounded-full"])},null,2),t("span",{class:f(["text-sm font-medium",K(C.value)])},i(W(C.value)),3)]),t("span",ft,i(Y(C.value)),1)])]),r(s).errors.progress?(n(),a("p",xt,i(r(s).errors.progress),1)):u("",!0)])])]),t("div",vt,[t("div",yt,[t("div",ht,[m(g,{name:"users",class:"w-5 h-5 text-green-600"})]),e[36]||(e[36]=t("div",{class:"ml-4"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Team Assignment"),t("p",{class:"text-sm text-gray-500"},"Assign team members and project manager")],-1))]),t("div",_t,[t("div",null,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Team Members",-1)),S.value.length>0?(n(),a("div",wt,[t("div",kt,[(n(!0),a(V,null,D(S.value,l=>(n(),a("div",{key:l.value,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-800 border border-indigo-200"},[t("div",jt,i(l.label.charAt(0).toUpperCase()),1),t("span",Ct,i(l.label),1),t("button",{type:"button",onClick:w=>ge(l.value),disabled:r(s).processing,class:"ml-2 inline-flex items-center justify-center w-4 h-4 rounded-full text-indigo-600 hover:bg-indigo-200 hover:text-indigo-800 focus:outline-none focus:bg-indigo-200"},[m(g,{name:"x",class:"w-3 h-3"})],8,St)]))),128))])])):u("",!0),t("div",Mt,[t("button",{type:"button",onClick:de,disabled:r(s).processing,class:f(["w-full px-3 py-2 border rounded-md shadow-sm text-left focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm flex items-center justify-between",r(s).errors.team_members?"border-red-300":"border-gray-300",r(s).processing?"bg-gray-50 cursor-not-allowed":"bg-white hover:bg-gray-50"])},[t("span",Vt,i(S.value.length>0?`${S.value.length} member${S.value.length>1?"s":""} selected`:"Select team members"),1),m(g,{name:v.value?"chevron-up":"chevron-down",class:"w-4 h-4 text-gray-400"},null,8,["name"])],10,Pt),v.value?(n(),a("div",{key:0,onClick:e[11]||(e[11]=P(()=>{},["stop"])),class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},[t("div",Dt,[y(t("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>x.value=l),type:"text",placeholder:"Search team members...",class:"w-full px-3 py-1 border border-gray-300 rounded-md text-sm focus:ring-indigo-500 focus:border-indigo-500",onClick:e[10]||(e[10]=P(()=>{},["stop"]))},null,512),[[k,x.value]])]),(n(!0),a(V,null,D(B.value,l=>(n(),a("div",{key:l.value,onClick:w=>me(l),class:"cursor-pointer select-none relative py-3 pl-3 pr-12 hover:bg-gray-50 flex items-center"},[t("div",It,i(l.label.charAt(0).toUpperCase()),1),t("div",$t,[t("div",Tt,i(l.label),1),t("div",At,i(l.description),1)]),ce(l.value)?(n(),a("div",Et,[m(g,{name:"check",class:"w-4 h-4 text-indigo-600"})])):u("",!0)],8,Ut))),128)),B.value.length===0?(n(),a("div",Nt," No team members found ")):u("",!0)])):u("",!0)]),r(s).errors.team_members?(n(),a("p",Lt,i(r(s).errors.team_members),1)):u("",!0)]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Project Manager",-1)),_.value?(n(),a("div",Bt,[t("div",Ot,[t("div",zt,i(_.value.label.charAt(0).toUpperCase()),1),t("div",null,[t("div",Ft,i(_.value.label),1),t("div",Ht,i(_.value.description),1)]),t("button",{type:"button",onClick:e[12]||(e[12]=l=>r(s).manager_id=""),disabled:r(s).processing,class:"ml-3 inline-flex items-center justify-center w-5 h-5 rounded-full text-blue-600 hover:bg-blue-200 focus:outline-none focus:bg-blue-200"},[m(g,{name:"x",class:"w-3 h-3"})],8,qt)])])):u("",!0),t("div",Qt,[t("button",{type:"button",onClick:ue,disabled:r(s).processing,class:f(["w-full px-3 py-2 border rounded-md shadow-sm text-left focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm flex items-center justify-between",r(s).errors.manager_id?"border-red-300":"border-gray-300",r(s).processing?"bg-gray-50 cursor-not-allowed":"bg-white hover:bg-gray-50"])},[t("span",{class:f(_.value?"text-gray-900":"text-gray-500")},i(_.value?_.value.label:"Select project manager"),3),m(g,{name:p.value?"chevron-up":"chevron-down",class:"w-4 h-4 text-gray-400"},null,8,["name"])],10,Xt),p.value?(n(),a("div",{key:0,onClick:e[16]||(e[16]=P(()=>{},["stop"])),class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},[t("div",Gt,[y(t("input",{"onUpdate:modelValue":e[13]||(e[13]=l=>h.value=l),type:"text",placeholder:"Search managers...",class:"w-full px-3 py-1 border border-gray-300 rounded-md text-sm focus:ring-indigo-500 focus:border-indigo-500",onClick:e[14]||(e[14]=P(()=>{},["stop"]))},null,512),[[k,h.value]])]),t("div",{onClick:e[15]||(e[15]=l=>z(null)),class:"cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-gray-50 flex items-center text-gray-500"},[t("div",Jt,[m(g,{name:"x",class:"w-4 h-4"})]),e[38]||(e[38]=t("div",{class:"flex-1"},[t("div",{class:"font-medium"},"No manager assigned"),t("div",{class:"text-sm text-gray-400"},"Clear manager selection")],-1))]),(n(!0),a(V,null,D(O.value,l=>(n(),a("div",{key:l.value,onClick:w=>z(l),class:"cursor-pointer select-none relative py-3 pl-3 pr-12 hover:bg-gray-50 flex items-center"},[t("div",Kt,i(l.label.charAt(0).toUpperCase()),1),t("div",Wt,[t("div",Yt,i(l.label),1),t("div",Zt,i(l.description),1)]),r(s).manager_id===l.value?(n(),a("div",es,[m(g,{name:"check",class:"w-4 h-4 text-indigo-600"})])):u("",!0)],8,Rt))),128)),O.value.length===0?(n(),a("div",ts," No managers found ")):u("",!0)])):u("",!0)]),r(s).errors.manager_id?(n(),a("p",ss,i(r(s).errors.manager_id),1)):u("",!0)])])]),t("div",rs,[t("button",{type:"button",onClick:e[17]||(e[17]=l=>r(M).visit(o.route("projects.show",c.project.id))),class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:r(s).processing},[m(g,{name:"arrow-left",class:"w-4 h-4 mr-2"}),e[40]||(e[40]=$(" Cancel "))],8,os),t("div",ls,[t("button",{type:"button",onClick:e[18]||(e[18]=l=>r(M).visit(o.route("projects.show",c.project.id))),class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:r(s).processing},[m(g,{name:"eye",class:"w-4 h-4 mr-2"}),e[41]||(e[41]=$(" View Project "))],8,ns),t("button",{type:"submit",disabled:r(s).processing||!r(s).name,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"},[r(s).processing?(n(),a("svg",is,e[42]||(e[42]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(n(),q(g,{key:1,name:"check",class:"w-4 h-4 mr-2"})),$(" "+i(r(s).processing?"Updating...":"Update Project"),1)],8,as)])])],32)])]),_:1},8,["subtitle","breadcrumbs","actions"])]),_:1}))}};export{ws as default};
