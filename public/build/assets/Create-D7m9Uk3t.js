import{x as w,f as d,Q as v,y as E,g as S,o as j,h as a,k as l,u as r,a as m}from"./app-0UYT9bz0.js";import{_ as C}from"./AuthenticatedLayout-8-YeGYWc.js";import{P as F}from"./PageLayout-2vMSn_F-.js";import{F as D,a as p}from"./FormSection-X46ldzI1.js";import{F as i}from"./FormField-D_DLdsYt.js";import{B as n}from"./BaseInput-D5S0voFN.js";import{B as u}from"./BaseSelect-xdQuFSks.js";import{e as U}from"./Icon-BgdpCJZn.js";import"./useAuth-CdoFcW_5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-DT2TQHsW.js";import"./useAccessibility-DWkrxnoI.js";import"./PageHeader-CPGflfgw.js";/* empty css                                                                   *//* empty css                                                                   *//* empty css                                                                  *//* empty css                                                                   */const x={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},R={__name:"Create",props:{departments:{type:Array,default:()=>[]}},setup(c){const e=w({name:"",email:"",password:"",department_id:"",job_title:"",employee_code:"",join_date:"",contract_type:""}),y=[{label:"Full-time",value:"Full-time"},{label:"Part-time",value:"Part-time"},{label:"Contract",value:"Contract"}],f=[{label:"Dashboard",href:route("dashboard")},{label:"Employees",href:route("employees.index")},{label:"Create Employee",current:!0}],b=d(()=>[{id:"cancel",label:"Cancel",variant:"secondary",handler:()=>v.visit(route("employees.index"))},{id:"save-draft",label:"Save as Draft",variant:"ghost",handler:()=>g()},{id:"create",label:"Create Employee",type:"submit",variant:"primary",icon:U,loadingLabel:"Creating Employee...",disabled:!_.value}]),_=d(()=>e.name&&e.email&&e.password&&e.email.includes("@")),h=()=>{e.post(route("employees.store"),{onSuccess:()=>{},onError:s=>{console.error("Form submission errors:",s);const o=Object.keys(s)[0];if(o){const t=document.querySelector(`[name="${o}"]`);t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus())}}})},g=()=>{console.log("Saving as draft...")},V=()=>{if(!e.employee_code&&e.name){const s=e.name.split(" ").map(t=>t.charAt(0)).join("").toUpperCase(),o=Date.now().toString().slice(-4);e.employee_code=`EMP${s}${o}`}};return E(()=>e.name,()=>{e.name&&!e.employee_code&&V()}),e.join_date||(e.join_date=new Date().toISOString().split("T")[0]),(s,o)=>(j(),S(C,null,{default:a(()=>[l(F,{title:"Create Employee",subtitle:"Add a new employee to your organization",breadcrumbs:f},{default:a(()=>[l(D,{title:"Employee Information",description:"Enter the basic information for the new employee",actions:b.value,errors:r(e).errors,"is-submitting":r(e).processing,variant:"card",onSubmit:h},{default:a(()=>[l(p,{title:"Personal Information",description:"Basic personal details of the employee"},{default:a(()=>[m("div",x,[l(i,{label:"Full Name",required:"",error:r(e).errors.name,help:"Enter the employee's full name as it appears on official documents"},{default:a(()=>[l(n,{modelValue:r(e).name,"onUpdate:modelValue":o[0]||(o[0]=t=>r(e).name=t),type:"text",placeholder:"John Doe",error:!!r(e).errors.name,required:""},null,8,["modelValue","error"])]),_:1},8,["error"]),l(i,{label:"Email Address",required:"",error:r(e).errors.email,help:"This will be used for login and communication"},{default:a(()=>[l(n,{modelValue:r(e).email,"onUpdate:modelValue":o[1]||(o[1]=t=>r(e).email=t),type:"email",placeholder:"john.doe@company.com",error:!!r(e).errors.email,required:""},null,8,["modelValue","error"])]),_:1},8,["error"]),l(i,{label:"Password",required:"",error:r(e).errors.password,help:"Temporary password for the employee's first login"},{default:a(()=>[l(n,{modelValue:r(e).password,"onUpdate:modelValue":o[2]||(o[2]=t=>r(e).password=t),type:"password",placeholder:"Enter temporary password",error:!!r(e).errors.password,required:""},null,8,["modelValue","error"])]),_:1},8,["error"]),l(i,{label:"Employee Code",error:r(e).errors.employee_code,help:"Unique identifier for the employee (optional)"},{default:a(()=>[l(n,{modelValue:r(e).employee_code,"onUpdate:modelValue":o[3]||(o[3]=t=>r(e).employee_code=t),type:"text",placeholder:"EMP001",error:!!r(e).errors.employee_code},null,8,["modelValue","error"])]),_:1},8,["error"])])]),_:1}),l(p,{title:"Employment Details",description:"Job-related information and organizational structure"},{default:a(()=>[m("div",T,[l(i,{label:"Department",error:r(e).errors.department_id,help:"Select the department this employee belongs to"},{default:a(()=>[l(u,{modelValue:r(e).department_id,"onUpdate:modelValue":o[4]||(o[4]=t=>r(e).department_id=t),options:c.departments,"option-label":"name","option-value":"id",error:!!r(e).errors.department_id,placeholder:"Select department"},null,8,["modelValue","options","error"])]),_:1},8,["error"]),l(i,{label:"Job Title",error:r(e).errors.job_title,help:"The employee's position or role in the organization"},{default:a(()=>[l(n,{modelValue:r(e).job_title,"onUpdate:modelValue":o[5]||(o[5]=t=>r(e).job_title=t),type:"text",placeholder:"Software Developer",error:!!r(e).errors.job_title},null,8,["modelValue","error"])]),_:1},8,["error"]),l(i,{label:"Contract Type",error:r(e).errors.contract_type,help:"Type of employment contract"},{default:a(()=>[l(u,{modelValue:r(e).contract_type,"onUpdate:modelValue":o[6]||(o[6]=t=>r(e).contract_type=t),options:y,error:!!r(e).errors.contract_type,placeholder:"Select contract type"},null,8,["modelValue","error"])]),_:1},8,["error"]),l(i,{label:"Join Date",error:r(e).errors.join_date,help:"The date when the employee started working"},{default:a(()=>[l(n,{modelValue:r(e).join_date,"onUpdate:modelValue":o[7]||(o[7]=t=>r(e).join_date=t),type:"date",error:!!r(e).errors.join_date},null,8,["modelValue","error"])]),_:1},8,["error"])])]),_:1})]),_:1},8,["actions","errors","is-submitting"])]),_:1})]),_:1}))}};export{R as default};
