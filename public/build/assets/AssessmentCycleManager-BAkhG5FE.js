import{e as k,x as Qe,f as R,y as Re,z as Ye,g as G,o as d,h as g,k as a,u as o,a as e,l as p,t as u,d as D,c as m,F as T,r as z,n as A,w,j as O,p as ge,i as _,J as Se,b as Me,v as Ue,B as Je,S as Pe,q as ye,s as Xe,Q as j}from"./app-CD_8HIYH.js";import{l as Ke}from"./lodash-Ciqi1P7i.js";import{r as Be,_ as Ze}from"./AuthenticatedLayout-BGBW0z2H.js";import{h as ae,g as _e,f as be,s as es,k as Fe,a as Z,t as Le,q as ee,u as ss,v as ts,w as os,j as Ae,e as Ve,x as De,y as ns,r as as,i as qe,p as Te}from"./Icon-ByGqdxmu.js";import{_ as Ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                   *//* empty css                                                                   */import{P as he}from"./PrimaryButton-Bs3D1-N9.js";import{_ as se}from"./SecondaryButton-xNZnIK5F.js";import{_ as ls}from"./ConfirmationModal-rSLLRG-w.js";import{F as q}from"./FormField-DnQ_MS0q.js";import{B as fe}from"./BaseInput-CoyHda86.js";import{B as is}from"./BaseTextarea--H15a9Ra.js";import{Y as rs,h as ze,G as ds,V as cs,S as us}from"./transition-mnPuau7J.js";import{r as Ie}from"./ArrowPathIcon-B2FCTj_4.js";import{r as ms}from"./DocumentDuplicateIcon-D_4hntNg.js";import{r as ps}from"./ArrowDownTrayIcon-BmTNOhAQ.js";import"./useAuth-Ba9weNSv.js";import"./ApplicationLogo-BrFLH9Ea.js";import"./useAccessibility-BjIJ5rfL.js";/* empty css                                                                  */const vs={class:"fixed inset-0 z-10 overflow-y-auto"},gs={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ys={class:"modal-header"},fs={class:"header-content"},bs={class:"modal-subtitle"},_s={class:"modal-content"},hs={class:"step-indicator"},xs={class:"steps-list"},ws={class:"step-number"},Cs={class:"step-label"},$s={class:"form-steps"},ks={class:"form-step"},Ss={class:"form-grid"},As={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Vs={class:"assessment-types-grid"},Ds=["value"],Ms={class:"assessment-type-content"},Us={class:"assessment-type-name"},Fs={class:"assessment-type-description"},Ns={class:"form-step"},Es={class:"participant-selection"},js={class:"selection-mode"},Rs={class:"mode-options"},Ps={class:"mode-option"},Bs={class:"mode-option"},Ls={class:"mode-option"},qs={key:0,class:"department-selection"},Ts={class:"department-grid"},zs=["value"],Is={class:"department-content"},Ys={class:"department-name"},Gs={class:"department-count"},Ws={key:1,class:"individual-selection"},Hs={class:"employee-search"},Os={class:"search-input"},Qs={class:"employee-list"},Js=["value"],Xs={class:"employee-content"},Ks={class:"employee-avatar"},Zs={class:"avatar-circle"},et={class:"employee-info"},st={class:"employee-name"},tt={class:"employee-details"},ot={key:0,class:"employee-position"},nt={key:1,class:"employee-department"},at={class:"selection-summary"},lt={class:"summary-card"},it={class:"summary-header"},rt={class:"summary-content"},dt={class:"summary-count"},ct={class:"form-step"},ut={class:"competency-assignment"},mt={class:"competency-search"},pt={class:"search-input"},vt={class:"competency-categories"},gt={class:"category-header"},yt={class:"category-title"},ft=["onClick"],bt={class:"competency-grid"},_t=["value"],ht={class:"competency-content"},xt={class:"competency-name"},wt={class:"competency-description"},Ct={key:0,class:"competency-weight"},$t={class:"form-step"},kt={class:"notification-settings"},St={class:"notification-options"},At={class:"notification-option"},Vt={class:"notification-option"},Dt={class:"notification-option"},Mt={key:0,class:"reminder-settings"},Ut={class:"reminder-options"},Ft={class:"reminder-frequency"},Nt={class:"reminder-timing"},Et={class:"form-navigation"},jt={class:"nav-buttons"},Rt={key:0,class:"flex items-center"},Pt={key:1},Bt={__name:"CycleFormModal",props:{show:{type:Boolean,default:!1},cycle:{type:Object,default:null},employees:{type:Array,default:()=>[]},competencies:{type:Array,default:()=>[]}},emits:["close","save"],setup(Q,{emit:le}){const h=Q,H=le,x=k(0),$=k("all"),v=k([]),F=k([]),C=k([]),P=k(""),B=k(""),r=Qe({name:"",description:"",start_date:"",end_date:"",assessment_types:[],target_employees:[],competencies:[],notification_settings:{send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7}}),M=R(()=>!!h.cycle),b=R(()=>[{id:"basic",label:"Basic Info"},{id:"participants",label:"Participants"},{id:"competencies",label:"Competencies"},{id:"notifications",label:"Notifications"}]),W=R(()=>[{value:"self",label:"Self Assessment",description:"Employees assess their own competencies"},{value:"manager",label:"Manager Assessment",description:"Managers assess their direct reports"},{value:"peer",label:"Peer Assessment",description:"Colleagues assess each other"},{value:"360",label:"360Â° Feedback",description:"Multi-source feedback from all levels"}]),ie=R(()=>{const c=new Map;return h.employees.forEach(t=>{var l;t.department&&c.set(t.department.id,{id:t.department.id,name:t.department.name,employee_count:(((l=c.get(t.department.id))==null?void 0:l.employee_count)||0)+1})}),Array.from(c.values())}),re=R(()=>{if(!P.value)return h.employees;const c=P.value.toLowerCase();return h.employees.filter(t=>t.name.toLowerCase().includes(c)||t.position&&t.position.toLowerCase().includes(c)||t.department&&t.department.name.toLowerCase().includes(c))}),de=R(()=>{const c=new Set;return h.competencies.forEach(t=>{t.category&&c.add(t.category)}),Array.from(c).sort()}),J=R(()=>{switch($.value){case"all":return h.employees.length;case"department":return h.employees.filter(c=>c.department&&v.value.includes(c.department.id)).length;case"individual":return F.value.length;default:return 0}}),te=R(()=>{switch(x.value){case 0:return r.name&&r.start_date&&r.end_date&&r.assessment_types.length>0;case 1:return J.value>0;case 2:return C.value.length>0;case 3:return!0;default:return!1}}),ce=R(()=>r.name&&r.start_date&&r.end_date&&r.assessment_types.length>0&&J.value>0&&C.value.length>0),ue=c=>c<x.value?"completed":c===x.value?"active":"pending",me=()=>{x.value<b.value.length-1&&x.value++},xe=()=>{x.value>0&&x.value--},we=c=>c.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().slice(0,2),oe=c=>{const t=h.competencies.filter(l=>l.category===c);if(B.value){const l=B.value.toLowerCase();return t.filter(y=>y.name.toLowerCase().includes(l)||y.description&&y.description.toLowerCase().includes(l))}return t},pe=c=>{const t=oe(c);return t.length>0&&t.every(l=>C.value.includes(l.id))},X=c=>{const t=oe(c);pe(c)?t.forEach(y=>{const I=C.value.indexOf(y.id);I>-1&&C.value.splice(I,1)}):t.forEach(y=>{C.value.includes(y.id)||C.value.push(y.id)})},ve=()=>{let c=[];switch($.value){case"all":c=h.employees.map(t=>t.id);break;case"department":c=h.employees.filter(t=>t.department&&v.value.includes(t.department.id)).map(t=>t.id);break;case"individual":c=F.value;break}r.target_employees=c,r.competencies=C.value,H("save",r.data())};Re(()=>h.show,c=>{c&&ne()}),Re(()=>h.cycle,c=>{c&&N(c)});const ne=()=>{x.value=0,$.value="all",v.value=[],F.value=[],C.value=[],P.value="",B.value="",h.cycle?N(h.cycle):(r.reset(),r.notification_settings={send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7})},N=c=>{r.name=c.name||"",r.description=c.description||"",r.start_date=c.start_date||"",r.end_date=c.end_date||"",r.assessment_types=c.assessment_types||[],r.notification_settings=c.notification_settings||{send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7},c.target_employees&&(F.value=c.target_employees,$.value="individual"),c.competencies&&(C.value=c.competencies)};return Ye(()=>{h.cycle&&N(h.cycle)}),(c,t)=>(d(),G(o(us),{as:"template",show:Q.show},{default:g(()=>[a(o(rs),{as:"div",class:"relative z-50",onClose:t[20]||(t[20]=l=>c.$emit("close"))},{default:g(()=>[a(o(ze),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>t[21]||(t[21]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1,__:[21]}),e("div",vs,[e("div",gs,[a(o(ze),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:g(()=>[a(o(ds),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl"},{default:g(()=>[e("div",ys,[e("div",fs,[a(o(cs),{as:"h3",class:"modal-title"},{default:g(()=>[p(u(M.value?"Edit Assessment Cycle":"Create Assessment Cycle"),1)]),_:1}),e("p",bs,u(M.value?"Update the assessment cycle details":"Set up a new assessment cycle for systematic competency evaluation"),1)]),e("button",{onClick:t[0]||(t[0]=l=>c.$emit("close")),class:"close-button"},[a(o(ae),{class:"w-5 h-5"})])]),e("div",_s,[e("form",{onSubmit:D(ve,["prevent"]),class:"cycle-form"},[e("div",hs,[e("div",xs,[(d(!0),m(T,null,z(b.value,(l,y)=>(d(),m("div",{key:l.id,class:A(["step-item",ue(y)])},[e("div",ws,u(y+1),1),e("div",Cs,u(l.label),1)],2))),128))])]),e("div",$s,[w(e("div",ks,[t[22]||(t[22]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Basic Information"),e("p",{class:"step-description"},"Provide the basic details for your assessment cycle")],-1)),e("div",Ss,[a(q,{label:"Cycle Name",required:!0,"error-message":o(r).errors.name,"help-text":"A descriptive name for this assessment cycle"},{default:g(()=>[a(fe,{modelValue:o(r).name,"onUpdate:modelValue":t[1]||(t[1]=l=>o(r).name=l),placeholder:"e.g., Q1 2024 Performance Review","error-message":o(r).errors.name,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),a(q,{label:"Description","error-message":o(r).errors.description,"help-text":"Optional description of the assessment cycle's purpose"},{default:g(()=>[a(is,{modelValue:o(r).description,"onUpdate:modelValue":t[2]||(t[2]=l=>o(r).description=l),placeholder:"Describe the purpose and scope of this assessment cycle...",rows:3,"error-message":o(r).errors.description},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),e("div",As,[a(q,{label:"Start Date",required:!0,"error-message":o(r).errors.start_date},{default:g(()=>[a(fe,{modelValue:o(r).start_date,"onUpdate:modelValue":t[3]||(t[3]=l=>o(r).start_date=l),type:"date","error-message":o(r).errors.start_date,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),a(q,{label:"End Date",required:!0,"error-message":o(r).errors.end_date},{default:g(()=>[a(fe,{modelValue:o(r).end_date,"onUpdate:modelValue":t[4]||(t[4]=l=>o(r).end_date=l),type:"date","error-message":o(r).errors.end_date,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"])]),a(q,{label:"Assessment Types",required:!0,"error-message":o(r).errors.assessment_types,"help-text":"Select the types of assessments to include in this cycle"},{default:g(()=>[e("div",Vs,[(d(!0),m(T,null,z(W.value,l=>(d(),m("label",{key:l.value,class:"assessment-type-option"},[w(e("input",{"onUpdate:modelValue":t[5]||(t[5]=y=>o(r).assessment_types=y),value:l.value,type:"checkbox",class:"assessment-type-checkbox"},null,8,Ds),[[O,o(r).assessment_types]]),e("div",Ms,[e("div",Us,u(l.label),1),e("div",Fs,u(l.description),1)])]))),128))])]),_:1},8,["error-message"])])],512),[[ge,x.value===0]]),w(e("div",Ns,[t[28]||(t[28]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Participant Selection"),e("p",{class:"step-description"},"Choose which employees will participate in this assessment cycle")],-1)),e("div",Es,[e("div",js,[e("div",Rs,[e("label",Ps,[w(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>$.value=l),value:"all",type:"radio",class:"mode-radio"},null,512),[[Se,$.value]]),t[23]||(t[23]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"All Employees"),e("div",{class:"mode-description"},"Include all active employees")],-1))]),e("label",Bs,[w(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>$.value=l),value:"department",type:"radio",class:"mode-radio"},null,512),[[Se,$.value]]),t[24]||(t[24]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"By Department"),e("div",{class:"mode-description"},"Select specific departments")],-1))]),e("label",Ls,[w(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>$.value=l),value:"individual",type:"radio",class:"mode-radio"},null,512),[[Se,$.value]]),t[25]||(t[25]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"Individual Selection"),e("div",{class:"mode-description"},"Choose specific employees")],-1))])])]),$.value==="department"?(d(),m("div",qs,[a(q,{label:"Select Departments","error-message":o(r).errors.departments},{default:g(()=>[e("div",Ts,[(d(!0),m(T,null,z(ie.value,l=>(d(),m("label",{key:l.id,class:"department-option"},[w(e("input",{"onUpdate:modelValue":t[9]||(t[9]=y=>v.value=y),value:l.id,type:"checkbox",class:"department-checkbox"},null,8,zs),[[O,v.value]]),e("div",Is,[e("div",Ys,u(l.name),1),e("div",Gs,u(l.employee_count||0)+" employees",1)])]))),128))])]),_:1},8,["error-message"])])):_("",!0),$.value==="individual"?(d(),m("div",Ws,[a(q,{label:"Select Employees","error-message":o(r).errors.employees},{default:g(()=>[e("div",Hs,[e("div",Os,[a(o(_e),{class:"search-icon"}),w(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>P.value=l),type:"text",placeholder:"Search employees...",class:"search-field"},null,512),[[Me,P.value]])])]),e("div",Qs,[(d(!0),m(T,null,z(re.value,l=>(d(),m("label",{key:l.id,class:"employee-option"},[w(e("input",{"onUpdate:modelValue":t[11]||(t[11]=y=>F.value=y),value:l.id,type:"checkbox",class:"employee-checkbox"},null,8,Js),[[O,F.value]]),e("div",Xs,[e("div",Ks,[e("div",Zs,u(we(l.name)),1)]),e("div",et,[e("div",st,u(l.name),1),e("div",tt,[l.position?(d(),m("span",ot,u(l.position),1)):_("",!0),l.department?(d(),m("span",nt,u(l.department.name),1)):_("",!0)])])])]))),128))])]),_:1},8,["error-message"])])):_("",!0),e("div",at,[e("div",lt,[e("div",it,[a(o(be),{class:"summary-icon"}),t[26]||(t[26]=e("h5",{class:"summary-title"},"Selected Participants",-1))]),e("div",rt,[e("div",dt,u(J.value),1),t[27]||(t[27]=e("div",{class:"summary-label"},"employees selected",-1))])])])])],512),[[ge,x.value===1]]),w(e("div",ct,[t[29]||(t[29]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Competency Assignment"),e("p",{class:"step-description"},"Select which competencies will be assessed in this cycle")],-1)),e("div",ut,[a(q,{label:"Select Competencies",required:!0,"error-message":o(r).errors.competencies,"help-text":"Choose the competencies that will be evaluated"},{default:g(()=>[e("div",mt,[e("div",pt,[a(o(_e),{class:"search-icon"}),w(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>B.value=l),type:"text",placeholder:"Search competencies...",class:"search-field"},null,512),[[Me,B.value]])])]),e("div",vt,[(d(!0),m(T,null,z(de.value,l=>(d(),m("div",{key:l,class:"category-section"},[e("div",gt,[e("h6",yt,u(l),1),e("button",{onClick:y=>X(l),type:"button",class:"category-toggle"},u(pe(l)?"Deselect All":"Select All"),9,ft)]),e("div",bt,[(d(!0),m(T,null,z(oe(l),y=>(d(),m("label",{key:y.id,class:"competency-option"},[w(e("input",{"onUpdate:modelValue":t[13]||(t[13]=I=>C.value=I),value:y.id,type:"checkbox",class:"competency-checkbox"},null,8,_t),[[O,C.value]]),e("div",ht,[e("div",xt,u(y.name),1),e("div",wt,u(y.description),1),y.weight?(d(),m("div",Ct," Weight: "+u(y.weight),1)):_("",!0)])]))),128))])]))),128))])]),_:1},8,["error-message"])])],512),[[ge,x.value===2]]),w(e("div",$t,[t[36]||(t[36]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Notification Settings"),e("p",{class:"step-description"},"Configure how participants will be notified about the assessment cycle")],-1)),e("div",kt,[a(q,{label:"Notification Preferences","help-text":"Choose when and how to notify participants"},{default:g(()=>[e("div",St,[e("label",At,[w(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>o(r).notification_settings.send_start_notification=l),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_start_notification]]),t[30]||(t[30]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Start Notification"),e("div",{class:"notification-description"},"Notify participants when the cycle begins")],-1))]),e("label",Vt,[w(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>o(r).notification_settings.send_reminders=l),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_reminders]]),t[31]||(t[31]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Reminders"),e("div",{class:"notification-description"},"Send reminder notifications for pending assessments")],-1))]),e("label",Dt,[w(e("input",{"onUpdate:modelValue":t[16]||(t[16]=l=>o(r).notification_settings.send_completion_notification=l),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_completion_notification]]),t[32]||(t[32]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Completion Notification"),e("div",{class:"notification-description"},"Notify when assessments are completed")],-1))])])]),_:1}),o(r).notification_settings.send_reminders?(d(),m("div",Mt,[a(q,{label:"Reminder Schedule","help-text":"Configure when reminders should be sent"},{default:g(()=>[e("div",Ut,[e("div",Ft,[t[34]||(t[34]=e("label",{class:"reminder-label"},"Reminder Frequency",-1)),w(e("select",{"onUpdate:modelValue":t[17]||(t[17]=l=>o(r).notification_settings.reminder_frequency=l),class:"reminder-select"},t[33]||(t[33]=[e("option",{value:"daily"},"Daily",-1),e("option",{value:"weekly"},"Weekly",-1),e("option",{value:"custom"},"Custom",-1)]),512),[[Ue,o(r).notification_settings.reminder_frequency]])]),e("div",Nt,[t[35]||(t[35]=e("label",{class:"reminder-label"},"Days Before Deadline",-1)),a(fe,{modelValue:o(r).notification_settings.reminder_days_before,"onUpdate:modelValue":t[18]||(t[18]=l=>o(r).notification_settings.reminder_days_before=l),type:"number",min:"1",max:"30",placeholder:"7"},null,8,["modelValue"])])])]),_:1})])):_("",!0)])],512),[[ge,x.value===3]])]),e("div",Et,[e("div",jt,[x.value>0?(d(),G(se,{key:0,onClick:xe,type:"button"},{default:g(()=>[a(o(es),{class:"w-4 h-4 mr-2"}),t[37]||(t[37]=p(" Previous "))]),_:1,__:[37]})):_("",!0),t[41]||(t[41]=e("div",{class:"nav-spacer"},null,-1)),a(se,{onClick:t[19]||(t[19]=l=>c.$emit("close")),type:"button"},{default:g(()=>t[38]||(t[38]=[p(" Cancel ")])),_:1,__:[38]}),x.value<b.value.length-1?(d(),G(he,{key:1,onClick:me,type:"button",disabled:!te.value},{default:g(()=>[t[39]||(t[39]=p(" Next ")),a(o(Fe),{class:"w-4 h-4 ml-2"})]),_:1,__:[39]},8,["disabled"])):(d(),G(he,{key:2,type:"submit",disabled:o(r).processing||!ce.value},{default:g(()=>[o(r).processing?(d(),m("span",Rt,[t[40]||(t[40]=e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),p(" "+u(M.value?"Updating...":"Creating..."),1)])):(d(),m("span",Pt,u(M.value?"Update Cycle":"Create Cycle"),1))]),_:1},8,["disabled"]))])])],32)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},Lt=Ge(Bt,[["__scopeId","data-v-d833f7e8"]]),qt={class:"min-h-screen bg-gray-50"},Tt={class:"bg-white border-b border-gray-200"},zt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},It={class:"py-6"},Yt={class:"flex mb-4","aria-label":"Breadcrumb"},Gt={class:"flex items-center space-x-2 text-sm"},Wt={class:"flex items-center"},Ht={class:"flex items-center"},Ot={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},Qt={class:"flex items-center space-x-3"},Jt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Xt={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},Kt={class:"p-6"},Zt={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},eo={class:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4"},so={class:"relative"},to={class:"relative"},oo={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},no={class:"relative"},ao={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},lo={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},io={class:"flex items-center space-x-3"},ro={class:"flex bg-gray-100 rounded-lg p-1 border border-gray-200"},co={key:0,class:"mt-6 pt-4 border-t border-gray-200"},uo={class:"flex flex-wrap items-center gap-3"},mo={class:"flex flex-wrap gap-2"},po={key:0,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-blue-50 text-blue-700 border border-blue-200"},vo={key:1,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-green-50 text-green-700 border border-green-200"},go={key:2,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-purple-50 text-purple-700 border border-purple-200"},yo={key:0,class:"mb-6 flex items-center justify-between"},fo={class:"text-sm text-gray-600"},bo={key:0},_o={key:1},ho={key:0,class:"text-sm text-gray-500"},xo={key:1,class:"space-y-6"},wo={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Co={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200"},$o={class:"text-center py-16 px-6"},ko={class:"text-gray-600 mb-6 max-w-md mx-auto"},So={class:"flex flex-col sm:flex-row items-center justify-center space-y-3 sm:space-y-0 sm:space-x-3"},Ao={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Vo=["onClick"],Do={class:"p-6 pb-4"},Mo={class:"flex items-start justify-between mb-3"},Uo={class:"flex-1 min-w-0"},Fo={class:"text-lg font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"},No={class:"text-sm text-gray-600 mt-1 line-clamp-2"},Eo={class:"flex items-center text-sm text-gray-500 mb-4"},jo={class:"mb-4"},Ro={class:"flex items-center justify-between mb-2"},Po={class:"text-sm text-gray-600"},Bo={class:"w-full bg-gray-200 rounded-full h-2"},Lo={class:"grid grid-cols-2 gap-4 mb-4"},qo={class:"text-center p-3 bg-gray-50 rounded-lg"},To={class:"flex items-center justify-center mb-1"},zo={class:"text-lg font-semibold text-gray-900"},Io={class:"text-center p-3 bg-gray-50 rounded-lg"},Yo={class:"flex items-center justify-center mb-1"},Go={class:"text-lg font-semibold text-gray-900"},Wo={class:"px-6 py-4 bg-gray-50 border-t border-gray-100 rounded-b-lg"},Ho={class:"flex items-center justify-between"},Oo={class:"flex items-center space-x-2"},Qo=["onClick","disabled"],Jo=["onClick","disabled"],Xo=["onClick"],Ko=["onClick"],Zo={class:"relative"},en=["onClick"],sn={key:4,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},tn={class:"divide-y divide-gray-200"},on=["onClick"],nn={class:"hidden md:grid md:grid-cols-12 md:gap-4"},an={class:"col-span-3"},ln={class:"min-w-0"},rn={class:"text-sm font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"},dn={class:"text-sm text-gray-600 mt-1 line-clamp-2"},cn={class:"col-span-2 flex items-center"},un={class:"col-span-2 flex items-center"},mn={class:"text-sm text-gray-900"},pn={class:"flex items-center"},vn={class:"col-span-2 flex items-center"},gn={class:"w-full"},yn={class:"flex items-center justify-between mb-1"},fn={class:"text-xs text-gray-600"},bn={class:"w-full bg-gray-200 rounded-full h-2"},_n={class:"col-span-2 flex items-center"},hn={class:"flex items-center text-sm text-gray-900"},xn={class:"font-medium"},wn={class:"col-span-1 flex items-center justify-end space-x-2"},Cn=["onClick","disabled"],$n=["onClick","disabled"],kn={class:"relative"},Sn=["onClick"],An={class:"md:hidden space-y-3"},Vn={class:"flex items-start justify-between"},Dn={class:"flex-1 min-w-0"},Mn={class:"text-sm font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"},Un={class:"text-sm text-gray-600 mt-1"},Fn={class:"space-y-2"},Nn={class:"flex items-center text-sm text-gray-500"},En={class:"flex items-center justify-between mb-1"},jn={class:"text-xs text-gray-600"},Rn={class:"w-full bg-gray-200 rounded-full h-2"},Pn={class:"flex items-center justify-between"},Bn={class:"flex items-center text-sm text-gray-600"},Ln={class:"flex items-center space-x-2"},qn=["onClick","disabled"],Tn=["onClick","disabled"],zn={class:"relative"},In=["onClick"],Yn={class:"menu-items"},Gn={key:3,class:"menu-divider"},Wn=["disabled"],Hn=["disabled"],On={key:1,class:"notification-overlay"},Qn={class:"notification-center"},Jn={class:"notification-icon"},Xn={class:"notification-text"},Kn={class:"notification-message"},Zn=["onClick"],ea={__name:"AssessmentCycleManager",props:{cycles:{type:Array,default:()=>[]},employees:{type:Array,default:()=>[]},competencies:{type:Array,default:()=>[]}},setup(Q){const le=Q,h=R(()=>!!(v.value.search||v.value.status||v.value.dateRange)),H=k(!1),x=k("grid"),$=k([]),v=k({search:"",status:"",dateRange:""}),F=k(null),C=k(!1),P=k(""),B=k(""),r=k("Confirm"),M=k(null),b=k({show:!1,x:0,y:0,cycle:null}),W=R(()=>{let i=[...le.cycles];if(v.value.search){const s=v.value.search.toLowerCase();i=i.filter(f=>f.name.toLowerCase().includes(s)||f.description&&f.description.toLowerCase().includes(s))}if(v.value.status&&(i=i.filter(s=>s.status===v.value.status)),v.value.dateRange){const s=new Date,f=s.getMonth(),V=s.getFullYear();i=i.filter(U=>{const Y=new Date(U.start_date),L=new Date(U.end_date);switch(v.value.dateRange){case"current":return Y.getMonth()===f&&Y.getFullYear()===V||L.getMonth()===f&&L.getFullYear()===V;case"upcoming":return Y>s;case"past":return L<s;default:return!0}})}return i}),ie=()=>{H.value=!0,j.reload({only:["cycles"],preserveScroll:!0,onFinish:()=>{H.value=!1,E("Data refreshed successfully","success")}})},re=Ke.debounce(()=>{},300),de=()=>{},J=()=>{v.value={search:"",status:"",dateRange:""}},te=i=>{j.visit(route("assessment-cycles.edit",i.id))},ce=i=>{j.visit(route("assessment-cycles.show",i.id))},ue=i=>{P.value="Start Assessment Cycle",B.value=`Are you sure you want to start "${i.name}"? This will notify all participants and begin the assessment process.`,r.value="Start Cycle",M.value=()=>{ve(i.id,"start","Assessment cycle started successfully")},C.value=!0,N()},me=i=>{P.value="Complete Assessment Cycle",B.value=`Are you sure you want to complete "${i.name}"? This action cannot be undone.`,r.value="Complete Cycle",M.value=()=>{ve(i.id,"complete","Assessment cycle completed successfully")},C.value=!0,N()},xe=i=>{j.post(route("assessment-cycles.duplicate",i.id),{},{onSuccess:()=>{E("Assessment cycle duplicated successfully","success")},onError:()=>{E("Failed to duplicate assessment cycle","error")}}),N()},we=i=>{j.post(route("assessment-cycles.send-reminders",i.id),{},{onSuccess:()=>{E("Reminders sent successfully","success")},onError:()=>{E("Failed to send reminders","error")}}),N()},oe=i=>{window.open(route("assessment-cycles.export",i.id),"_blank"),N()},pe=i=>{P.value="Delete Assessment Cycle",B.value=`Are you sure you want to delete "${i.name}"? This action cannot be undone and will remove all associated data.`,r.value="Delete",M.value=()=>{j.delete(route("assessment-cycles.destroy",i.id),{onSuccess:()=>{E("Assessment cycle deleted successfully","success")},onError:()=>{E("Failed to delete assessment cycle","error")}})},C.value=!0,N()},X=i=>{const s=new URLSearchParams({assessment_cycle_id:i.id,assessment_type:"manager"}),f=`${route("competency-assessments.create")}?${s.toString()}`;j.visit(f)},ve=(i,s,f)=>{j.post(route(`assessment-cycles.${s}`,i),{},{onSuccess:()=>{E(f,"success")},onError:()=>{E(`Failed to ${s} assessment cycle`,"error")}})},ne=(i,s)=>{s.preventDefault();const f=200,V=250,U=window.innerWidth,Y=window.innerHeight;let L=s.clientX,K=s.clientY;L+f>U&&(L=U-f-10),K+V>Y&&(K=Y-V-10),b.value={show:!0,x:Math.max(10,L),y:Math.max(10,K),cycle:i}},N=()=>{b.value.show=!1},c=()=>{showCycleModal.value=!1,F.value=null},t=i=>{const s=!!F.value,f=s?"assessment-cycles.update":"assessment-cycles.store",V=s?"put":"post",U=s?[F.value.id]:[];j[V](route(f,...U),i,{onSuccess:()=>{E(`Assessment cycle ${s?"updated":"created"} successfully`,"success"),c()},onError:()=>{E(`Failed to ${s?"update":"create"} assessment cycle`,"error")}})},l=()=>{C.value=!1,M.value&&(M.value(),M.value=null)},y=()=>{C.value=!1,M.value=null},I=i=>({planned:"Planned",active:"Active",completed:"Completed",cancelled:"Cancelled"})[i]||i,Ce=i=>({planned:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"})[i]||"bg-gray-100 text-gray-800",$e=(i,s)=>{const f=new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric"}),V=new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"});return`${f} - ${V}`},We=i=>({current:"Current Month",upcoming:"Upcoming",past:"Past Cycles"})[i]||i,ke=i=>({planned:"bg-gray-400",active:"bg-blue-500",completed:"bg-green-500",cancelled:"bg-red-500"})[i]||"bg-gray-400",Ne=()=>{try{typeof route<"u"?j.visit(route("assessment-cycles.create")):j.visit("/assessment-cycles/create")}catch(i){console.error("Navigation error:",i),window.location.href="/assessment-cycles/create"}},E=(i,s="info",f=4e3)=>{const V=Date.now(),U={id:V,message:i,type:s,visible:!0};$.value.push(U),setTimeout(()=>{Ee(V)},f)},Ee=i=>{const s=$.value.findIndex(f=>f.id===i);s>-1&&$.value.splice(s,1)},He=i=>{const s="notification-toast",f={success:"notification-success",error:"notification-error",warning:"notification-warning",info:"notification-info"};return`${s} ${f[i]||f.info}`},Oe=i=>({success:Ve,error:Te,warning:Te,info:qe})[i]||qe,je=i=>{b.value.show&&!i.target.closest(".context-menu")&&N()};return Ye(()=>{document.addEventListener("click",je),console.log("AssessmentCycleManager mounted"),console.log("Route helper available:",typeof route<"u"),typeof route<"u"?console.log("Test route generation:",route("assessment-cycles.create")):console.warn("Route helper not available - using fallback URLs")}),Je(()=>{document.removeEventListener("click",je)}),(i,s)=>(d(),G(Ze,null,{default:g(()=>{var f,V,U,Y,L,K;return[e("div",qt,[e("div",Tt,[e("div",zt,[e("div",It,[e("nav",Yt,[e("ol",Gt,[e("li",null,[a(o(Pe),{href:i.route("dashboard"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:g(()=>s[17]||(s[17]=[p(" Dashboard ")])),_:1,__:[17]},8,["href"])]),e("li",Wt,[a(o(Fe),{class:"w-4 h-4 text-gray-400 mx-2"}),a(o(Pe),{href:i.route("assessment-dashboard"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:g(()=>s[18]||(s[18]=[p(" Assessment Dashboard ")])),_:1,__:[18]},8,["href"])]),e("li",Ht,[a(o(Fe),{class:"w-4 h-4 text-gray-400 mx-2"}),s[19]||(s[19]=e("span",{class:"text-gray-900 font-medium"},"Assessment Cycles",-1))])])]),e("div",Ot,[s[22]||(s[22]=e("div",{class:"mb-4 sm:mb-0"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"Assessment Cycle Manager"),e("p",{class:"mt-1 text-sm text-gray-600"},"Create and manage assessment cycles for systematic competency evaluation")],-1)),e("div",Qt,[a(se,{onClick:ie,disabled:H.value},{default:g(()=>[a(o(Ie),{class:"w-4 h-4 mr-2"}),s[20]||(s[20]=p(" Refresh "))]),_:1,__:[20]},8,["disabled"]),a(he,{onClick:Ne},{default:g(()=>[a(o(Z),{class:"w-4 h-4 mr-2"}),s[21]||(s[21]=p(" New Assessment Cycle "))]),_:1,__:[21]})])])])])]),e("div",Jt,[e("div",Xt,[e("div",Kt,[e("div",Zt,[e("div",eo,[e("div",so,[a(o(_e),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),w(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>v.value.search=n),type:"text",placeholder:"Search cycles...",class:"pl-10 pr-4 py-2.5 w-full sm:w-64 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",onInput:s[1]||(s[1]=(...n)=>o(re)&&o(re)(...n))},null,544),[[Me,v.value.search]])]),e("div",to,[w(e("select",{"onUpdate:modelValue":s[2]||(s[2]=n=>v.value.status=n),onChange:de,class:"appearance-none pl-10 pr-10 py-2.5 min-w-40 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900 hover:border-gray-400 cursor-pointer"},s[23]||(s[23]=[e("option",{value:""},"All Statuses",-1),e("option",{value:"planned"},"Planned",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),544),[[Ue,v.value.status]]),s[24]||(s[24]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("div",{class:"w-4 h-4 text-gray-400"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])])],-1)),e("div",oo,[a(o(Le),{class:"w-4 h-4 text-gray-400"})])]),e("div",no,[w(e("select",{"onUpdate:modelValue":s[3]||(s[3]=n=>v.value.dateRange=n),onChange:de,class:"appearance-none pl-10 pr-10 py-2.5 min-w-40 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900 hover:border-gray-400 cursor-pointer"},s[25]||(s[25]=[e("option",{value:""},"All Dates",-1),e("option",{value:"current"},"Current Month",-1),e("option",{value:"upcoming"},"Upcoming",-1),e("option",{value:"past"},"Past Cycles",-1)]),544),[[Ue,v.value.dateRange]]),e("div",ao,[a(o(ee),{class:"w-4 h-4 text-gray-400"})]),e("div",lo,[a(o(Le),{class:"w-4 h-4 text-gray-400"})])]),h.value?(d(),G(se,{key:0,onClick:J,size:"sm"},{default:g(()=>s[26]||(s[26]=[p(" Clear Filters ")])),_:1,__:[26]})):_("",!0)]),e("div",io,[s[29]||(s[29]=e("span",{class:"text-sm font-medium text-gray-700"},"View:",-1)),e("div",ro,[e("button",{onClick:s[4]||(s[4]=n=>x.value="grid"),class:A(["flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200",x.value==="grid"?"bg-white text-blue-600 shadow-sm border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[a(o(ss),{class:"w-4 h-4 mr-2"}),s[27]||(s[27]=p(" Grid "))],2),e("button",{onClick:s[5]||(s[5]=n=>x.value="list"),class:A(["flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200",x.value==="list"?"bg-white text-blue-600 shadow-sm border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[a(o(ts),{class:"w-4 h-4 mr-2"}),s[28]||(s[28]=p(" List "))],2)])])]),h.value?(d(),m("div",co,[e("div",uo,[s[31]||(s[31]=e("span",{class:"text-sm font-medium text-gray-700"},"Active filters:",-1)),e("div",mo,[v.value.search?(d(),m("span",po,[a(o(_e),{class:"w-4 h-4 mr-1.5"}),p(' "'+u(v.value.search)+'" ',1),e("button",{onClick:s[6]||(s[6]=n=>v.value.search=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-blue-200 transition-colors"},[a(o(ae),{class:"w-3 h-3"})])])):_("",!0),v.value.status?(d(),m("span",vo,[s[30]||(s[30]=e("div",{class:"w-4 h-4 mr-1.5"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),p(" "+u(I(v.value.status))+" ",1),e("button",{onClick:s[7]||(s[7]=n=>v.value.status=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-green-200 transition-colors"},[a(o(ae),{class:"w-3 h-3"})])])):_("",!0),v.value.dateRange?(d(),m("span",go,[a(o(ee),{class:"w-4 h-4 mr-1.5"}),p(" "+u(We(v.value.dateRange))+" ",1),e("button",{onClick:s[8]||(s[8]=n=>v.value.dateRange=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-purple-200 transition-colors"},[a(o(ae),{class:"w-3 h-3"})])])):_("",!0)])])])):_("",!0)])]),H.value?_("",!0):(d(),m("div",yo,[e("div",fo,[W.value.length>0?(d(),m("span",bo," Showing "+u(W.value.length)+" of "+u(le.cycles.length)+" assessment cycles ",1)):(d(),m("span",_o," No assessment cycles found "))]),W.value.length>0?(d(),m("div",ho,u(x.value==="grid"?"Grid":"List")+" view ",1)):_("",!0)])),H.value?(d(),m("div",xo,[e("div",wo,[(d(),m(T,null,z(6,n=>e("div",{key:n,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},s[32]||(s[32]=[e("div",{class:"animate-pulse space-y-4"},[e("div",{class:"flex items-center justify-between"},[e("div",{class:"h-5 bg-gray-200 rounded w-3/4"}),e("div",{class:"h-6 bg-gray-200 rounded-full w-16"})]),e("div",{class:"h-4 bg-gray-200 rounded w-full"}),e("div",{class:"h-3 bg-gray-200 rounded w-2/3"}),e("div",{class:"space-y-2"},[e("div",{class:"h-2 bg-gray-200 rounded w-full"}),e("div",{class:"h-2 bg-gray-200 rounded w-1/2"})]),e("div",{class:"flex justify-between"},[e("div",{class:"h-8 bg-gray-200 rounded w-16"}),e("div",{class:"h-8 bg-gray-200 rounded w-16"})])],-1)]))),64))])])):W.value.length===0?(d(),m("div",Co,[e("div",$o,[a(o(ee),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s[36]||(s[36]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No Assessment Cycles Found",-1)),e("p",ko,u(h.value?"No cycles match your current filters. Try adjusting your search criteria.":"Get started by creating your first assessment cycle to begin systematic competency evaluation."),1),e("div",So,[h.value?_("",!0):(d(),G(he,{key:0,onClick:Ne},{default:g(()=>[a(o(Z),{class:"w-4 h-4 mr-2"}),s[33]||(s[33]=p(" Create Assessment Cycle "))]),_:1,__:[33]})),h.value?(d(),G(se,{key:1,onClick:J},{default:g(()=>s[34]||(s[34]=[p(" Clear Filters ")])),_:1,__:[34]})):_("",!0),a(se,{onClick:ie},{default:g(()=>[a(o(Ie),{class:"w-4 h-4 mr-2"}),s[35]||(s[35]=p(" Refresh "))]),_:1,__:[35]})])])])):x.value==="grid"?(d(),m("div",Ao,[(d(!0),m(T,null,z(W.value,n=>(d(),m("div",{key:n.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md hover:border-gray-300 transition-all duration-200 cursor-pointer group",onClick:S=>ce(n)},[e("div",Do,[e("div",Mo,[e("div",Uo,[e("h3",Fo,u(n.name),1),e("p",No,u(n.description||"No description provided"),1)]),e("span",{class:A([Ce(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0"])},u(I(n.status)),3)]),e("div",Eo,[a(o(ee),{class:"w-4 h-4 mr-2 flex-shrink-0"}),e("span",null,u($e(n.start_date,n.end_date)),1)]),e("div",jo,[e("div",Ro,[s[37]||(s[37]=e("span",{class:"text-sm font-medium text-gray-700"},"Progress",-1)),e("span",Po,u(n.completion_percentage||0)+"%",1)]),e("div",Bo,[e("div",{class:A(["h-2 rounded-full transition-all duration-300",ke(n.status)]),style:ye({width:`${n.completion_percentage||0}%`})},null,6)])]),e("div",Lo,[e("div",qo,[e("div",To,[a(o(be),{class:"w-4 h-4 text-gray-500 mr-1"}),e("span",zo,u(n.participant_count||0),1)]),s[38]||(s[38]=e("span",{class:"text-xs text-gray-600"},"Participants",-1))]),e("div",Io,[e("div",Yo,[a(o(os),{class:"w-4 h-4 text-gray-500 mr-1"}),e("span",Go,u(n.assessment_count||0),1)]),s[39]||(s[39]=e("span",{class:"text-xs text-gray-600"},"Assessments",-1))])])]),e("div",Wo,[e("div",Ho,[e("div",Oo,[e("button",{onClick:D(S=>X(n),["stop"]),disabled:n.status!=="active",class:A(["inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors",n.status==="active"?"bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"])},[a(o(Z),{class:"w-3 h-3 mr-1"}),s[40]||(s[40]=p(" Create Assessment "))],10,Qo),e("button",{onClick:D(S=>te(n),["stop"]),disabled:n.status==="completed",class:A(["inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors",n.status!=="completed"?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"])},[a(o(Ae),{class:"w-3 h-3 mr-1"}),s[41]||(s[41]=p(" Edit "))],10,Jo),n.status==="planned"?(d(),m("button",{key:0,onClick:D(S=>ue(n),["stop"]),class:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors bg-green-50 text-green-700 border border-green-200 hover:bg-green-100"},[a(o(Be),{class:"w-3 h-3 mr-1"}),s[42]||(s[42]=p(" Start "))],8,Xo)):n.status==="active"?(d(),m("button",{key:1,onClick:D(S=>me(n),["stop"]),class:"inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors bg-green-50 text-green-700 border border-green-200 hover:bg-green-100"},[a(o(Ve),{class:"w-3 h-3 mr-1"}),s[43]||(s[43]=p(" Complete "))],8,Ko)):_("",!0)]),e("div",Zo,[e("button",{onClick:D(S=>ne(n,S),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[a(o(De),{class:"w-4 h-4"})],8,en)])])])],8,Vo))),128))])):(d(),m("div",sn,[s[50]||(s[50]=e("div",{class:"bg-gray-50 border-b border-gray-200 hidden md:block"},[e("div",{class:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-medium text-gray-700"},[e("div",{class:"col-span-3"},"Name & Description"),e("div",{class:"col-span-2"},"Status"),e("div",{class:"col-span-2"},"Date Range"),e("div",{class:"col-span-2"},"Progress"),e("div",{class:"col-span-2"},"Participants"),e("div",{class:"col-span-1 text-right"},"Actions")])],-1)),e("div",tn,[(d(!0),m(T,null,z(W.value,n=>(d(),m("div",{key:n.id,class:"px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors group",onClick:S=>ce(n)},[e("div",nn,[e("div",an,[e("div",ln,[e("h4",rn,u(n.name),1),e("p",dn,u(n.description||"No description provided"),1)])]),e("div",cn,[e("span",{class:A([Ce(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},u(I(n.status)),3)]),e("div",un,[e("div",mn,[e("div",pn,[a(o(ee),{class:"w-4 h-4 text-gray-400 mr-2"}),p(" "+u($e(n.start_date,n.end_date)),1)])])]),e("div",vn,[e("div",gn,[e("div",yn,[e("span",fn,u(n.completion_percentage||0)+"%",1)]),e("div",bn,[e("div",{class:A(["h-2 rounded-full transition-all duration-300",ke(n.status)]),style:ye({width:`${n.completion_percentage||0}%`})},null,6)])])]),e("div",_n,[e("div",hn,[a(o(be),{class:"w-4 h-4 text-gray-400 mr-2"}),e("span",xn,u(n.participant_count||0),1),s[44]||(s[44]=e("span",{class:"text-gray-500 ml-1"},"participants",-1))])]),e("div",wn,[e("button",{onClick:D(S=>X(n),["stop"]),disabled:n.status!=="active",class:A(["inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors",n.status==="active"?"bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"])},[a(o(Z),{class:"w-3 h-3 mr-1"}),s[45]||(s[45]=p(" Assess "))],10,Cn),e("button",{onClick:D(S=>te(n),["stop"]),disabled:n.status==="completed",class:A(["inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors",n.status!=="completed"?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"])},[a(o(Ae),{class:"w-3 h-3 mr-1"}),s[46]||(s[46]=p(" Edit "))],10,$n),e("div",kn,[e("button",{onClick:D(S=>ne(n,S),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[a(o(De),{class:"w-4 h-4"})],8,Sn)])])]),e("div",An,[e("div",Vn,[e("div",Dn,[e("h4",Mn,u(n.name),1),e("p",Un,u(n.description||"No description provided"),1)]),e("span",{class:A([Ce(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0"])},u(I(n.status)),3)]),e("div",Fn,[e("div",Nn,[a(o(ee),{class:"w-4 h-4 mr-2"}),p(" "+u($e(n.start_date,n.end_date)),1)]),e("div",null,[e("div",En,[s[47]||(s[47]=e("span",{class:"text-xs text-gray-600"},"Progress",-1)),e("span",jn,u(n.completion_percentage||0)+"%",1)]),e("div",Rn,[e("div",{class:A(["h-2 rounded-full transition-all duration-300",ke(n.status)]),style:ye({width:`${n.completion_percentage||0}%`})},null,6)])])]),e("div",Pn,[e("div",Bn,[a(o(be),{class:"w-4 h-4 mr-1"}),e("span",null,u(n.participant_count||0)+" participants",1)]),e("div",Ln,[e("button",{onClick:D(S=>X(n),["stop"]),disabled:n.status!=="active",class:A(["inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors",n.status==="active"?"bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"])},[a(o(Z),{class:"w-3 h-3 mr-1"}),s[48]||(s[48]=p(" Assess "))],10,qn),e("button",{onClick:D(S=>te(n),["stop"]),disabled:n.status==="completed",class:A(["inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md transition-colors",n.status!=="completed"?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 border border-gray-200 cursor-not-allowed"])},[a(o(Ae),{class:"w-3 h-3 mr-1"}),s[49]||(s[49]=p(" Edit "))],10,Tn),e("div",zn,[e("button",{onClick:D(S=>ne(n,S),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[a(o(De),{class:"w-4 h-4"})],8,In)])])])])],8,on))),128))])]))])]),b.value.show?(d(),m("div",{key:0,style:ye({top:b.value.y+"px",left:b.value.x+"px"}),class:"context-menu",onClick:s[16]||(s[16]=D(()=>{},["stop"]))},[e("div",Yn,[((f=b.value.cycle)==null?void 0:f.status)==="active"?(d(),m("button",{key:0,onClick:s[9]||(s[9]=n=>X(b.value.cycle)),class:"menu-item"},[a(o(Z),{class:"menu-icon"}),s[51]||(s[51]=p(" Create Assessment "))])):_("",!0),((V=b.value.cycle)==null?void 0:V.status)==="planned"?(d(),m("button",{key:1,onClick:s[10]||(s[10]=n=>ue(b.value.cycle)),class:"menu-item"},[a(o(Be),{class:"menu-icon"}),s[52]||(s[52]=p(" Start Cycle "))])):_("",!0),((U=b.value.cycle)==null?void 0:U.status)==="active"?(d(),m("button",{key:2,onClick:s[11]||(s[11]=n=>me(b.value.cycle)),class:"menu-item"},[a(o(Ve),{class:"menu-icon"}),s[53]||(s[53]=p(" Complete Cycle "))])):_("",!0),((Y=b.value.cycle)==null?void 0:Y.status)==="active"?(d(),m("hr",Gn)):_("",!0),e("button",{onClick:s[12]||(s[12]=n=>xe(b.value.cycle)),class:"menu-item"},[a(o(ms),{class:"menu-icon"}),s[54]||(s[54]=p(" Duplicate "))]),e("button",{onClick:s[13]||(s[13]=n=>we(b.value.cycle)),class:"menu-item",disabled:((L=b.value.cycle)==null?void 0:L.status)!=="active"},[a(o(ns),{class:"menu-icon"}),s[55]||(s[55]=p(" Send Reminders "))],8,Wn),e("button",{onClick:s[14]||(s[14]=n=>oe(b.value.cycle)),class:"menu-item"},[a(o(ps),{class:"menu-icon"}),s[56]||(s[56]=p(" Export Data "))]),s[58]||(s[58]=e("hr",{class:"menu-divider"},null,-1)),e("button",{onClick:s[15]||(s[15]=n=>pe(b.value.cycle)),class:"menu-item danger",disabled:((K=b.value.cycle)==null?void 0:K.status)==="active"},[a(o(as),{class:"menu-icon"}),s[57]||(s[57]=p(" Delete "))],8,Hn)])],4)):_("",!0),a(Lt,{show:i.showCycleModal,cycle:F.value,employees:Q.employees,competencies:Q.competencies,onClose:c,onSave:t},null,8,["show","cycle","employees","competencies"]),a(ls,{show:C.value,title:P.value,message:B.value,"confirm-text":r.value,onConfirm:l,onCancel:y},null,8,["show","title","message","confirm-text"]),$.value.length>0?(d(),m("div",On,[e("div",Qn,[(d(!0),m(T,null,z($.value,n=>(d(),m("div",{key:n.id,class:A([He(n.type),"notification-card"])},[e("div",Jn,[(d(),G(Xe(Oe(n.type)),{class:"w-5 h-5"}))]),e("div",Xn,[e("p",Kn,u(n.message),1)]),e("button",{onClick:S=>Ee(n.id),class:"notification-close"},[a(o(ae),{class:"w-4 h-4"})],8,Zn)],2))),128))])])):_("",!0)]}),_:1}))}},wa=Ge(ea,[["__scopeId","data-v-680c5e25"]]);export{wa as default};
