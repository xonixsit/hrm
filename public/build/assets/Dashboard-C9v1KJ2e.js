import{c as u,o as d,a as e,i as w,m as ue,n as p,d as pe,u as i,A as ne,t as o,F as q,g as G,s as we,E as ze,f as C,Q as re,e as z,r as Q,z as me,B as Ie,q as te,l as E,k as S,D as ke,y as We,C as He,h as O,w as Fe,b as Oe,G as _}from"./app-BI_8RlVa.js";import{u as Ae}from"./useAuth-UWA1aPyW.js";import{b as Me,A as Ve}from"./AuthenticatedLayout-Cc7iokYW.js";/* empty css                                                                  *//* empty css                                                                      */import{_ as $e}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{t as Le,k as je,F as qe,m as xe,j as ee,a as Ce}from"./icons-mPZRGEqg.js";import{r as ce}from"./ChartBarIcon-ChjzHuEn.js";import{a as Ue,b as se,c as Ke,r as De}from"./UsersIcon-DtJWa_4O.js";import{A as Xe}from"./ApplicationLogo-Ba-Rn-wY.js";import{r as Re}from"./ArrowPathIcon-D8lBruCH.js";import{r as de}from"./AcademicCapIcon-su4BkIcG.js";import{r as Ge}from"./ArrowTrendingUpIcon-C6Inc69F.js";import{r as Be}from"./CogIcon-zthQvDyR.js";const Qe=["role","tabindex"],Ye={key:0,class:"flex items-center justify-between mb-4"},Je={class:"flex items-center space-x-3"},Ze={key:0,class:"flex items-center space-x-2"},_e={class:"flex-1"},et={key:2,class:p(["absolute inset-0 flex items-center justify-center rounded-2xl transition-all duration-200"])},tt={class:"flex items-center space-x-3"},oe={__name:"UnifiedCard",props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:[String,Object],default:null},iconVariant:{type:String,default:null,validator:t=>["primary","success","warning","danger","info"].includes(t)},variant:{type:String,default:"default",validator:t=>["default","elevated"].includes(t)},size:{type:String,default:"default",validator:t=>["small","default"].includes(t)},clickable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},status:{type:String,default:null,validator:t=>["success","warning","error","info"].includes(t)},statusText:{type:String,default:null},className:{type:String,default:""}},emits:["click"],setup(t,{emit:P}){const{isDark:g}=Me();return(x,c)=>(d(),u(q,null,[e("div",{class:p(["group relative transition-all duration-300",t.size==="small"?"rounded-lg":"rounded-2xl",t.clickable&&"cursor-pointer hover:scale-[1.02] hover:shadow-2xl",t.clickable&&(i(g)?"hover:bg-gray-700/60 hover:border-gray-600/60":"hover:bg-white/90 hover:border-gray-300/60"),t.size==="small"?"p-3":"p-4",t.className]),onClick:c[0]||(c[0]=h=>t.clickable&&x.$emit("click")),role:t.clickable?"button":void 0,tabindex:t.clickable?"0":void 0,onKeydown:[c[1]||(c[1]=ue(h=>t.clickable&&x.$emit("click"),["enter"])),c[2]||(c[2]=ue(pe(h=>t.clickable&&x.$emit("click"),["prevent"]),["space"]))]},null,42,Qe),x.$slots.header||t.title?(d(),u("div",Ye,[e("div",Je,[t.icon||x.$slots.icon?(d(),u("div",{key:0,class:p(["flex items-center justify-center rounded-xl transition-all duration-200",t.size==="small"?"w-10 h-10 p-2":"w-12 h-12 p-3",t.iconVariant==="primary"&&(i(g)?"bg-teal-600/20 text-teal-400 border border-teal-500/30":"bg-teal-50 text-teal-600 border border-teal-200/50"),t.iconVariant==="success"&&(i(g)?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-green-50 text-green-600 border border-green-200/50"),t.iconVariant==="warning"&&(i(g)?"bg-orange-600/20 text-orange-400 border border-orange-500/30":"bg-orange-50 text-orange-600 border border-orange-200/50"),t.iconVariant==="danger"&&(i(g)?"bg-red-600/20 text-red-400 border border-red-500/30":"bg-red-50 text-red-600 border border-red-200/50"),t.iconVariant==="info"&&(i(g)?"bg-purple-600/20 text-purple-400 border border-purple-500/30":"bg-purple-50 text-purple-600 border border-purple-200/50"),!t.iconVariant&&(i(g)?"bg-gray-700/50 text-gray-300 border border-gray-600/50":"bg-gray-100 text-gray-600 border border-gray-200/50")])},[ne(x.$slots,"icon",{},()=>[t.icon?(d(),G(we(t.icon),{key:0,class:p(t.size==="small"?"w-4 h-4":"w-5 h-5")},null,8,["class"])):w("",!0)])],2)):w("",!0),e("div",null,[t.title?(d(),u("h3",{key:0,class:p(["font-semibold transition-colors duration-200",t.size==="small"?"text-base":"text-lg",i(g)?"text-white":"text-gray-900"])},o(t.title),3)):w("",!0),t.description?(d(),u("p",{key:1,class:p(["transition-colors duration-200",t.size==="small"?"text-xs":"text-sm",i(g)?"text-gray-400":"text-gray-600"])},o(t.description),3)):w("",!0),ne(x.$slots,"header")])]),x.$slots.headerActions?(d(),u("div",Ze,[ne(x.$slots,"headerActions")])):w("",!0)])):w("",!0),e("div",_e,[ne(x.$slots,"default",{},()=>[c[3]||(c[3]=ze('<div class="text-center py-12"><div class="w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><h3 class="text-lg font-medium text-gray-900 mb-2">No Content Available</h3><p class="text-sm text-gray-500">This section will display content when data is available.</p></div>',1))])]),x.$slots.footer?(d(),u("div",{key:1,class:p(["mt-6 pt-4 border-t transition-colors duration-200",i(g)?"border-gray-700/50":"border-gray-200/50"])},[ne(x.$slots,"footer")],2)):w("",!0),t.loading?(d(),u("div",et,[e("div",tt,[e("div",{class:p(["animate-spin rounded-full border-2 border-t-transparent",t.size==="small"?"w-5 h-5":"w-6 h-6",i(g)?"border-gray-400":"border-gray-600"])},null,2),e("span",{class:p(["text-sm font-medium",i(g)?"text-gray-300":"text-gray-600"])}," Loading... ",2)])])):w("",!0),t.status?(d(),u("div",{key:3,class:p(["absolute top-4 right-4 flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium",t.status==="success"&&(i(g)?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-green-50 text-green-700 border border-green-200"),t.status==="warning"&&(i(g)?"bg-orange-600/20 text-orange-400 border border-orange-500/30":"bg-orange-50 text-orange-700 border border-orange-200"),t.status==="error"&&(i(g)?"bg-red-600/20 text-red-400 border border-red-500/30":"bg-red-50 text-red-700 border border-red-200"),t.status==="info"&&(i(g)?"bg-teal-600/20 text-teal-400 border border-teal-500/30":"bg-teal-50 text-teal-700 border border-teal-200")])},[e("div",{class:p(["w-1.5 h-1.5 rounded-full",t.status==="success"&&"bg-green-400",t.status==="warning"&&"bg-orange-400",t.status==="error"&&"bg-red-400",t.status==="info"&&"bg-teal-400"])},null,2),e("span",null,o(t.statusText||t.status),1)],2)):w("",!0)],64))}},st=["role","tabindex","onKeydown"],at={class:"flex items-start justify-between mb-4"},nt={key:0,class:"flex items-center space-x-1"},ot={key:0,class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},rt={key:1,class:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},lt={class:"space-y-1 mb-3"},it={class:"flex items-center gap-2"},dt={key:2,class:"absolute z-20 -top-2 -right-2"},X={__name:"UnifiedStatsCard",props:{value:{type:[Number,String],required:!0},label:{type:String,required:!0},description:{type:String,default:""},icon:{type:[String,Object],required:!0},variant:{type:String,default:"primary",validator:t=>["primary","success","warning","info","neutral"].includes(t)},trend:{type:Number,default:null},trendSuffix:{type:String,default:"%"},status:{type:String,default:null,validator:t=>["excellent","good","warning","critical"].includes(t)},statusText:{type:String,default:null},loading:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},route:{type:String,default:null},urgent:{type:Boolean,default:!1},prefix:{type:String,default:""},suffix:{type:String,default:""}},emits:["click"],setup(t,{emit:P}){const g=t,x=P,{isDark:c}=Me(),h=C(()=>{if(g.loading)return"...";let a=g.value;return typeof a=="number"&&(a=a.toLocaleString()),`${g.prefix}${a}${g.suffix}`}),j=()=>{!g.clickable||g.loading||(g.route&&re.visit(route(g.route)),x("click"))};return(a,D)=>(d(),u("div",{class:p(["group relative transition-all duration-300",t.clickable&&"cursor-pointer",i(c)?"bg-gray-800/50 border border-gray-700/50 backdrop-blur-sm":"bg-white border border-gray-100 shadow-sm backdrop-blur-sm","hover:shadow-md hover:-translate-y-0.5","rounded-2xl p-5 sm:p-6"]),onClick:j,role:t.clickable?"button":void 0,tabindex:t.clickable?"0":void 0,onKeydown:[ue(j,["enter"]),ue(pe(j,["prevent"]),["space"])]},[e("div",at,[e("div",{class:p(["flex items-center justify-center w-12 h-12 rounded-xl flex-shrink-0 shadow-sm",t.variant==="primary"&&(i(c)?"bg-teal-600/20 text-teal-400":"bg-teal-500 text-white shadow-teal-100"),t.variant==="success"&&(i(c)?"bg-green-600/20 text-green-400":"bg-green-500 text-white shadow-green-100"),t.variant==="warning"&&(i(c)?"bg-orange-600/20 text-orange-400":"bg-orange-500 text-white shadow-orange-100"),t.variant==="info"&&(i(c)?"bg-purple-600/20 text-purple-400":"bg-purple-500 text-white shadow-purple-100"),t.variant==="neutral"&&(i(c)?"bg-gray-700/50 text-gray-300":"bg-gray-500 text-white shadow-gray-100")])},[(d(),G(we(t.icon),{class:"w-6 h-6"}))],2),t.trend!==null&&!t.loading?(d(),u("div",nt,[t.trend>0?(d(),u("svg",ot,D[0]||(D[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):t.trend<0?(d(),u("svg",rt,D[1]||(D[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))):w("",!0),e("span",{class:p(["text-sm font-medium",t.trend>0&&"text-green-600",t.trend<0&&"text-red-600",t.trend===0&&"text-gray-500"])},o(t.trend>0?"+":"")+o(t.trend)+o(t.trendSuffix),3)])):t.status&&!t.loading?(d(),u("div",{key:1,class:p(["flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",t.status==="excellent"&&(i(c)?"bg-green-600/20 text-green-400":"bg-green-50 text-green-700 border border-green-100"),t.status==="good"&&(i(c)?"bg-teal-600/20 text-teal-400":"bg-teal-50 text-teal-700 border border-teal-100"),t.status==="warning"&&(i(c)?"bg-orange-600/20 text-orange-400":"bg-orange-50 text-orange-700 border border-orange-100"),t.status==="critical"&&(i(c)?"bg-red-600/20 text-red-400":"bg-red-50 text-red-700 border border-red-100")])},[e("span",{class:p(["w-1.5 h-1.5 rounded-full",t.status==="excellent"&&"bg-green-500",t.status==="good"&&"bg-teal-500",t.status==="warning"&&"bg-orange-500",t.status==="critical"&&"bg-red-500"])},null,2),e("span",null,o(t.statusText||t.status),1)],2)):w("",!0)]),e("div",lt,[e("div",{class:p(["text-3xl font-semibold tracking-tight transition-colors duration-200",i(c)?"text-white":"text-gray-900",t.variant==="success"&&!i(c)&&"text-green-600",t.variant==="warning"&&!i(c)&&"text-orange-600"])},o(t.loading?"...":h.value),3),e("div",{class:p(["text-sm font-medium transition-colors duration-200",i(c)?"text-gray-400":"text-gray-600"])},o(t.label),3)]),t.description?(d(),u("div",{key:0,class:p(["text-sm leading-relaxed transition-colors duration-200",(i(c),"text-gray-500")])},o(t.description),3)):w("",!0),t.loading?(d(),u("div",{key:1,class:p(["absolute inset-0 z-10 flex items-center justify-center rounded-2xl backdrop-blur-sm",i(c)?"bg-gray-800/80":"bg-white/80"])},[e("div",it,[e("div",{class:p(["animate-spin rounded-full w-5 h-5 border-2 border-t-transparent",i(c)?"border-gray-400":"border-gray-600"])},null,2),e("span",{class:p(["text-sm font-medium",i(c)?"text-gray-300":"text-gray-600"])}," Loading... ",2)])],2)):w("",!0),t.urgent&&!t.loading?(d(),u("div",dt,D[2]||(D[2]=[e("div",{class:"relative"},[e("div",{class:"w-4 h-4 bg-red-500 rounded-full animate-pulse"}),e("div",{class:"absolute inset-0 w-4 h-4 bg-red-500 rounded-full animate-ping opacity-75"})],-1)]))):w("",!0)],42,st))}},ct={key:0,class:"space-y-4"},ut={key:0,class:"bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-200 rounded-lg p-4"},mt={class:"space-y-2"},gt={class:"flex items-center space-x-3"},vt={class:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center"},ft={class:"text-sm font-semibold text-pink-700"},bt={class:"font-medium text-gray-900"},ht={class:"text-sm text-gray-500"},yt={class:"text-right"},xt={key:0,class:"text-xs text-gray-500"},kt={key:1,class:"bg-gradient-to-r from-teal-50 to-indigo-50 border border-teal-200 rounded-lg p-4"},pt={class:"flex items-center justify-between mb-3"},wt={class:"space-y-2"},$t={class:"flex items-center space-x-3"},St={class:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center"},Tt={class:"text-sm font-semibold text-teal-700"},Ct={class:"font-medium text-gray-900"},Dt={class:"text-sm text-gray-500"},Bt={class:"text-right"},It={class:"text-sm font-medium text-gray-900"},At={class:"text-xs text-gray-500"},Mt={key:2,class:"bg-gradient-to-r from-teal-50 to-indigo-50 border border-teal-200 rounded-lg p-4"},Ee={__name:"BirthdayNotifications",props:{todaysBirthdays:{type:Array,default:()=>[]},upcomingBirthdays:{type:Array,default:()=>[]},stats:{type:Object,default:null}},setup(t){const P=t,g=z(!1),x=C(()=>P.todaysBirthdays.length>0||P.upcomingBirthdays.length>0),c=C(()=>g.value?P.upcomingBirthdays:P.upcomingBirthdays.slice(0,3)),h=D=>D.split(" ").map(B=>B.charAt(0).toUpperCase()).join("").substring(0,2),j=D=>new Date(D).toLocaleDateString("en-US",{month:"short",day:"numeric"}),a=D=>D===0?"Today":D===1?"Tomorrow":`In ${D} days`;return(D,B)=>x.value?(d(),u("div",ct,[t.todaysBirthdays.length>0?(d(),u("div",ut,[B[2]||(B[2]=e("div",{class:"flex items-center space-x-3 mb-3"},[e("div",{class:"text-2xl"},"ðŸŽ‰"),e("div",null,[e("h3",{class:"text-lg font-semibold text-pink-800"},"Birthday Today!"),e("p",{class:"text-sm text-pink-600"},"Let's celebrate our team members")])],-1)),e("div",mt,[(d(!0),u(q,null,Q(t.todaysBirthdays,I=>(d(),u("div",{key:I.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[e("div",gt,[e("div",vt,[e("span",ft,o(h(I.user.name)),1)]),e("div",null,[e("p",bt,o(I.user.name),1),e("p",ht,o(I.job_title||"Employee"),1)])]),e("div",yt,[B[1]||(B[1]=e("div",{class:"text-lg"},"ðŸŽ‚",-1)),I.age?(d(),u("p",xt,o(I.age)+" years",1)):w("",!0)])]))),128))])])):w("",!0),t.upcomingBirthdays.length>0?(d(),u("div",kt,[e("div",pt,[B[3]||(B[3]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"text-2xl"},"ðŸŽ‚"),e("div",null,[e("h3",{class:"text-lg font-semibold text-teal-800"},"Upcoming Birthdays"),e("p",{class:"text-sm text-teal-600"},"Don't forget to wish them well!")])],-1)),e("button",{onClick:B[0]||(B[0]=I=>g.value=!g.value),class:"text-sm text-teal-600 hover:text-teal-800 font-medium"},o(g.value?"Show Less":"Show All"),1)]),e("div",wt,[(d(!0),u(q,null,Q(c.value,(I,m)=>(d(),u("div",{key:I.employee.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[e("div",$t,[e("div",St,[e("span",Tt,o(h(I.employee.user.name)),1)]),e("div",null,[e("p",Ct,o(I.employee.user.name),1),e("p",Dt,o(I.employee.job_title||"Employee"),1)])]),e("div",Bt,[e("p",It,o(j(I.birthday_date)),1),e("p",At,o(a(I.days_until)),1)])]))),128))])])):w("",!0),t.todaysBirthdays.length===0&&t.upcomingBirthdays.length===0&&t.stats&&t.stats.this_month===0?(d(),u("div",Mt,B[4]||(B[4]=[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"text-2xl"},"ðŸŽ‚"),e("div",null,[e("h3",{class:"text-lg font-semibold text-teal-800"},"No Birthdays This Month"),e("p",{class:"text-sm text-teal-600"},"No team birthdays to celebrate right now, but stay tuned!")])],-1)]))):w("",!0)])):w("",!0)}},jt={class:"employee-dashboard"},Rt={class:"time-tracking-section"},Et={class:"welcome-clock-display"},Pt={class:"welcome-section"},Nt={class:"greeting-text"},zt={class:"clock-section"},Wt={class:"current-time"},Ht={class:"current-date"},Ft={class:"work-status"},Ot={class:"status-text"},Vt={class:"time-progress-block"},Lt={class:"duration-display"},qt={class:"duration-item"},Ut={class:"duration-item"},Kt={class:"duration-item"},Xt={class:"duration-value"},Gt={class:"horizontal-clock-container"},Qt={class:"time-markers"},Yt={class:"marker-time"},Jt={class:"time-progress-bar"},Zt={key:0,class:"current-time-indicator"},_t={class:"time-tooltip"},es={class:"time-progress-info"},ts={class:"progress-left"},ss={class:"progress-time"},as={class:"progress-right"},ns={class:"progress-percentage"},os={class:"quick-actions"},rs={class:"actions-grid"},ls=["onClick"],is={key:0,class:"w-6 h-6",fill:"none",stroke:"#8B5CF6",viewBox:"0 0 24 24"},ds={key:1,class:"w-6 h-6",fill:"none",stroke:"#3B82F6",viewBox:"0 0 24 24"},cs={key:2,class:"w-6 h-6",fill:"none",stroke:"#F59E0B",viewBox:"0 0 24 24"},us={key:0,class:"debug-section"},ms={class:"debug-content"},gs={class:"debug-item"},vs={class:"debug-item"},fs={class:"debug-item"},bs={class:"debug-item"},hs={class:"debug-item"},ys={class:"debug-item"},xs={class:"debug-item"},ks={class:"debug-item"},ps={class:"debug-item"},ws={class:"debug-item"},$s={class:"debug-item"},Ss={class:"birthday-section"},Ts={__name:"EmployeeDashboard",props:{stats:{type:Object,default:()=>({daysWithCompany:0,projectsContributed:0,performanceRank:"N/A"})},currentAttendance:{type:Object,default:()=>({clocked_in:!1,on_break:!1,clock_in_time:null,current_break_start:null,todays_summary:{total_hours:"0h 0m",break_time:"0h 0m"}})},birthdayNotifications:{type:Object,default:()=>({todaysBirthdays:[],upcomingBirthdays:[],stats:{}})},employeeName:{type:String,default:"Employee"}},emits:["action"],setup(t,{emit:P}){const g=t,x=P,{user:c}=Ae(),h=z(new Date),j=z(!1),a=z({clockedIn:!1,onBreak:!1,clockInTime:null,breakStartTime:null,workDuration:"0h 0m",breakDuration:"0h 0m",completedBreakSessions:[],totalBreakTime:"0h 0m"});let D=null;const B=C(()=>h.value.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})),I=C(()=>h.value.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),m=C(()=>a.value.clockedIn),v=C(()=>a.value.onBreak),V=C(()=>a.value.onBreak?"On Break":a.value.clockedIn?"Working":"Not Clocked In"),$=C(()=>a.value.onBreak?"status-break":a.value.clockedIn?"status-working":"status-out"),k=C(()=>a.value.workDuration),A=C(()=>a.value.breakDuration),Y=C(()=>{let l=0;if(a.value.completedBreakSessions&&a.value.completedBreakSessions.forEach(f=>{if(f.start&&f.end){const y=new Date(f.start),N=new Date(f.end)-y;l+=Math.floor(N/(1e3*60))}}),a.value.onBreak&&a.value.breakStartTime){const f=new Date(a.value.breakStartTime),y=h.value,T=Math.max(0,y-f);l+=Math.floor(T/(1e3*60))}const s=Math.floor(l/60),r=l%60;return`${s}h ${r}m`}),ge=C(()=>{const s=h.value.getHours();return s<6?"before-work":s>=18?"after-work":"during-work"}),J=C(()=>{const l=[];return[6,7,8,9,10,11,12,13,14,15,16,17,18].forEach((r,f)=>{let y,T=!1;r===0?y="12 AM":r===12?(y="12 PM",T=!0):r<12?y=`${r} AM`:r===18?y="6 PM":y=`${r-12} PM`,(r===12||r===13)&&(T=!0);const N=f/12*100;l.push({label:y,time:r,isLunch:T,position:N})}),l}),U=C(()=>{if(!m.value||!a.value.clockInTime)return 0;const l=h.value,s=new Date(a.value.clockInTime);if(l<s)return 0;const f=(l.getTime()-s.getTime())/(1e3*60*60);return Math.min(f/12*100,100)}),le=C(()=>0),ve=C(()=>{if(!m.value||!a.value.clockInTime)return 0;const l=new Date(a.value.clockInTime),s=l.getHours(),r=l.getMinutes();if(s<6)return 0;if(s>=18)return 100;{const y=(s-6)*60+r,T=12*60;return y/T*100}}),K=C(()=>{if(!m.value||!a.value.clockInTime)return 0;const l=a.value.workDuration||"0h 0m",s=l.match(/(\d+)h/),r=l.match(/(\d+)m/),f=s?parseInt(s[1]):0,y=r?parseInt(r[1]):0,T=f*60+y,N=12*60,Z=T/N*100;return Math.min(Z,100)}),fe=C(()=>m.value?`${Math.round(U.value)}% Complete`:"Not Active"),be=C(()=>{const l=h.value,s=l.getHours(),r=l.getMinutes();if(s<6)return 0;if(s>=18)return 100;{const y=(s-6)*60+r,T=12*60;return y/T*100}}),he=C(()=>{if(v.value)return"bg-yellow-100 text-yellow-700";if(m.value)return"bg-green-100 text-green-700";switch(ge.value){case"before-work":return"bg-gray-100 text-gray-600";case"after-work":return"bg-gray-100 text-gray-600";default:return"bg-gray-100 text-gray-600"}}),b=C(()=>{const l=[],s=(r,f)=>{if(r<6||r>=18)return null;const T=(r-6)*60+f,N=12*60;return T/N*100};if(a.value.completedBreakSessions&&a.value.completedBreakSessions.forEach(r=>{if(r.start&&r.end){const f=new Date(r.start),y=new Date(r.end),T=s(f.getHours(),f.getMinutes()),N=s(y.getHours(),y.getMinutes());T!==null&&N!==null&&N>T&&l.push({left:T,width:N-T,isOngoing:!1})}}),v.value&&a.value.breakStartTime){const r=new Date(a.value.breakStartTime),f=h.value,y=s(r.getHours(),r.getMinutes()),T=s(f.getHours(),f.getMinutes());y!==null&&T!==null&&T>y&&l.push({left:y,width:T-y,isOngoing:!0})}return l}),n=C(()=>[{id:"my-assessments",label:"My Assessments",icon:Le,route:"competency-assessments.my-assessments"},{id:"work-reports",label:"Work Reports",icon:ce,route:"work-reports.index"},{id:"leaderboard",label:"Leaderboard",icon:Ue,route:"work-reports.leaderboard"}]),M=()=>{h.value=new Date,W()},W=()=>{if(a.value.clockedIn&&a.value.clockInTime){const l=new Date(a.value.clockInTime),r=h.value.getTime()-l.getTime();if(r>0){const f=Math.floor(r/36e5),y=Math.floor(r%(1e3*60*60)/(1e3*60));a.value.workDuration=`${f}h ${y}m`}}else a.value.clockedIn||(a.value.workDuration="0h 0m");if(a.value.onBreak&&a.value.breakStartTime){const l=new Date(a.value.breakStartTime),r=h.value.getTime()-l.getTime();if(r>0){const f=Math.floor(r/36e5),y=Math.floor(r%(1e3*60*60)/(1e3*60)),T=Math.floor(r%(1e3*60)/1e3);a.value.breakDuration=`${f}h ${y}m ${T}s`}}else a.value.onBreak||(a.value.breakDuration="0h 0m");a.value.completedBreakSessions.length>0&&console.log("ðŸ” Dashboard: Break sessions debug:",{completedSessions:a.value.completedBreakSessions.length,currentBreak:a.value.onBreak,breakStartTime:a.value.breakStartTime,currentBreakDuration:a.value.breakDuration,totalBreakTimeComputed:Y.value})},H=l=>{l.route&&(window.location.href=route(l.route)),x("action",l)},F=()=>{console.log("ðŸ”„ Dashboard: Manual refresh requested"),ye(),console.log("ðŸ“¡ Dashboard: Requesting fresh data from FloatingWidget..."),window.dispatchEvent(new CustomEvent("dashboard-requests-sync")),window.axios&&window.axios.get("/api/attendance/current").then(l=>{var s,r;console.log("ðŸ“¡ Dashboard: Received fresh data from API:",l.data),a.value={clockedIn:l.data.clocked_in||!1,onBreak:l.data.on_break||!1,clockInTime:l.data.clock_in_time||null,breakStartTime:l.data.current_break_start||null,workDuration:((s=l.data.todays_summary)==null?void 0:s.total_hours)||a.value.workDuration,breakDuration:"0h 0m",completedBreakSessions:l.data.break_sessions||[],totalBreakTime:((r=l.data.todays_summary)==null?void 0:r.break_time)||"0h 0m"},W(),console.log("âœ… Dashboard: Updated from API:",{clockedIn:a.value.clockedIn,isClockedInComputed:m.value,workProgressPercentage:U.value,progressWidth:K.value})}).catch(l=>{console.error("âŒ Dashboard: Failed to fetch from API:",l)})},L=l=>{l.ctrlKey&&l.shiftKey&&l.key==="D"&&(j.value=!j.value,console.log("ðŸ› Dashboard: Debug mode",j.value?"enabled":"disabled"))},R=()=>{var l,s,r,f,y,T,N,Z,ae;a.value={clockedIn:((l=g.currentAttendance)==null?void 0:l.clocked_in)||!1,onBreak:((s=g.currentAttendance)==null?void 0:s.on_break)||!1,clockInTime:((r=g.currentAttendance)==null?void 0:r.clock_in_time)||null,breakStartTime:((f=g.currentAttendance)==null?void 0:f.current_break_start)||null,workDuration:((T=(y=g.currentAttendance)==null?void 0:y.todays_summary)==null?void 0:T.total_hours)||"0h 0m",breakDuration:"0h 0m",completedBreakSessions:((N=g.currentAttendance)==null?void 0:N.break_sessions)||[],totalBreakTime:((ae=(Z=g.currentAttendance)==null?void 0:Z.todays_summary)==null?void 0:ae.break_time)||"0h 0m"},console.log("ðŸ”„ Dashboard: Initialized attendance state:",a.value)},ye=()=>{try{const l=localStorage.getItem("floating-attendance-state");if(l){const s=JSON.parse(l),r=new Date(s.lastUpdate);if((new Date-r)/(1e3*60)<5)return a.value={clockedIn:s.clockedIn||!1,onBreak:s.onBreak||!1,clockInTime:s.clockInTime||null,breakStartTime:s.breakStartTime||null,workDuration:a.value.workDuration,breakDuration:a.value.breakDuration,completedBreakSessions:s.completedBreakSessions||s.break_sessions||[],totalBreakTime:a.value.totalBreakTime},W(),console.log("ðŸ”„ Dashboard: Synced with FloatingWidget localStorage:",a.value),!0}}catch(l){console.warn("Dashboard: Failed to sync with FloatingWidget localStorage:",l)}return!1},Pe=l=>{var s,r;console.log("ðŸ“¡ Dashboard: Received attendance update via Echo:",l),a.value={clockedIn:l.clocked_in||!1,onBreak:l.on_break||!1,clockInTime:l.clock_in_time||null,breakStartTime:l.current_break_start||null,workDuration:((s=l.todays_summary)==null?void 0:s.total_hours)||a.value.workDuration,breakDuration:"0h 0m",completedBreakSessions:l.break_sessions||[],totalBreakTime:((r=l.todays_summary)==null?void 0:r.break_time)||a.value.totalBreakTime},W()},Se=l=>{console.log("ðŸ“¡ Dashboard: Received attendance state change (legacy):",l.detail),console.log("ðŸ” Dashboard: Current state before update:",{clockedIn:a.value.clockedIn,onBreak:a.value.onBreak,clockInTime:a.value.clockInTime});const{clockedIn:s,onBreak:r,clockInTime:f,breakStartTime:y,completedBreakSessions:T,todaysHours:N,currentBreakTime:Z,totalBreakTime:ae,action:Ne}=l.detail;let ie=a.value.completedBreakSessions||[];if(T&&Array.isArray(T))ie=T;else if(Ne==="end-break"&&a.value.onBreak&&a.value.breakStartTime){const Te={start:a.value.breakStartTime,end:new Date().toISOString(),isOngoing:!1};ie=[...ie,Te],console.log("ðŸ’¾ Dashboard: Saved completed break session locally:",Te)}a.value={clockedIn:s||!1,onBreak:r||!1,clockInTime:f||null,breakStartTime:y||null,workDuration:N||a.value.workDuration,breakDuration:Z||"0h 0m",completedBreakSessions:ie,totalBreakTime:ae||a.value.totalBreakTime},W(),console.log("âœ… Dashboard: Updated attendance state from FloatingWidget:",{clockedIn:a.value.clockedIn,onBreak:a.value.onBreak,clockInTime:a.value.clockInTime,workDuration:a.value.workDuration,breakDuration:a.value.breakDuration,completedBreaks:a.value.completedBreakSessions.length,totalBreakTime:ae,isClockedInComputed:m.value,workProgressPercentage:U.value,progressWidth:K.value})};return me(async()=>{var s,r;M(),R();const l=ye();if(console.log(l?"âœ… Dashboard: Successfully synced with FloatingWidget":"âš ï¸ Dashboard: No recent FloatingWidget data found"),console.log("ðŸ” Dashboard: Initial state after sync:",{clockedIn:a.value.clockedIn,onBreak:a.value.onBreak,clockInTime:a.value.clockInTime,isClockedInComputed:m.value,workProgressPercentage:U.value,progressWidth:K.value}),D=setInterval(()=>{M(),h.value.getSeconds()%30===0&&ye()},1e3),window.Echo&&((r=(s=c.value)==null?void 0:s.employee)!=null&&r.id)){const f=c.value.employee.id;try{window.Echo.private(`attendance.${f}`).listen(".attendance.updated",Pe),console.log(`ðŸ“¡ Dashboard: Subscribed to Echo channel attendance.${f}`)}catch(y){console.error("Dashboard: Failed to subscribe to Echo channel:",y)}}else console.warn("Dashboard: Echo not available or no employee ID");window.addEventListener("attendance-state-changed",Se),window.addEventListener("keydown",L),console.log("ðŸš€ Dashboard: Initialized with Echo and legacy event listeners (Press Ctrl+Shift+D for debug)")}),Ie(()=>{var l,s;if(D&&clearInterval(D),window.Echo&&((s=(l=c.value)==null?void 0:l.employee)!=null&&s.id)){const r=c.value.employee.id;try{window.Echo.leave(`attendance.${r}`),console.log("ðŸ“¡ Dashboard: Unsubscribed from Echo channels")}catch(f){console.warn("Dashboard: Error unsubscribing from Echo channels:",f)}}window.removeEventListener("attendance-state-changed",Se),window.removeEventListener("keydown",L),console.log("ðŸ”„ Dashboard: Cleanup completed")}),(l,s)=>(d(),u("div",jt,[e("div",Rt,[e("div",Et,[e("div",Pt,[e("h2",Nt,"Welcome back, "+o(t.employeeName)+"! ðŸ‘‹",1),s[0]||(s[0]=e("p",{class:"greeting-subtitle"},"Ready to make today productive?",-1))]),e("div",zt,[e("div",Wt,o(B.value),1),e("div",Ht,o(I.value),1)]),e("div",Ft,[e("div",{class:p(["status-indicator",$.value])},[s[1]||(s[1]=e("div",{class:"status-dot"},null,-1)),e("span",Ot,o(V.value),1)],2)])]),e("div",Vt,[e("div",Lt,[e("div",qt,[s[2]||(s[2]=e("div",{class:"duration-label"},"Work Time",-1)),e("div",{class:p(["duration-value",{"text-gray-500":v.value}])},o(k.value),3)]),e("div",Ut,[e("div",{class:p(["duration-label",{"text-orange-600":v.value}])},o(v.value?"Current Break":"Total Breaks"),3),e("div",{class:p(["duration-value",{"text-orange-600 font-bold":v.value}])},o(v.value?A.value:Y.value),3)]),e("div",Kt,[s[3]||(s[3]=e("div",{class:"duration-label"},"Progress",-1)),e("div",Xt,o(Math.round(U.value))+"%",1)])]),e("div",Gt,[e("div",Qt,[(d(!0),u(q,null,Q(J.value,(r,f)=>(d(),u("div",{key:f,class:p(["time-marker",{"start-marker":f===0,"end-marker":f===J.value.length-1,"lunch-marker":r.isLunch,"regular-marker":!r.isLunch&&f!==0&&f!==J.value.length-1}]),style:te({left:`${r.position}%`})},[s[4]||(s[4]=e("div",{class:"marker-line"},null,-1)),e("span",Yt,o(r.label),1)],6))),128))]),e("div",Jt,[s[7]||(s[7]=e("div",{class:"progress-bar-shimmer"},null,-1)),e("div",{class:"current-time-position",style:te({left:`${be.value}%`})},s[5]||(s[5]=[e("div",{class:"time-position-dot"},null,-1)]),4),le.value>0?(d(),u("div",{key:0,class:"pre-work-fill",style:te({width:`${le.value}%`,transition:"width 0.5s ease-out"})},null,4)):w("",!0),m.value&&K.value>0?(d(),u("div",{key:1,class:"work-progress-fill",style:te({left:`${ve.value}%`,width:`${K.value}%`,transition:"width 0.5s ease-out, left 0.5s ease-out"})},[m.value?(d(),u("div",Zt,[s[6]||(s[6]=e("div",{class:"time-dot"},null,-1)),e("div",_t,o(B.value),1)])):w("",!0)],4)):w("",!0),(d(!0),u(q,null,Q(b.value,(r,f)=>(d(),u("div",{key:`break-${f}`,class:p(["break-time-fill",{"ongoing-break":r.isOngoing}]),style:te({left:`${r.left}%`,width:`${r.width}%`})},null,6))),128))]),e("div",es,[e("div",ts,[e("span",ss,o(B.value),1),e("span",{class:p(["progress-status",he.value])},o(V.value),3)]),e("div",as,[e("span",ns,o(fe.value),1)])])])])]),e("div",os,[s[11]||(s[11]=e("h3",{class:"section-title"},"Quick Actions",-1)),e("div",rs,[(d(!0),u(q,null,Q(n.value,r=>(d(),u("button",{key:r.id,onClick:f=>H(r),class:p(["action-button",`action-${r.id}`])},[r.id==="my-assessments"?(d(),u("svg",is,s[8]||(s[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)]))):r.id==="work-reports"?(d(),u("svg",ds,s[9]||(s[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},null,-1)]))):r.id==="leaderboard"?(d(),u("svg",cs,s[10]||(s[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)]))):w("",!0),e("span",null,o(r.label),1)],10,ls))),128))])]),j.value?(d(),u("div",us,[s[23]||(s[23]=e("h3",{class:"section-title"},"Break Sessions Debug",-1)),e("div",ms,[e("div",gs,[s[12]||(s[12]=e("strong",null,"Completed Break Sessions:",-1)),E(" "+o(a.value.completedBreakSessions.length),1)]),e("div",vs,[s[13]||(s[13]=e("strong",null,"Current Break:",-1)),E(" "+o(v.value?"Yes":"No"),1)]),e("div",fs,[s[14]||(s[14]=e("strong",null,"Break Start Time:",-1)),E(" "+o(a.value.breakStartTime||"None"),1)]),e("div",bs,[s[15]||(s[15]=e("strong",null,"Current Break Duration:",-1)),E(" "+o(A.value),1)]),e("div",hs,[s[16]||(s[16]=e("strong",null,"Total Break Time (Computed):",-1)),E(" "+o(Y.value),1)]),e("div",ys,[s[17]||(s[17]=e("strong",null,"Clocked In (Dashboard):",-1)),E(" "+o(a.value.clockedIn),1)]),e("div",xs,[s[18]||(s[18]=e("strong",null,"isClockedIn Computed:",-1)),E(" "+o(m.value),1)]),e("div",ks,[s[19]||(s[19]=e("strong",null,"Work Progress %:",-1)),E(" "+o(Math.round(U.value))+"% ",1)]),e("div",ps,[s[20]||(s[20]=e("strong",null,"Progress Width:",-1)),E(" "+o(K.value)+"% ",1)]),e("div",ws,[s[21]||(s[21]=e("strong",null,"Clock In Time:",-1)),E(" "+o(a.value.clockInTime||"None"),1)]),e("div",$s,[s[22]||(s[22]=e("strong",null,"Break Sessions:",-1)),e("pre",null,o(JSON.stringify(a.value.completedBreakSessions,null,2)),1)]),e("button",{onClick:F,class:"debug-button"}," Refresh from FloatingWidget ")])])):w("",!0),e("div",Ss,[S(Ee,{"todays-birthdays":t.birthdayNotifications.todaysBirthdays,"upcoming-birthdays":t.birthdayNotifications.upcomingBirthdays,stats:t.birthdayNotifications.stats},null,8,["todays-birthdays","upcoming-birthdays","stats"])])]))}},Cs=$e(Ts,[["__scopeId","data-v-2d60ebec"]]),Ds={class:"p-6 text-center"},Bs={class:"mb-4"},Is={class:"w-20 h-20 bg-gradient-to-br from-pink-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-3"},As={class:"text-2xl font-bold text-purple-700"},Ms={class:"text-xl font-semibold text-gray-900 mb-1"},js={class:"text-gray-600 text-sm"},Rs={class:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg p-4 mb-6"},Es={class:"flex items-center justify-center space-x-2 text-purple-700"},Ps={class:"font-medium"},Ns={class:"bg-gray-50 px-6 py-4 text-center border-t border-gray-100"},zs={class:"flex justify-center"},Ws={__name:"BirthdayPopup",props:{show:{type:Boolean,default:!1},employee:{type:Object,required:!0}},emits:["close"],setup(t,{emit:P}){const g=t,x=P,c=z(null);let h=null;const j=I=>I.split(" ").map(m=>m.charAt(0).toUpperCase()).join("").substring(0,2),a=()=>{D()},D=()=>{x("close")};class B{constructor(m){this.canvas=m,this.ctx=m.getContext("2d"),this.particles=[],this.colors=["#ff6b9d","#c44569","#f8b500","#feca57","#ff9ff3","#54a0ff","#5f27cd","#00d2d3"],this.isRunning=!1,this.resize(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}createParticle(m,v){return{x:m||Math.random()*this.canvas.width,y:v||-10,vx:(Math.random()-.5)*8,vy:Math.random()*-8-2,gravity:.3,friction:.99,size:Math.random()*8+4,color:this.colors[Math.floor(Math.random()*this.colors.length)],rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*10,life:1,decay:Math.random()*.02+.01,shape:Math.random()>.5?"circle":"square"}}burst(){const m=this.canvas.width/2,v=this.canvas.height/2;for(let V=0;V<50;V++){const $=this.createParticle(m+(Math.random()-.5)*100,v+(Math.random()-.5)*100);$.vx=(Math.random()-.5)*15,$.vy=(Math.random()-.5)*15,this.particles.push($)}}start(){this.isRunning=!0,this.burst(),this.particleInterval=setInterval(()=>{if(this.particles.length<100)for(let m=0;m<3;m++)this.particles.push(this.createParticle())},100),this.animate()}stop(){this.isRunning=!1,this.particleInterval&&clearInterval(this.particleInterval)}animate(){if(this.isRunning){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let m=this.particles.length-1;m>=0;m--){const v=this.particles[m];if(v.vy+=v.gravity,v.vx*=v.friction,v.vy*=v.friction,v.x+=v.vx,v.y+=v.vy,v.rotation+=v.rotationSpeed,v.life-=v.decay,v.life<=0||v.y>this.canvas.height+50||v.x<-50||v.x>this.canvas.width+50){this.particles.splice(m,1);continue}this.ctx.save(),this.ctx.translate(v.x,v.y),this.ctx.rotate(v.rotation*Math.PI/180),this.ctx.globalAlpha=v.life,this.ctx.fillStyle=v.color,v.shape==="circle"?(this.ctx.beginPath(),this.ctx.arc(0,0,v.size/2,0,Math.PI*2),this.ctx.fill()):this.ctx.fillRect(-v.size/2,-v.size/2,v.size,v.size),this.ctx.restore()}requestAnimationFrame(()=>this.animate())}}}return me(async()=>{g.show&&(await ke(),c.value&&(h=new B(c.value),h.start()))}),Ie(()=>{h&&h.stop()}),We(()=>g.show,async I=>{I?(await ke(),c.value&&!h?(h=new B(c.value),h.start()):h&&h.start()):h&&h.stop()}),(I,m)=>(d(),G(He,{to:"body"},[t.show?(d(),u("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",onClick:a},[e("canvas",{ref_key:"confettiCanvas",ref:c,class:"absolute inset-0 w-full h-full pointer-events-none"},null,512),e("div",{class:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden transform transition-all duration-300 scale-100",onClick:m[0]||(m[0]=pe(()=>{},["stop"]))},[m[4]||(m[4]=e("div",{class:"bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 p-6 text-center text-white relative"},[e("div",{class:"absolute inset-0 bg-gradient-to-r from-pink-400/20 via-purple-400/20 to-indigo-400/20"}),e("div",{class:"relative z-10"},[e("div",{class:"text-6xl mb-2 animate-bounce"},"ðŸŽ‰"),e("h2",{class:"text-2xl font-bold mb-1"},"Happy Birthday!"),e("p",{class:"text-pink-100 text-sm"},"Wishing you a wonderful day from the team")])],-1)),e("div",Ds,[e("div",Bs,[e("div",Is,[e("span",As,o(j(t.employee.user.name)),1)]),e("h3",Ms,o(t.employee.user.name),1),e("p",js,o(t.employee.job_title||"Team Member"),1)]),e("div",Rs,[e("div",Es,[m[1]||(m[1]=e("span",{class:"text-2xl"},"ðŸŽ‚",-1)),e("span",Ps,o(t.employee.age?`Turning ${t.employee.age} today!`:"Celebrating another year!"),1)])]),m[2]||(m[2]=e("div",{class:"text-gray-600 text-sm mb-6 leading-relaxed"}," Hope your special day is filled with happiness, laughter, and all your favorite things! Thank you for being such an amazing part of our Xonobics family. ðŸŒŸ ",-1)),m[3]||(m[3]=e("div",{class:"bg-gradient-to-r from-teal-50 to-purple-50 rounded-lg p-4 mb-6 border border-teal-100"},[e("div",{class:"flex items-center justify-center space-x-2 text-teal-700 mb-2"},[e("span",{class:"text-lg"},"ðŸŽŠ"),e("span",{class:"font-semibold text-sm"},"From all of us at Xonobics")]),e("p",{class:"text-xs text-teal-600 text-center"}," May this new year of your life bring you joy, success, and wonderful memories! ")],-1)),e("div",{class:"flex justify-center"},[e("button",{onClick:D,class:"bg-gradient-to-r from-pink-500 to-purple-500 text-white px-8 py-3 rounded-lg font-medium hover:from-pink-600 hover:to-purple-600 transition-all duration-200 shadow-lg"}," Thank You! ðŸŽ‰ ")])]),e("div",Ns,[e("div",zs,[S(Xe,{class:"h-12 w-auto opacity-80"})])]),m[5]||(m[5]=e("div",{class:"absolute top-4 left-4 text-yellow-400 animate-pulse"},"âœ¨",-1)),m[6]||(m[6]=e("div",{class:"absolute top-6 right-6 text-pink-400 animate-pulse"},"ðŸŽˆ",-1)),m[7]||(m[7]=e("div",{class:"absolute bottom-4 left-6 text-purple-400 animate-pulse"},"ðŸŽ",-1)),m[8]||(m[8]=e("div",{class:"absolute bottom-6 right-4 text-indigo-400 animate-pulse"},"ðŸŒŸ",-1))])])):w("",!0)]))}},Hs=$e(Ws,[["__scopeId","data-v-0f159006"]]),Fs=["disabled"],Os={class:"grid grid-cols-3 gap-4 mb-6"},Vs={class:"text-center p-4 bg-green-50 rounded-xl border border-green-100"},Ls={class:"text-2xl font-bold text-green-600"},qs={class:"text-center p-4 bg-red-50 rounded-xl border border-red-100"},Us={class:"text-2xl font-bold text-red-600"},Ks={class:"text-center p-4 bg-blue-50 rounded-xl border border-blue-100"},Xs={class:"text-2xl font-bold text-blue-600"},Gs={class:"mb-6"},Qs={class:"flex justify-between items-center mb-2"},Ys={class:"text-sm font-bold text-gray-900"},Js={class:"w-full bg-gray-200 rounded-full h-2"},Zs={class:"flex space-x-1 mb-4 bg-gray-100 rounded-lg p-1"},_s={class:"relative"},ea={key:0,class:"absolute top-0 left-0 right-0 h-6 scroll-fade-top z-10 pointer-events-none rounded-t-lg"},ta={key:1,class:"absolute bottom-0 left-0 right-0 h-6 scroll-fade-bottom z-10 pointer-events-none rounded-b-lg"},sa={key:0,class:"space-y-2"},aa={key:0,class:"text-center py-8 text-gray-500"},na={class:"flex items-center space-x-3"},oa={class:"font-medium text-gray-900"},ra={class:"text-sm text-gray-600"},la={class:"text-right"},ia={class:"text-sm font-medium text-gray-900"},da={class:"text-xs text-gray-600"},ca={key:0,class:"text-orange-600 ml-1"},ua={key:1,class:"space-y-2"},ma={key:0,class:"text-center py-8 text-gray-500"},ga={class:"flex items-center space-x-3"},va={class:"font-medium text-gray-900"},fa={class:"text-sm text-gray-600"},ba={class:"text-right"},ha={class:"text-xs text-gray-500"},ya={class:"mt-4 pt-4 border-t border-gray-200"},xa={class:"flex space-x-2"},ka=["disabled"],pa={__name:"AttendanceTrackingWidget",props:{attendanceData:{type:Object,required:!0,default:()=>({totalEmployeeCount:0,clockedInCount:0,missedClockInCount:0,clockedInEmployees:[],missedClockInEmployees:[],attendanceRate:0})}},setup(t){const P=t,g=z("clocked-in"),x=z(!1),c=z(null),h=z(!1),j=z(!1),a=$=>$>=90?"bg-green-500":$>=75?"bg-yellow-500":"bg-red-500",D=()=>{x.value=!0;try{re.reload({only:["attendanceTracking","adminStats"],preserveScroll:!0,onFinish:()=>{x.value=!1}})}catch($){console.error("Failed to refresh attendance data:",$),x.value=!1}},B=async()=>{if(P.attendanceData.missedClockInCount!==0){x.value=!0;try{console.log("Sending reminder to employees who missed clock-in")}catch($){console.error("Failed to send reminder:",$)}finally{x.value=!1}}},I=()=>{console.log("Exporting attendance report")},m=()=>{if(!c.value)return;const{scrollTop:$,scrollHeight:k,clientHeight:A}=c.value;h.value=$>10,j.value=$<k-A-10},v=async()=>{if(await ke(),!c.value)return;const{scrollHeight:$,clientHeight:k}=c.value,A=$>k;j.value=A,h.value=!1},V=async $=>{g.value=$,await v()};return me(()=>{v()}),($,k)=>(d(),G(oe,{title:"Today's Attendance Tracking",description:"Employee clock-in status overview",icon:i(se),iconVariant:"primary",variant:"elevated"},{headerActions:O(()=>[e("button",{onClick:D,disabled:x.value,class:"inline-flex items-center px-3 py-1.5 bg-teal-50 text-teal-700 text-sm font-medium rounded-lg hover:bg-teal-100 transition-colors"},[S(i(Re),{class:p(["w-4 h-4 mr-1",x.value?"animate-spin":""])},null,8,["class"]),k[2]||(k[2]=E(" Refresh "))],8,Fs)]),default:O(()=>[e("div",Os,[e("div",Vs,[e("div",Ls,o(t.attendanceData.clockedInCount),1),k[3]||(k[3]=e("div",{class:"text-xs text-gray-600 mt-1"},"Clocked In",-1))]),e("div",qs,[e("div",Us,o(t.attendanceData.missedClockInCount),1),k[4]||(k[4]=e("div",{class:"text-xs text-gray-600 mt-1"},"Missed Clock-in",-1))]),e("div",Ks,[e("div",Xs,o(t.attendanceData.totalEmployeeCount),1),k[5]||(k[5]=e("div",{class:"text-xs text-gray-600 mt-1"},"Total Employees",-1))])]),e("div",Gs,[e("div",Qs,[k[6]||(k[6]=e("span",{class:"text-sm font-medium text-gray-700"},"Attendance Rate",-1)),e("span",Ys,o(t.attendanceData.attendanceRate)+"%",1)]),e("div",Js,[e("div",{class:p(["h-2 rounded-full transition-all duration-300",a(t.attendanceData.attendanceRate)]),style:te({width:t.attendanceData.attendanceRate+"%"})},null,6)])]),e("div",Zs,[e("button",{onClick:k[0]||(k[0]=A=>V("clocked-in")),class:p(["flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors",g.value==="clocked-in"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"])}," Clocked In ("+o(t.attendanceData.clockedInCount)+") ",3),e("button",{onClick:k[1]||(k[1]=A=>g.value="missed"),class:p(["flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors",g.value==="missed"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"])}," Missed ("+o(t.attendanceData.missedClockInCount)+") ",3)]),e("div",_s,[h.value?(d(),u("div",ea)):w("",!0),j.value?(d(),u("div",ta)):w("",!0),e("div",{ref_key:"scrollContainer",ref:c,class:"max-h-64 overflow-y-auto custom-scrollbar",onScroll:m},[g.value==="clocked-in"?(d(),u("div",sa,[t.attendanceData.clockedInEmployees.length===0?(d(),u("div",aa,[S(i(se),{class:"w-12 h-12 mx-auto mb-2 text-gray-300"}),k[7]||(k[7]=e("p",null,"No employees clocked in yet today",-1))])):w("",!0),(d(!0),u(q,null,Q(t.attendanceData.clockedInEmployees,A=>(d(),u("div",{key:A.id,class:"employee-card flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100"},[e("div",na,[k[8]||(k[8]=e("div",{class:"w-2 h-2 bg-green-400 rounded-full"},null,-1)),e("div",null,[e("div",oa,o(A.name),1),e("div",ra,o(A.job_title)+" â€¢ "+o(A.department),1)])]),e("div",la,[e("div",ia,o(A.clock_in_time),1),e("div",da,[E(o(A.work_duration)+" ",1),A.on_break?(d(),u("span",ca,"(On Break)")):w("",!0)])])]))),128))])):w("",!0),g.value==="missed"?(d(),u("div",ua,[t.attendanceData.missedClockInEmployees.length===0?(d(),u("div",ma,[S(i(je),{class:"w-12 h-12 mx-auto mb-2 text-green-300"}),k[9]||(k[9]=e("p",null,"All employees have clocked in today!",-1))])):w("",!0),(d(!0),u(q,null,Q(t.attendanceData.missedClockInEmployees,A=>(d(),u("div",{key:A.id,class:"employee-card flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-100"},[e("div",ga,[k[10]||(k[10]=e("div",{class:"w-2 h-2 bg-red-400 rounded-full"},null,-1)),e("div",null,[e("div",va,o(A.name),1),e("div",fa,o(A.job_title)+" â€¢ "+o(A.department),1)])]),e("div",ba,[k[11]||(k[11]=e("div",{class:"text-sm text-red-600 font-medium"},"Not clocked in",-1)),e("div",ha,o(A.employee_code),1)])]))),128))])):w("",!0)],544)]),e("div",ya,[e("div",xa,[e("button",{onClick:B,disabled:t.attendanceData.missedClockInCount===0||x.value,class:"flex-1 inline-flex items-center justify-center px-3 py-2 bg-orange-50 text-orange-700 text-sm font-medium rounded-lg hover:bg-orange-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[S(i(Ke),{class:"w-4 h-4 mr-2"}),k[12]||(k[12]=E(" Send Reminder "))],8,ka),e("button",{onClick:I,class:"flex-1 inline-flex items-center justify-center px-3 py-2 bg-blue-50 text-blue-700 text-sm font-medium rounded-lg hover:bg-blue-100 transition-colors"},[S(i(qe),{class:"w-4 h-4 mr-2"}),k[13]||(k[13]=E(" Export Report "))])])])]),_:1},8,["icon"]))}},wa=$e(pa,[["__scopeId","data-v-87c2f7a7"]]),$a={class:"flex space-x-3"},Sa=["onClick","disabled"],Ta={key:0,class:"space-y-6"},Ca={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Da={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Ba={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Ia={class:"lg:col-span-2 space-y-4"},Aa={class:"grid grid-cols-3 gap-4 text-center"},Ma={class:"p-4 bg-yellow-50 rounded-lg"},ja={class:"text-2xl font-bold text-yellow-600"},Ra={class:"p-4 bg-teal-50 rounded-lg"},Ea={class:"text-2xl font-bold text-teal-600"},Pa={class:"p-4 bg-purple-50 rounded-lg"},Na={class:"text-2xl font-bold text-purple-600"},za={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},Wa={class:"text-center p-4 bg-green-50 rounded-xl border border-green-100"},Ha={class:"text-2xl font-bold text-green-600"},Fa={class:"text-center p-4 bg-orange-50 rounded-xl border border-orange-100"},Oa={class:"text-2xl font-bold text-orange-600"},Va={class:"text-center p-4 bg-purple-50 rounded-xl border border-purple-100"},La={class:"text-2xl font-bold text-purple-600"},qa={class:"text-center p-4 bg-teal-50 rounded-xl border border-teal-100"},Ua={class:"text-2xl font-bold text-teal-600"},Ka={class:"lg:col-span-1 space-y-4"},Xa={class:"space-y-3"},Ga={class:"flex items-center"},Qa={class:"flex items-center"},Ya={class:"flex items-center"},Ja={class:"flex items-center"},Za={class:"flex items-center"},_a={class:"space-y-3"},en={class:"flex items-center justify-between"},tn={class:"text-sm font-medium text-gray-900"},sn={key:1,class:"employee-layout"},an={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},nn={class:"lg:col-span-3"},on={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},rn={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ln={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},dn={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},cn={class:"sm:flex sm:items-start"},un={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},mn={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1"},gn={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},vn={class:"space-y-4"},fn={class:"text-sm text-gray-600 mb-2"},bn={class:"text-sm text-gray-600 mb-4"},hn={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},yn=["disabled"],Rn={__name:"Dashboard",props:{adminStats:{type:Object,default:()=>({})},managerStats:{type:Object,default:()=>({})},employeeStats:{type:Object,default:()=>({})},pendingApprovals:{type:Array,default:()=>[]},teamMembers:{type:Array,default:()=>[]},teamPerformance:{type:Object,default:()=>({})},teamActivities:{type:Array,default:()=>[]},personalActivities:{type:Array,default:()=>[]},myTasks:{type:Array,default:()=>[]},recentFeedback:{type:Array,default:()=>[]},clockedIn:{type:Boolean,default:!1},currentAttendance:{type:Object,default:null},birthdayData:{type:Object,default:()=>({todaysBirthdays:[],upcomingBirthdays:[],stats:{}})},attendanceTracking:{type:Object,default:()=>({totalEmployeeCount:0,clockedInCount:0,missedClockInCount:0,clockedInEmployees:[],missedClockInEmployees:[],attendanceRate:0})}},setup(t){const P=t,{user:g,roles:x}=Ae(),c=z(!1),h=z(!1),j=z(null),a=z(""),D=z(!1),B=C(()=>{const b=Array.isArray(x.value)&&x.value.includes("Admin");return console.log("Dashboard - User:",g.value),console.log("Dashboard - Roles:",x.value),console.log("Dashboard - Is Admin:",b),console.log("Dashboard - Admin Stats:",P.adminStats),console.log("Dashboard - Attendance Tracking:",P.attendanceTracking),b}),I=C(()=>Array.isArray(x.value)&&(x.value.includes("Manager")||x.value.includes("HR"))&&!B.value),m=C(()=>B.value?"Admin Dashboard":I.value?"Manager Dashboard":"My Dashboard"),v=C(()=>B.value?"System overview and administrative management tools":I.value?"Team management and performance overview":"Your personal workspace and activities");C(()=>new Date().toLocaleTimeString());const V=C(()=>{const b=[{id:"refresh",label:"Refresh",icon:"ArrowPathIcon",handler:A,disabled:c.value}];return B.value&&b.unshift({id:"settings",label:"System Settings",icon:"CogIcon",handler:()=>$("admin.roles.index")},{id:"analytics",label:"Analytics",icon:"ChartBarIcon",handler:()=>$("organizational-analytics.index")},{id:"reports",label:"View Reports",icon:"ChartBarIcon",handler:()=>$("reports.index"),primary:!0}),b}),$=b=>{try{re.visit(route(b))}catch(n){console.error("Navigation error:",n)}},k=b=>({ArrowPathIcon:Re,CogIcon:Be,ChartBarIcon:ce,ClockIcon:se})[b]||se,A=async()=>{c.value=!0;try{await re.reload({only:["adminStats","managerStats","employeeStats","pendingApprovals","attendanceTracking"]})}catch(b){console.error("Refresh error:",b)}finally{c.value=!1}},Y=()=>{h.value=!1,j.value=null,a.value=""},ge=async()=>{var b,n,M,W;c.value=!0;try{const F=(await _.get("/api/attendance/current")).data;if(!F||typeof F!="object")throw new Error("Invalid attendance status response");let L;F.clocked_in?L="/api/attendance/clock-out":L="/api/attendance/clock-in";const R=await _.post(L,{},{headers:{"X-CSRF-TOKEN":(b=document.querySelector('meta[name="csrf-token"]'))==null?void 0:b.getAttribute("content"),Accept:"application/json","Content-Type":"application/json"}});R.data.success&&(console.log("ðŸŽ¯ Clock in/out successful, response:",R.data),await J())}catch(H){console.error("Clock in/out error:",H);let F="Clock in/out failed. Please try again.";if(H.message==="Invalid attendance status response")F="Unable to get attendance status. Please ensure you have an employee profile.";else if(((n=H.response)==null?void 0:n.status)===419){window.location.reload();return}else(W=(M=H.response)==null?void 0:M.data)!=null&&W.message&&(F=H.response.data.message);alert(F)}finally{c.value=!1}},J=async()=>{try{const b=await _.get("/api/attendance/current");console.log("ðŸ” API status check before reload:",b.data),await re.reload({only:["currentAttendance","clockedIn","employeeStats"],preserveScroll:!0,preserveState:!0}),console.log("âœ… Attendance status updated via Inertia reload")}catch(b){console.error("Failed to update attendance status:",b),window.location.reload()}},U=async b=>{var n,M,W;if(b.route)$(b.route);else if(b.type)try{c.value=!0,b.type==="take-break"?await _.post("/api/attendance/break-start",{},{headers:{"X-CSRF-TOKEN":(n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content"),Accept:"application/json","Content-Type":"application/json"}}):b.type==="end-break"&&await _.post("/api/attendance/break-end",{},{headers:{"X-CSRF-TOKEN":(M=document.querySelector('meta[name="csrf-token"]'))==null?void 0:M.getAttribute("content"),Accept:"application/json","Content-Type":"application/json"}}),await J()}catch(H){console.error("Break action failed:",H),((W=H.response)==null?void 0:W.status)===419&&window.location.reload()}finally{c.value=!1}},le=async b=>{try{await _.patch(route("tasks.toggle",b.id)),await A()}catch(n){console.error("Task toggle error:",n)}},ve=b=>{$("tasks.show",{task:b.id})},K=()=>{var b;(b=P.birthdayData)!=null&&b.currentUserBirthday&&setTimeout(()=>{D.value=!0},1e3)},fe=()=>{D.value=!1},be=(b,n)=>{if(n===0)return"warning";const M=b/n*100;return M>=90?"excellent":M>=75?"good":"warning"},he=(b,n)=>{if(n===0)return"No Data";const M=b/n*100;return M>=90?"Excellent":M>=75?"Good":"Needs Attention"};return me(()=>{K()}),(b,n)=>(d(),G(Ve,null,{header:O(()=>[E(o(m.value),1)]),subtitle:O(()=>[E(o(v.value),1)]),headerActions:O(()=>[e("div",$a,[(d(!0),u(q,null,Q(V.value,M=>(d(),u("button",{key:M.id,onClick:M.handler,disabled:M.disabled,class:p(["inline-flex items-center px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",M.primary?"bg-teal-600 text-white hover:bg-teal-700 shadow-lg shadow-teal-500/25":"bg-white/60 text-gray-700 border border-gray-200 hover:bg-white hover:shadow-sm","disabled:opacity-50 disabled:cursor-not-allowed"])},[(d(),G(we(k(M.icon)),{class:"w-4 h-4 mr-2"})),E(" "+o(M.label),1)],10,Sa))),128))])]),default:O(()=>{var M,W,H,F,L;return[B.value?(d(),u("div",Ta,[e("div",Ca,[S(X,{value:t.adminStats.totalEmployees,label:"Total Employees",description:"Active workforce",icon:i(De),variant:"primary",trend:t.adminStats.employeeTrend,route:"employees.index",loading:c.value},null,8,["value","icon","trend","loading"]),S(X,{value:`${t.adminStats.clockedInCount||0}/${t.adminStats.totalEmployeeCount||0}`,label:"Today's Attendance",description:"Clocked in employees",icon:i(se),variant:"info",status:be(t.adminStats.clockedInCount,t.adminStats.totalEmployeeCount),statusText:he(t.adminStats.clockedInCount,t.adminStats.totalEmployeeCount),clickable:!1,loading:c.value},null,8,["value","icon","status","statusText","loading"]),S(X,{value:t.adminStats.pendingLeaves,label:"Pending Approvals",description:"Requires attention",icon:i(xe),variant:"warning",status:t.adminStats.pendingLeaves>10?"critical":"warning",statusText:t.adminStats.pendingLeaves>10?"High":"Normal",route:"approvals.index",urgent:t.adminStats.pendingLeaves>15,loading:c.value},null,8,["value","icon","status","statusText","urgent","loading"]),S(X,{value:t.adminStats.pendingAssessments,label:"Pending Assessments",description:"Review status",icon:i(de),variant:"info",status:t.adminStats.pendingAssessments>5?"warning":"good",statusText:t.adminStats.pendingAssessments>5?"Review":"On Track",route:"assessment-dashboard",loading:c.value},null,8,["value","icon","status","statusText","loading"])]),e("div",Da,[S(X,{value:(t.adminStats.attendanceRate||0)+"%",label:"Attendance Rate",description:"This month",icon:i(se),variant:"info",trend:t.adminStats.attendanceTrend||0,status:(t.adminStats.attendanceRate||0)>95?"excellent":(t.adminStats.attendanceRate||0)>85?"good":"warning",statusText:(t.adminStats.attendanceRate||0)>95?"Excellent":(t.adminStats.attendanceRate||0)>85?"Good":"Needs Attention",route:"attendance.reports",loading:c.value},null,8,["value","icon","trend","status","statusText","loading"]),S(X,{value:t.adminStats.workReportsCount||0,label:"Work Reports",description:"This month",icon:i(ce),variant:"primary",trend:t.adminStats.workReportsTrend||0,status:(t.adminStats.workReportsCount||0)>50?"excellent":(t.adminStats.workReportsCount||0)>20?"good":"warning",statusText:(t.adminStats.workReportsCount||0)>50?"High Activity":(t.adminStats.workReportsCount||0)>20?"Active":"Low Activity",route:"work-reports.index",loading:c.value},null,8,["value","icon","trend","status","statusText","loading"]),S(X,{value:t.adminStats.successfulCalls||0,label:"Successful Calls",description:"This month",icon:i(Ge),variant:"success",trend:t.adminStats.successfulCallsTrend||0,status:(t.adminStats.successfulCalls||0)>100?"excellent":(t.adminStats.successfulCalls||0)>50?"good":"warning",statusText:(t.adminStats.successfulCalls||0)>100?"Excellent":(t.adminStats.successfulCalls||0)>50?"Good":"Needs Focus",route:"work-reports.leaderboard",loading:c.value},null,8,["value","icon","trend","status","statusText","loading"]),S(X,{value:(t.adminStats.avgPerformanceScore||0)+"%",label:"Avg Performance",description:"Team score",icon:i(de),variant:"info",trend:t.adminStats.performanceTrend||0,status:(t.adminStats.avgPerformanceScore||0)>85?"excellent":(t.adminStats.avgPerformanceScore||0)>70?"good":"warning",statusText:(t.adminStats.avgPerformanceScore||0)>85?"Excellent":(t.adminStats.avgPerformanceScore||0)>70?"Good":"Needs Improvement",route:"performance.reports",loading:c.value},null,8,["value","icon","trend","status","statusText","loading"])]),e("div",Ba,[e("div",Ia,[t.pendingApprovals.length>0?(d(),G(oe,{key:0,title:"Pending Approvals Overview",description:"Items requiring your attention",icon:i(xe),iconVariant:"info",variant:"elevated"},{headerActions:O(()=>[e("button",{onClick:n[0]||(n[0]=R=>$("leaves.index")),class:"px-4 py-2 bg-teal-600 text-white text-sm rounded-lg hover:bg-teal-700 transition-colors shadow-lg shadow-teal-500/25"}," Manage All Approvals ")]),default:O(()=>[e("div",Aa,[e("div",Ma,[e("div",ja,o(t.pendingApprovals.filter(R=>R.type==="leave").length),1),n[9]||(n[9]=e("div",{class:"text-sm text-gray-600"},"Leave Requests",-1))]),e("div",Ra,[e("div",Ea,o(t.pendingApprovals.filter(R=>R.type==="timesheet").length),1),n[10]||(n[10]=e("div",{class:"text-sm text-gray-600"},"Timesheets",-1))]),e("div",Pa,[e("div",Na,o(t.pendingApprovals.filter(R=>R.type==="competency-assessment").length),1),n[11]||(n[11]=e("div",{class:"text-sm text-gray-600"},"Assessments",-1))])])]),_:1},8,["icon"])):w("",!0),e("div",null,[n[12]||(n[12]=e("p",{class:"text-sm text-gray-500 mb-2"},"Debug: Attendance Tracking Widget",-1)),S(wa,{"attendance-data":t.attendanceTracking},null,8,["attendance-data"])]),S(oe,{title:"Competency Management",description:"Track and manage employee competencies",icon:i(de),iconVariant:"primary",variant:"elevated"},{headerActions:O(()=>[e("button",{onClick:n[1]||(n[1]=R=>$("assessment-dashboard")),class:"inline-flex items-center px-4 py-2 bg-teal-600 text-white text-sm font-medium rounded-lg hover:bg-teal-700 transition-colors shadow-lg shadow-teal-500/25"},[n[13]||(n[13]=E(" View Details ")),S(i(ee),{class:"w-4 h-4 ml-1"})])]),default:O(()=>[e("div",za,[e("div",Wa,[e("div",Ha,o(t.adminStats.completedAssessmentsThisMonth||0),1),n[14]||(n[14]=e("div",{class:"text-xs text-gray-600 mt-1"},"Completed",-1))]),e("div",Fa,[e("div",Oa,o(t.adminStats.pendingAssessments||0),1),n[15]||(n[15]=e("div",{class:"text-xs text-gray-600 mt-1"},"Pending",-1))]),e("div",Va,[e("div",La,o(t.adminStats.activeAssessmentCycles||0),1),n[16]||(n[16]=e("div",{class:"text-xs text-gray-600 mt-1"},"Active Cycles",-1))]),e("div",qa,[e("div",Ua,o(t.adminStats.averageRating||"-"),1),n[17]||(n[17]=e("div",{class:"text-xs text-gray-600 mt-1"},"Avg Rating",-1))])])]),_:1},8,["icon"])]),e("div",Ka,[S(oe,{title:"Quick Actions",description:"Common tasks",icon:i(Ce),iconVariant:"primary"},{default:O(()=>[e("div",Xa,[e("button",{onClick:n[2]||(n[2]=R=>$("competencies.create")),class:"w-full flex items-center justify-between px-4 py-3 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-xl hover:from-teal-600 hover:to-teal-700 transition-all group shadow-lg shadow-teal-500/25"},[e("div",Ga,[S(i(de),{class:"w-5 h-5 mr-3"}),n[18]||(n[18]=e("span",{class:"font-medium"},"Add Competency",-1))]),S(i(ee),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:n[3]||(n[3]=R=>$("employees.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",Qa,[S(i(De),{class:"w-5 h-5 mr-3"}),n[19]||(n[19]=e("span",{class:"font-medium"},"Manage Employees",-1))]),S(i(ee),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:n[4]||(n[4]=R=>$("assessment-cycles.create")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",Ya,[S(i(Ce),{class:"w-5 h-5 mr-3"}),n[20]||(n[20]=e("span",{class:"font-medium"},"New Assessment Cycle",-1))]),S(i(ee),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:n[5]||(n[5]=R=>$("reports.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",Ja,[S(i(ce),{class:"w-5 h-5 mr-3"}),n[21]||(n[21]=e("span",{class:"font-medium"},"View Reports",-1))]),S(i(ee),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:n[6]||(n[6]=R=>$("admin.roles.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",Za,[S(i(Be),{class:"w-5 h-5 mr-3"}),n[22]||(n[22]=e("span",{class:"font-medium"},"Role Management",-1))]),S(i(ee),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})])])]),_:1},8,["icon"]),S(Ee,{"todays-birthdays":t.birthdayData.todaysBirthdays,"upcoming-birthdays":t.birthdayData.upcomingBirthdays,stats:t.birthdayData.stats},null,8,["todays-birthdays","upcoming-birthdays","stats"]),S(oe,{title:"System Status",description:"All systems operational",icon:i(je),iconVariant:"success"},{default:O(()=>[e("div",_a,[n[24]||(n[24]=e("div",{class:"flex items-center justify-between"},[e("span",{class:"text-sm text-gray-600"},"Database"),e("div",{class:"flex items-center"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm font-medium text-green-600"},"Healthy")])],-1)),n[25]||(n[25]=e("div",{class:"flex items-center justify-between"},[e("span",{class:"text-sm text-gray-600"},"API Services"),e("div",{class:"flex items-center"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm font-medium text-green-600"},"Online")])],-1)),e("div",en,[n[23]||(n[23]=e("span",{class:"text-sm text-gray-600"},"Uptime",-1)),e("span",tn,o(t.adminStats.systemUptime)+"%",1)])])]),_:1},8,["icon"])])])])):(d(),u("div",sn,[e("div",an,[e("div",nn,[S(Cs,{stats:t.employeeStats,"personal-activities":t.personalActivities,"my-tasks":t.myTasks,"recent-feedback":t.recentFeedback,"clocked-in":t.clockedIn,"current-attendance":t.currentAttendance,"birthday-notifications":t.birthdayData,loading:c.value,"employee-name":((M=i(g))==null?void 0:M.name)||"Employee",onClockInOut:ge,onAction:U,onToggleTask:le,onViewTask:ve},null,8,["stats","personal-activities","my-tasks","recent-feedback","clocked-in","current-attendance","birthday-notifications","loading","employee-name"])])])])),h.value?(d(),u("div",on,[e("div",rn,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:Y}),e("div",ln,[e("div",dn,[e("div",cn,[e("div",un,[S(i(xe),{class:"h-6 w-6 text-red-600"})]),e("div",mn,[e("h3",gn," Reject "+o(((W=j.value)==null?void 0:W.title)||"Request"),1),e("div",vn,[e("div",null,[e("p",fn,[n[26]||(n[26]=e("strong",null,"Requester:",-1)),E(" "+o((H=j.value)==null?void 0:H.requester),1)]),e("p",bn,[n[27]||(n[27]=e("strong",null,"Request:",-1)),E(" "+o((F=j.value)==null?void 0:F.description),1)])]),e("div",null,[n[28]||(n[28]=e("label",{for:"rejection-reason",class:"block text-sm font-medium text-gray-700 mb-2"},[E(" Reason for rejection "),e("span",{class:"text-red-500"},"*")],-1)),Fe(e("textarea",{id:"rejection-reason","onUpdate:modelValue":n[7]||(n[7]=R=>a.value=R),rows:"4",class:"w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-red-500 focus:border-red-500",placeholder:"Please provide a clear reason for rejecting this request...",required:""},null,512),[[Oe,a.value]]),n[29]||(n[29]=e("p",{class:"text-xs text-gray-500 mt-1"}," This reason will be sent to the employee and recorded in the system. ",-1))])])])])]),e("div",hn,[e("button",{onClick:n[8]||(n[8]=(...R)=>b.confirmRejection&&b.confirmRejection(...R)),disabled:!a.value.trim(),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"}," Reject Request ",8,yn),e("button",{onClick:Y,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):w("",!0),(L=t.birthdayData)!=null&&L.currentUserBirthday?(d(),G(Hs,{key:3,show:D.value,employee:t.birthdayData.currentUserBirthday,onClose:fe},null,8,["show","employee"])):w("",!0)]}),_:1}))}};export{Rn as default};
