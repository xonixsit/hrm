import{c as n,o as s,a as e,i as b,m as we,n as x,d as Re,u as r,A as J,t as o,F as H,g as U,s as X,f as A,Q as xe,e as O,h as V,r as F,l as N,z as Ve,k as u,q as oe,B as We,w as Ue,b as Qe,G as he}from"./app-BuLCAOIN.js";import{u as je}from"./useAuth-BogRjwOj.js";import{b as Le,a as Ke,r as Ge,A as Je}from"./AuthenticatedLayout-C1eC7qg2.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as Ae}from"./StatsCard-CZV5RCLS.js";import{A as Ze}from"./ApprovalModal-D7LxLJwg.js";import{a as Te,H as De,q as Me,n as re,w as Ye,f as ke,G as Xe,b as et,m as ae,e as Oe,h as Ee,p as te,O as tt,l as _e,k as ee}from"./icons-8pvN06gq.js";import{r as pe}from"./ChartBarIcon-n9W1mTkT.js";import{r as Ce}from"./AcademicCapIcon-Bqt82HvY.js";import{r as Be}from"./ArrowPathIcon-Umq0Oh6_.js";import{r as Pe}from"./CogIcon-BvkzCi5A.js";import"./useAccessibility-SnrjGO_f.js";import"./ArrowTrendingUpIcon-CiW4xUp0.js";import"./ArrowTrendingDownIcon-DgDqILtw.js";import"./ArrowTopRightOnSquareIcon-BRRtMEw_.js";function Ne(t,p){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])}function st(t,p){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}const at=["role","tabindex"],nt={key:0,class:"flex items-center justify-between mb-4"},ot={class:"flex items-center space-x-3"},rt={key:0,class:"flex items-center space-x-2"},it={class:"flex-1"},lt={class:"flex items-center space-x-3"},fe={__name:"UnifiedCard",props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:[String,Object],default:null},iconVariant:{type:String,default:null,validator:t=>["primary","success","warning","danger","info"].includes(t)},variant:{type:String,default:"default",validator:t=>["default","elevated"].includes(t)},size:{type:String,default:"default",validator:t=>["small","default"].includes(t)},clickable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},status:{type:String,default:null,validator:t=>["success","warning","error","info"].includes(t)},statusText:{type:String,default:null},className:{type:String,default:""}},emits:["click"],setup(t,{emit:p}){const{isDark:a}=Le();return(f,d)=>(s(),n(H,null,[e("div",{class:x(["group relative transition-all duration-300",r(a)?"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50":"bg-white/80 backdrop-blur-sm border border-gray-200/60",t.variant==="elevated"?r(a)?"shadow-xl shadow-gray-900/30":"shadow-xl shadow-gray-900/15":r(a)?"shadow-lg shadow-gray-900/20":"shadow-lg shadow-gray-900/10",t.size==="small"?"rounded-lg":"rounded-2xl",t.clickable&&"cursor-pointer hover:scale-[1.02] hover:shadow-2xl",t.clickable&&(r(a)?"hover:bg-gray-700/60 hover:border-gray-600/60":"hover:bg-white/90 hover:border-gray-300/60"),t.size==="small"?"p-3":"p-4",t.className]),onClick:d[0]||(d[0]=T=>t.clickable&&f.$emit("click")),role:t.clickable?"button":void 0,tabindex:t.clickable?"0":void 0,onKeydown:[d[1]||(d[1]=we(T=>t.clickable&&f.$emit("click"),["enter"])),d[2]||(d[2]=we(Re(T=>t.clickable&&f.$emit("click"),["prevent"]),["space"]))]},null,42,at),f.$slots.header||t.title?(s(),n("div",nt,[e("div",ot,[t.icon||f.$slots.icon?(s(),n("div",{key:0,class:x(["flex items-center justify-center rounded-xl transition-all duration-200",t.size==="small"?"w-10 h-10 p-2":"w-12 h-12 p-3",t.iconVariant==="primary"&&(r(a)?"bg-blue-600/20 text-blue-400 border border-blue-500/30":"bg-blue-50 text-blue-600 border border-blue-200/50"),t.iconVariant==="success"&&(r(a)?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-green-50 text-green-600 border border-green-200/50"),t.iconVariant==="warning"&&(r(a)?"bg-orange-600/20 text-orange-400 border border-orange-500/30":"bg-orange-50 text-orange-600 border border-orange-200/50"),t.iconVariant==="danger"&&(r(a)?"bg-red-600/20 text-red-400 border border-red-500/30":"bg-red-50 text-red-600 border border-red-200/50"),t.iconVariant==="info"&&(r(a)?"bg-purple-600/20 text-purple-400 border border-purple-500/30":"bg-purple-50 text-purple-600 border border-purple-200/50"),!t.iconVariant&&(r(a)?"bg-gray-700/50 text-gray-300 border border-gray-600/50":"bg-gray-100 text-gray-600 border border-gray-200/50")])},[J(f.$slots,"icon",{},()=>[t.icon?(s(),U(X(t.icon),{key:0,class:x(t.size==="small"?"w-4 h-4":"w-5 h-5")},null,8,["class"])):b("",!0)])],2)):b("",!0),e("div",null,[t.title?(s(),n("h3",{key:0,class:x(["font-semibold transition-colors duration-200",t.size==="small"?"text-base":"text-lg",r(a)?"text-white":"text-gray-900"])},o(t.title),3)):b("",!0),t.description?(s(),n("p",{key:1,class:x(["transition-colors duration-200",t.size==="small"?"text-xs":"text-sm",r(a)?"text-gray-400":"text-gray-600"])},o(t.description),3)):b("",!0),J(f.$slots,"header")])]),f.$slots.headerActions?(s(),n("div",rt,[J(f.$slots,"headerActions")])):b("",!0)])):b("",!0),e("div",it,[J(f.$slots,"default")]),f.$slots.footer?(s(),n("div",{key:1,class:x(["mt-6 pt-4 border-t transition-colors duration-200",r(a)?"border-gray-700/50":"border-gray-200/50"])},[J(f.$slots,"footer")],2)):b("",!0),t.loading?(s(),n("div",{key:2,class:x(["absolute inset-0 flex items-center justify-center rounded-2xl transition-all duration-200",r(a)?"bg-gray-800/80 backdrop-blur-sm":"bg-white/80 backdrop-blur-sm"])},[e("div",lt,[e("div",{class:x(["animate-spin rounded-full border-2 border-t-transparent",t.size==="small"?"w-5 h-5":"w-6 h-6",r(a)?"border-gray-400":"border-gray-600"])},null,2),e("span",{class:x(["text-sm font-medium",r(a)?"text-gray-300":"text-gray-600"])}," Loading... ",2)])],2)):b("",!0),t.status?(s(),n("div",{key:3,class:x(["absolute top-4 right-4 flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium",t.status==="success"&&(r(a)?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-green-50 text-green-700 border border-green-200"),t.status==="warning"&&(r(a)?"bg-orange-600/20 text-orange-400 border border-orange-500/30":"bg-orange-50 text-orange-700 border border-orange-200"),t.status==="error"&&(r(a)?"bg-red-600/20 text-red-400 border border-red-500/30":"bg-red-50 text-red-700 border border-red-200"),t.status==="info"&&(r(a)?"bg-blue-600/20 text-blue-400 border border-blue-500/30":"bg-blue-50 text-blue-700 border border-blue-200")])},[e("div",{class:x(["w-1.5 h-1.5 rounded-full",t.status==="success"&&"bg-green-400",t.status==="warning"&&"bg-orange-400",t.status==="error"&&"bg-red-400",t.status==="info"&&"bg-blue-400"])},null,2),e("span",null,o(t.statusText||t.status),1)],2)):b("",!0)],64))}},dt=["role","tabindex","onKeydown"],ct={class:"flex items-center justify-between mb-4"},ut={class:"text-right"},mt={class:"flex items-center justify-between"},gt={key:0,class:"flex items-center space-x-1"},vt={key:0,class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},bt={key:1,class:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ht={key:2,class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ft={class:"flex items-center space-x-3"},yt={key:1,class:"absolute -top-2 -right-2"},ye={__name:"UnifiedStatsCard",props:{value:{type:[Number,String],required:!0},label:{type:String,required:!0},description:{type:String,default:""},icon:{type:[String,Object],required:!0},variant:{type:String,default:"primary",validator:t=>["primary","success","warning","info","neutral"].includes(t)},trend:{type:Number,default:null},trendSuffix:{type:String,default:"%"},status:{type:String,default:null,validator:t=>["excellent","good","warning","critical"].includes(t)},statusText:{type:String,default:null},loading:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},route:{type:String,default:null},urgent:{type:Boolean,default:!1},prefix:{type:String,default:""},suffix:{type:String,default:""}},emits:["click"],setup(t,{emit:p}){const a=t,f=p,{isDark:d}=Le(),T=A(()=>{if(a.loading)return"...";let M=a.value;return typeof M=="number"&&(M=M.toLocaleString()),`${a.prefix}${M}${a.suffix}`}),I=()=>{!a.clickable||a.loading||(a.route&&xe.visit(route(a.route)),f("click"))};return(M,h)=>(s(),n(H,null,[e("div",{class:x(["group relative transition-all duration-300 cursor-pointer",r(d)?"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50":"bg-white/80 backdrop-blur-sm border border-gray-200/60","shadow-lg hover:shadow-xl",r(d)?"shadow-gray-900/20 hover:shadow-gray-900/30":"shadow-gray-900/10 hover:shadow-gray-900/15","rounded-2xl","hover:scale-[1.02] hover:border-opacity-80",r(d)?"hover:bg-gray-700/60 hover:border-gray-600/60":"hover:bg-white/90 hover:border-gray-300/60","p-4"]),onClick:I,role:t.clickable?"button":void 0,tabindex:t.clickable?"0":void 0,onKeydown:[we(I,["enter"]),we(Re(I,["prevent"]),["space"])]},null,42,dt),e("div",ct,[e("div",{class:x(["flex items-center justify-center w-12 h-12 rounded-xl transition-all duration-200",t.variant==="primary"&&(r(d)?"bg-blue-600/20 text-blue-400 border border-blue-500/30":"bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25"),t.variant==="success"&&(r(d)?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-gradient-to-br from-green-500 to-emerald-600 text-white shadow-lg shadow-green-500/25"),t.variant==="warning"&&(r(d)?"bg-orange-600/20 text-orange-400 border border-orange-500/30":"bg-gradient-to-br from-orange-500 to-red-500 text-white shadow-lg shadow-orange-500/25"),t.variant==="info"&&(r(d)?"bg-purple-600/20 text-purple-400 border border-purple-500/30":"bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg shadow-purple-500/25"),t.variant==="neutral"&&(r(d)?"bg-gray-700/50 text-gray-300 border border-gray-600/50":"bg-gradient-to-br from-gray-500 to-gray-600 text-white shadow-lg shadow-gray-500/25")])},[(s(),U(X(t.icon),{class:"w-6 h-6"}))],2),e("div",ut,[e("div",{class:x(["text-2xl font-bold transition-colors duration-200",r(d)?"text-white":"text-gray-900"])},o(t.loading?"...":T.value),3),e("div",{class:x(["text-xs font-medium transition-colors duration-200",r(d)?"text-gray-400":"text-gray-500"])},o(t.label),3)])]),e("div",mt,[e("span",{class:x(["text-sm font-medium transition-colors duration-200",r(d)?"text-gray-300":"text-gray-600"])},o(t.description),3),t.trend!==null&&!t.loading?(s(),n("div",gt,[t.trend>0?(s(),n("svg",vt,h[0]||(h[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):t.trend<0?(s(),n("svg",bt,h[1]||(h[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))):(s(),n("svg",ht,h[2]||(h[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"},null,-1)]))),e("span",{class:x(["text-sm font-medium",t.trend>0&&"text-green-600",t.trend<0&&"text-red-600",t.trend===0&&"text-gray-500"])},o(t.trend>0?"+":"")+o(t.trend)+o(t.trendSuffix),3)])):t.status&&!t.loading?(s(),n("div",{key:1,class:x(["flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium",t.status==="excellent"&&(r(d)?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-green-50 text-green-700 border border-green-200"),t.status==="good"&&(r(d)?"bg-blue-600/20 text-blue-400 border border-blue-500/30":"bg-blue-50 text-blue-700 border border-blue-200"),t.status==="warning"&&(r(d)?"bg-orange-600/20 text-orange-400 border border-orange-500/30":"bg-orange-50 text-orange-700 border border-orange-200"),t.status==="critical"&&(r(d)?"bg-red-600/20 text-red-400 border border-red-500/30":"bg-red-50 text-red-700 border border-red-200")])},[e("div",{class:x(["w-1.5 h-1.5 rounded-full",t.status==="excellent"&&"bg-green-400",t.status==="good"&&"bg-blue-400",t.status==="warning"&&"bg-orange-400",t.status==="critical"&&"bg-red-400"])},null,2),e("span",null,o(t.statusText||t.status),1)],2)):b("",!0)]),t.loading?(s(),n("div",{key:0,class:x(["absolute inset-0 flex items-center justify-center rounded-2xl transition-all duration-200",r(d)?"bg-gray-800/80 backdrop-blur-sm":"bg-white/80 backdrop-blur-sm"])},[e("div",ft,[e("div",{class:x(["animate-spin rounded-full w-5 h-5 border-2 border-t-transparent",r(d)?"border-gray-400":"border-gray-600"])},null,2),e("span",{class:x(["text-sm font-medium",r(d)?"text-gray-300":"text-gray-600"])}," Loading... ",2)])],2)):b("",!0),t.urgent&&!t.loading?(s(),n("div",yt,h[3]||(h[3]=[e("div",{class:"relative"},[e("div",{class:"w-4 h-4 bg-red-500 rounded-full animate-pulse"}),e("div",{class:"absolute inset-0 w-4 h-4 bg-red-500 rounded-full animate-ping opacity-75"})],-1)]))):b("",!0)],64))}},xt={key:0,class:"widget-header"},pt={class:"flex items-center justify-between"},wt={class:"widget-title"},kt={key:0,class:"widget-actions"},$t={class:"widget-content"},At={key:1,class:"widget-footer"},_t={__name:"DashboardWidget",props:{title:{type:String,default:""},size:{type:String,default:"md",validator:t=>["sm","md","lg","xl"].includes(t)},padding:{type:String,default:"md",validator:t=>["none","sm","md","lg"].includes(t)},background:{type:String,default:"white",validator:t=>["white","neutral","gradient"].includes(t)},interactive:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},error:{type:Boolean,default:!1},class:{type:[String,Array,Object],default:""}},setup(t){const p=t,a=A(()=>["dashboard-widget","relative","overflow-hidden","transition-all","duration-200",{"cursor-pointer":p.interactive,"hover:shadow-lg":p.interactive,"opacity-50":p.loading,"border-error-200":p.error,"bg-error-50":p.error}]),f=A(()=>({sm:"min-h-[120px]",md:"min-h-[160px]",lg:"min-h-[200px]",xl:"min-h-[240px]"})[p.size]),d=A(()=>({none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"})[p.padding]),T=A(()=>({white:"bg-white border border-neutral-200 shadow-sm",neutral:"bg-neutral-50 border border-neutral-200",gradient:"bg-gradient-to-br from-white to-neutral-50 border border-neutral-200 shadow-sm"})[p.background]),I=A(()=>"rounded-xl"),M=A(()=>[...a.value,f.value,d.value,T.value,I.value,p.class]);return(h,k)=>(s(),n("div",{class:x(M.value)},[h.$slots.header||t.title?(s(),n("div",xt,[J(h.$slots,"header",{},()=>[e("div",pt,[e("h3",wt,o(t.title),1),h.$slots.actions?(s(),n("div",kt,[J(h.$slots,"actions",{},void 0,!0)])):b("",!0)])],!0)])):b("",!0),e("div",$t,[J(h.$slots,"default",{},void 0,!0)]),h.$slots.footer?(s(),n("div",At,[J(h.$slots,"footer",{},void 0,!0)])):b("",!0)],2))}},se=ie(_t,[["__scopeId","data-v-0708b2c1"]]),Ct={class:"timeline-container"},St={key:0,class:"timeline-empty"},Tt={class:"empty-state"},Mt={class:"text-neutral-500 text-center"},jt={key:1,class:"timeline-list"},It={class:"timeline-line"},Dt={class:"timeline-content"},Bt={class:"activity-header"},Pt={class:"activity-main"},Rt={class:"activity-title"},Vt={key:0,class:"activity-description"},Lt={class:"activity-meta"},Ot=["datetime"],Et={key:0,class:"activity-details"},Nt={class:"detail-label"},qt={class:"detail-value"},Ht={key:1,class:"activity-actions"},Ft=["onClick"],zt={key:2,class:"timeline-footer"},Wt=["disabled"],Ut={__name:"ActivityTimeline",props:{activities:{type:Array,default:()=>[]},title:{type:String,default:"Recent Activity"},maxItems:{type:Number,default:10},showLoadMore:{type:Boolean,default:!0},emptyMessage:{type:String,default:"No recent activity"},emptyIcon:{type:[String,Object],default:null},loading:{type:Boolean,default:!1},timeFormat:{type:String,default:"relative",validator:t=>["relative","absolute","both"].includes(t)}},emits:["load-more","action"],setup(t,{emit:p}){const a=t,f=p,d=O(!1),T=O(a.maxItems),I=A(()=>a.activities.slice(0,T.value)),M=A(()=>a.showLoadMore&&a.activities.length>T.value),h=async()=>{if(!d.value){d.value=!0;try{await f("load-more"),T.value+=a.maxItems}finally{d.value=!1}}},k=(_,L)=>{f("action",{action:_,activity:L})},w=_=>{const L=new Date(_),q=Math.floor((new Date-L)/(1e3*60));if(a.timeFormat==="absolute")return L.toLocaleString();if(a.timeFormat==="relative"||q<60){if(q<1)return"Just now";if(q<60)return`${q}m ago`;const G=Math.floor(q/60);if(G<24)return`${G}h ago`;const Y=Math.floor(G/24);return Y<7?`${Y}d ago`:L.toLocaleDateString()}const E=w(_),K=L.toLocaleString();return`${E} (${K})`},P=_=>{const L="timeline-dot w-3 h-3 rounded-full border-2 border-white shadow-sm",j={success:"bg-success-500",warning:"bg-warning-500",error:"bg-error-500",info:"bg-info-500",default:"bg-neutral-400"},q=j[_.status]||j.default;return`${L} ${q}`},C=_=>{const L="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",j={create:"bg-success-100 text-success-800",update:"bg-info-100 text-info-800",delete:"bg-error-100 text-error-800",approve:"bg-success-100 text-success-800",reject:"bg-error-100 text-error-800",pending:"bg-warning-100 text-warning-800",default:"bg-neutral-100 text-neutral-800"};return`${L} ${j[_]||j.default}`},D=_=>{const L="inline-flex items-center space-x-1 px-3 py-1 text-sm font-medium rounded-md transition-colors",j={primary:"bg-primary-100 text-primary-700 hover:bg-primary-200",secondary:"bg-neutral-100 text-neutral-700 hover:bg-neutral-200",success:"bg-success-100 text-success-700 hover:bg-success-200",warning:"bg-warning-100 text-warning-700 hover:bg-warning-200",error:"bg-error-100 text-error-700 hover:bg-error-200",default:"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"};return`${L} ${j[_]||j.default}`};return(_,L)=>(s(),U(se,{title:t.title,loading:t.loading,class:"activity-timeline",padding:"md"},{actions:V(()=>[J(_.$slots,"actions",{},void 0,!0)]),default:V(()=>[e("div",Ct,[t.activities.length===0?(s(),n("div",St,[e("div",Tt,[t.emptyIcon?(s(),U(X(t.emptyIcon),{key:0,class:"w-12 h-12 text-neutral-400 mx-auto mb-3"})):b("",!0),e("p",Mt,o(t.emptyMessage),1)])])):(s(),n("div",jt,[(s(!0),n(H,null,F(I.value,(j,q)=>(s(),n("div",{key:j.id||q,class:x(["timeline-item",{"timeline-item--last":q===I.value.length-1}])},[e("div",It,[e("div",{class:x(P(j))},null,2)]),e("div",Dt,[e("div",Bt,[e("div",Pt,[e("h4",Rt,o(j.title),1),j.description?(s(),n("p",Vt,o(j.description),1)):b("",!0)]),e("div",Lt,[e("time",{class:"activity-time",datetime:j.timestamp},o(w(j.timestamp)),9,Ot),j.type?(s(),n("span",{key:0,class:x(C(j.type))},o(j.type),3)):b("",!0)])]),j.details?(s(),n("div",Et,[(s(!0),n(H,null,F(j.details,(E,K)=>(s(),n("div",{key:K,class:"detail-item"},[e("span",Nt,o(K)+":",1),e("span",qt,o(E),1)]))),128))])):b("",!0),j.actions?(s(),n("div",Ht,[(s(!0),n(H,null,F(j.actions,E=>(s(),n("button",{key:E.label,onClick:K=>k(E,j),class:x(["action-button",D(E.type)])},[E.icon?(s(),U(X(E.icon),{key:0,class:"w-4 h-4"})):b("",!0),N(" "+o(E.label),1)],10,Ft))),128))])):b("",!0)])],2))),128))])),M.value&&!t.loading?(s(),n("div",zt,[e("button",{onClick:h,class:"load-more-button",disabled:d.value},[d.value?(s(),U(X("LoadingIcon"),{key:0,class:"w-4 h-4 animate-spin"})):b("",!0),N(" "+o(d.value?"Loading...":"Load More"),1)],8,Wt)])):b("",!0)])]),_:3},8,["title","loading"]))}},Qt=ie(Ut,[["__scopeId","data-v-20cefea4"]]),Kt={class:"actions-grid"},Gt=["onClick","disabled"],Jt={class:"action-icon"},Zt={class:"action-content"},Yt={class:"action-label"},Xt={key:0,class:"action-description"},es={key:0,class:"actions-footer"},ts={__name:"QuickActions",props:{actions:{type:Array,default:()=>[]},title:{type:String,default:"Quick Actions"},maxVisible:{type:Number,default:6},layout:{type:String,default:"grid",validator:t=>["grid","list"].includes(t)},loading:{type:Boolean,default:!1}},emits:["action"],setup(t,{emit:p}){const a=t,f=p,d=O(!1),T=A(()=>d.value||a.actions.length<=a.maxVisible?a.actions:a.actions.slice(0,a.maxVisible)),I=P=>{P.disabled||(f("action",P),P.href&&(P.external?window.open(P.href,"_blank"):window.location.href=P.href),P.route&&window.route&&(window.location.href=window.route(P.route,P.params||{})))},M=()=>{d.value=!d.value},h=P=>{const C=["group relative flex items-center p-4 rounded-xl border transition-all duration-200","hover:shadow-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"];P.disabled?C.push("opacity-50 cursor-not-allowed"):C.push("cursor-pointer hover:border-primary-200 hover:bg-primary-50");const D={primary:"border-primary-200 bg-primary-50 text-primary-900",secondary:"border-neutral-200 bg-white text-neutral-900",success:"border-success-200 bg-success-50 text-success-900",warning:"border-warning-200 bg-warning-50 text-warning-900",error:"border-error-200 bg-error-50 text-error-900",default:"border-neutral-200 bg-white text-neutral-900"},_=P.variant||"default";return C.push(D[_]),C},k=P=>{const C="w-6 h-6",D={primary:"text-primary-600",secondary:"text-neutral-600",success:"text-success-600",warning:"text-warning-600",error:"text-error-600",default:"text-neutral-600"},_=P.variant||"default";return`${C} ${D[_]}`},w=P=>{const C="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",D={primary:"bg-primary-100 text-primary-800",secondary:"bg-neutral-100 text-neutral-800",success:"bg-success-100 text-success-800",warning:"bg-warning-100 text-warning-800",error:"bg-error-100 text-error-800",info:"bg-info-100 text-info-800",default:"bg-neutral-100 text-neutral-800"},_=P.variant||"default";return`${C} ${D[_]}`};return(P,C)=>(s(),U(se,{title:t.title,loading:t.loading,class:"quick-actions",padding:"md"},{actions:V(()=>[J(P.$slots,"actions",{},void 0,!0)]),default:V(()=>[e("div",Kt,[(s(!0),n(H,null,F(T.value,D=>(s(),n("button",{key:D.id||D.label,onClick:_=>I(D),disabled:D.disabled||t.loading,class:x([h(D),"action-item"])},[e("div",Jt,[D.icon?(s(),U(X(D.icon),{key:0,class:x(k(D))},null,8,["class"])):b("",!0)]),e("div",Zt,[e("h4",Yt,o(D.label),1),D.description?(s(),n("p",Xt,o(D.description),1)):b("",!0),D.badge?(s(),n("span",{key:1,class:x(w(D.badge))},o(D.badge.text),3)):b("",!0)]),C[0]||(C[0]=e("div",{class:"action-arrow"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))],10,Gt))),128))]),t.actions.length>t.maxVisible?(s(),n("div",es,[e("button",{onClick:M,class:"toggle-button"},[N(o(d.value?"Show Less":`Show ${t.actions.length-t.maxVisible} More`)+" ",1),(s(),n("svg",{class:x(["w-4 h-4 transition-transform",{"rotate-180":d.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},C[1]||(C[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])])):b("",!0)]),_:3},8,["title","loading"]))}},qe=ie(ts,[["__scopeId","data-v-d61ca03f"]]),ss={class:"manager-dashboard"},as={class:"welcome-section"},ns={class:"welcome-content"},os={class:"welcome-title"},rs={class:"welcome-actions"},is=["disabled"],ls={class:"stats-grid"},ds={class:"dashboard-content"},cs={class:"left-column"},us={class:"performance-metrics"},ms={class:"metric-item"},gs={class:"metric-header"},vs={class:"metric-value"},bs={class:"metric-bar"},hs={class:"metric-item"},fs={class:"metric-header"},ys={class:"metric-value"},xs={class:"metric-bar"},ps={class:"metric-item"},ws={class:"metric-header"},ks={class:"metric-value"},$s={class:"metric-bar"},As={class:"right-column"},_s={class:"team-members"},Cs={class:"member-avatar"},Ss=["src","alt"],Ts={key:1,class:"avatar-placeholder"},Ms={class:"member-info"},js={class:"member-name"},Is={class:"member-role"},Ds={class:"member-status"},Bs={key:0,class:"member-task"},Ps={class:"member-actions"},Rs=["onClick"],Vs=["onClick"],Ls={class:"approval-count"},Os={key:0,class:"empty-state"},Es={key:1,class:"approvals-container"},Ns={class:"approvals-scroll"},qs=["data-approval-id"],Hs={class:"approval-content"},Fs={class:"approval-header"},zs={class:"approval-title"},Ws={class:"approval-requester"},Us={class:"approval-date"},Qs={key:0,class:"approval-stats"},Ks={class:"stats-row"},Gs={class:"stat-item"},Js={class:"stat-value"},Zs={class:"stat-item"},Ys={class:"stat-value"},Xs={key:0,class:"stats-row"},ea={class:"stat-item overtime"},ta={class:"stat-value"},sa={key:1,class:"approval-feedback"},aa={class:"approval-actions"},na=["onClick","disabled","title"],oa={key:0,class:"w-4 h-4 animate-spin"},ra=["onClick","disabled","title"],ia={key:0,class:"w-4 h-4 animate-spin"},la={key:0,class:"view-all-section"},da={__name:"ManagerDashboard",props:{stats:{type:Object,default:()=>({teamSize:0,activeProjects:0,pendingTasks:0,teamAttendance:0,teamTrend:0,projectTrend:0,taskTrend:0,attendanceTrend:0})},teamActivities:{type:Array,default:()=>[]},teamPerformance:{type:Object,default:()=>({completionRate:85,taskVelocity:12,satisfaction:4.2})},teamMembers:{type:Array,default:()=>[]},pendingApprovals:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh","approve","reject","action","view-member","send-message"],setup(t,{emit:p}){const a=p,{user:f}=je(),d=O(!1),T=O(!1),I=O(new Set),M=O({}),h=O(!1),k=O(null),w=O("approve"),P=A(()=>{var y;return((y=f.value)==null?void 0:y.name)||"Manager"}),C=A(()=>{const y=new Date().getHours();return y<12?"morning":y<17?"afternoon":"evening"}),D=A(()=>[{id:"create-project",label:"New Project",description:"Start a new team project",icon:Te,variant:"primary",route:"projects.create"},{id:"assign-tasks",label:"Assign Tasks",description:"Delegate tasks to team members",icon:De,variant:"secondary",route:"tasks.create"},{id:"team-reports",label:"Team Reports",description:"View team performance analytics",icon:pe,variant:"info",route:"reports.team"},{id:"schedule-meeting",label:"Schedule Meeting",description:"Plan team meetings and reviews",icon:Me,variant:"success",route:"meetings.create"},{id:"review-timesheets",label:"Review Timesheets",description:"Approve team time entries",icon:re,variant:"warning",route:"timesheets.review"},{id:"team-feedback",label:"Team Feedback",description:"Provide feedback to team members",icon:Ye,variant:"secondary",route:"feedback.create"}]),_=async()=>{d.value=!0;try{await a("refresh")}finally{d.value=!1}},L=y=>{a("action",{type:"timeline",data:y})},j=y=>{a("action",{type:"quick-action",data:y})},q=()=>{a("action",{type:"view-reports"})},E=y=>{a("view-member",y)},K=y=>{a("send-message",y)},G=(y,v)=>{k.value=y,w.value=v,h.value=!0},Y=async y=>{T.value=!0,delete M.value[y.approval.id];try{const v={...y.approval,comments:y.comments};y.action==="approve"?await a("approve",v):await a("reject",v),i(y.approval.id,"success",`${y.action==="approve"?"Approved":"Rejected"} successfully`),setTimeout(()=>{delete M.value[y.approval.id]},3e3),h.value=!1}catch{i(y.approval.id,"error",`Failed to ${y.action}. Please try again.`),setTimeout(()=>{delete M.value[y.approval.id]},5e3)}finally{T.value=!1}},le=()=>{a("action",{type:"view-all-approvals"})},de=y=>{const v="absolute -bottom-0 -right-0 w-3 h-3 rounded-full border-2 border-white",g={online:"bg-success-500",away:"bg-warning-500",busy:"bg-error-500",offline:"bg-neutral-400"};return`${v} ${g[y]||g.offline}`},ce=y=>{const v="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",g={online:"bg-success-100 text-success-800",away:"bg-warning-100 text-warning-800",busy:"bg-error-100 text-error-800",offline:"bg-neutral-100 text-neutral-800"};return`${v} ${g[y]||g.offline}`},S=y=>{const v=new Date,g=new Date(y),Z=Math.floor((v-g)/(1e3*60));if(Z<1)return"Just now";if(Z<60)return`${Z}m ago`;const ue=Math.floor(Z/60);return ue<24?`${ue}h ago`:`${Math.floor(ue/24)}d ago`},i=(y,v,g)=>{M.value[y]={type:v,message:g}},z=y=>{const v="flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium",g={success:"bg-success-50 text-success-700 border border-success-200",error:"bg-error-50 text-error-700 border border-error-200",warning:"bg-warning-50 text-warning-700 border border-warning-200"};return`${v} ${g[y]||g.error}`},ne=y=>({success:ae,error:te,warning:te})[y]||te;return Ve(()=>{}),(y,v)=>(s(),n("div",ss,[e("div",as,[e("div",ns,[e("h1",os," Good "+o(C.value)+", "+o(P.value)+"! ",1),v[1]||(v[1]=e("p",{class:"welcome-subtitle"}," Here's your team overview and management tools for today. ",-1))]),e("div",rs,[e("button",{onClick:_,disabled:d.value,class:"refresh-button"},[(s(),U(X(d.value?"LoadingIcon":"ArrowPathIcon"),{class:x(["w-4 h-4",{"animate-spin":d.value}])},null,8,["class"])),v[2]||(v[2]=N(" Refresh "))],8,is)])]),e("div",ls,[u(Ae,{value:t.stats.teamSize,label:"Team Members",icon:r(ke),"icon-color":"primary",variant:"featured",trend:t.stats.teamTrend,loading:t.loading,clickable:!0,route:"employees.index"},null,8,["value","icon","trend","loading"]),u(Ae,{value:t.stats.pendingTasks,label:"Pending Tasks",icon:r(De),"icon-color":"warning",trend:t.stats.taskTrend,loading:t.loading,clickable:!0,route:"tasks.index"},null,8,["value","icon","trend","loading"]),u(Ae,{value:t.stats.teamAttendance,label:"Team Attendance",icon:r(Xe),"icon-color":"info",unit:"%",trend:t.stats.attendanceTrend,loading:t.loading,clickable:!0,route:"attendances.index"},null,8,["value","icon","trend","loading"])]),e("div",ds,[e("div",cs,[u(Qt,{activities:t.teamActivities,title:"Team Activity","max-items":8,loading:t.loading,onAction:L},null,8,["activities","loading"]),u(se,{title:"Team Performance",loading:t.loading,class:"team-performance"},{actions:V(()=>[e("button",{onClick:q,class:"text-sm text-primary-600 hover:text-primary-700"}," View Reports ")]),default:V(()=>[e("div",us,[e("div",ms,[e("div",gs,[v[3]||(v[3]=e("span",{class:"metric-label"},"Project Completion Rate",-1)),e("span",vs,o(t.teamPerformance.completionRate)+"%",1)]),e("div",bs,[e("div",{class:"metric-progress bg-success-500",style:oe({width:`${t.teamPerformance.completionRate}%`})},null,4)])]),e("div",hs,[e("div",fs,[v[4]||(v[4]=e("span",{class:"metric-label"},"Average Task Velocity",-1)),e("span",ys,o(t.teamPerformance.taskVelocity)+" tasks/week",1)]),e("div",xs,[e("div",{class:"metric-progress bg-info-500",style:oe({width:`${Math.min(t.teamPerformance.taskVelocity*10,100)}%`})},null,4)])]),e("div",ps,[e("div",ws,[v[5]||(v[5]=e("span",{class:"metric-label"},"Team Satisfaction",-1)),e("span",ks,o(t.teamPerformance.satisfaction)+"/5",1)]),e("div",$s,[e("div",{class:"metric-progress bg-warning-500",style:oe({width:`${t.teamPerformance.satisfaction/5*100}%`})},null,4)])])])]),_:1},8,["loading"])]),e("div",As,[u(qe,{actions:D.value,title:"Management Tools","max-visible":6,onAction:j},null,8,["actions"]),u(se,{title:"Team Status",loading:t.loading,class:"team-status"},{default:V(()=>[e("div",_s,[(s(!0),n(H,null,F(t.teamMembers,g=>(s(),n("div",{key:g.id,class:"team-member"},[e("div",Cs,[g.avatar?(s(),n("img",{key:0,src:g.avatar,alt:g.name,class:"w-10 h-10 rounded-full"},null,8,Ss)):(s(),n("div",Ts,o(g.name.charAt(0)),1)),e("div",{class:x(de(g.status))},null,2)]),e("div",Ms,[e("h4",js,o(g.name),1),e("p",Is,o(g.role),1),e("div",Ds,[e("span",{class:x(ce(g.status))},o(g.status),3),g.currentTask?(s(),n("span",Bs," Working on: "+o(g.currentTask),1)):b("",!0)])]),e("div",Ps,[e("button",{onClick:Z=>E(g),class:"action-button",title:"View Details"},[u(r(et),{class:"w-4 h-4"})],8,Rs),e("button",{onClick:Z=>K(g),class:"action-button",title:"Send Message"},[u(r(Ne),{class:"w-4 h-4"})],8,Vs)])]))),128))])]),_:1},8,["loading"]),u(se,{title:"Pending Approvals",loading:t.loading,class:"pending-approvals"},{actions:V(()=>[e("span",Ls,o(t.pendingApprovals.length),1)]),default:V(()=>[t.pendingApprovals.length===0?(s(),n("div",Os,[u(r(ae),{class:"w-12 h-12 text-success-400 mx-auto mb-3"}),v[6]||(v[6]=e("p",{class:"text-neutral-500 text-center"},"All approvals handled!",-1))])):(s(),n("div",Es,[e("div",Ns,[(s(!0),n(H,null,F(t.pendingApprovals,g=>(s(),n("div",{key:g.id,"data-approval-id":g.id,class:x(["approval-item",{"approval-processing":I.value.has(g.id)}])},[e("div",Hs,[e("div",Fs,[e("h4",zs,o(g.title),1)]),e("p",Ws," Requested by "+o(g.requester),1),e("span",Us,o(S(g.created_at)),1),g.type==="timesheet"&&g.stats?(s(),n("div",Qs,[e("div",Ks,[e("div",Gs,[v[7]||(v[7]=e("span",{class:"stat-label"},"Total Hours:",-1)),e("span",Js,o(g.stats.total_hours||"0h 0m"),1)]),e("div",Zs,[v[8]||(v[8]=e("span",{class:"stat-label"},"Days:",-1)),e("span",Ys,o(g.stats.days_count||0),1)])]),g.stats.overtime_hours?(s(),n("div",Xs,[e("div",ea,[v[9]||(v[9]=e("span",{class:"stat-label"},"Overtime:",-1)),e("span",ta,o(g.stats.overtime_hours),1)])])):b("",!0)])):b("",!0),M.value[g.id]?(s(),n("div",sa,[e("div",{class:x(z(M.value[g.id].type))},[(s(),U(X(ne(M.value[g.id].type)),{class:"w-4 h-4"})),e("span",null,o(M.value[g.id].message),1)],2)])):b("",!0)]),e("div",aa,[e("button",{onClick:Z=>G(g,"approve"),class:"approve-button",disabled:T.value||I.value.has(g.id),title:I.value.has(g.id)?"Processing...":"Approve"},[I.value.has(g.id)?(s(),n("div",oa,v[10]||(v[10]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):(s(),U(r(Oe),{key:1,class:"w-4 h-4"}))],8,na),e("button",{onClick:Z=>G(g,"reject"),class:"reject-button",disabled:T.value||I.value.has(g.id),title:I.value.has(g.id)?"Processing...":"Reject"},[I.value.has(g.id)?(s(),n("div",ia,v[11]||(v[11]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):(s(),U(r(Ee),{key:1,class:"w-4 h-4"}))],8,ra)])],10,qs))),128))]),t.pendingApprovals.length>3?(s(),n("div",la,[e("button",{onClick:le,class:"view-all-link"},[e("span",null,"View All "+o(t.pendingApprovals.length)+" Approvals",1),v[12]||(v[12]=e("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])])):b("",!0)]))]),_:1},8,["loading"])])]),u(Ze,{show:h.value,approval:k.value,action:w.value,onClose:v[0]||(v[0]=g=>h.value=!1),onSubmit:Y},null,8,["show","approval","action"])]))}},ca=ie(da,[["__scopeId","data-v-539c5cb0"]]),ua={class:"employee-dashboard"},ma={class:"motivation-block"},ga={class:"motivation-content"},va={class:"motivation-text"},ba={class:"quick-clock-actions"},ha=["disabled"],fa=["disabled"],ya=["disabled"],xa={class:"time-tracking-section"},pa={class:"real-time-clock"},wa={class:"clock-display"},ka={class:"current-time"},$a={class:"current-date"},Aa={class:"work-status"},_a={class:"status-text"},Ca={class:"time-progress-block"},Sa={class:"duration-display"},Ta={class:"duration-item"},Ma={class:"duration-value"},ja={key:0,class:"duration-item"},Ia={class:"duration-value"},Da={class:"duration-item"},Ba={class:"duration-value"},Pa={class:"horizontal-clock-container"},Ra={class:"time-markers"},Va={class:"marker-time"},La={class:"time-progress-bar"},Oa={key:0,class:"current-time-indicator"},Ea={class:"time-tooltip"},Na={class:"time-progress-info"},qa={class:"progress-left"},Ha={class:"progress-time"},Fa={class:"progress-right"},za={class:"progress-percentage"},Wa={key:0,class:"competency-overview-section"},Ua={class:"competency-stats-grid"},Qa={class:"competency-stat-card"},Ka={class:"stat-icon"},Ga={class:"stat-content"},Ja={class:"stat-value"},Za={class:"competency-stat-card"},Ya={class:"stat-icon"},Xa={class:"stat-content"},en={class:"stat-value"},tn={key:0,class:"competency-stat-card"},sn={class:"stat-icon"},an={class:"stat-content"},nn={class:"stat-value"},on={key:1,class:"competency-stat-card"},rn={class:"stat-icon"},ln={class:"dashboard-content"},dn={class:"left-column"},cn={key:0,class:"empty-state"},un={key:1,class:"schedule-list"},mn={class:"schedule-time"},gn={class:"time-start"},vn={class:"time-end"},bn={class:"schedule-content"},hn={class:"schedule-title"},fn={key:0,class:"schedule-description"},yn={class:"schedule-meta"},xn={key:0,class:"schedule-location"},pn={key:1,class:"schedule-attendees"},wn={class:"schedule-actions"},kn=["onClick"],$n={key:0,class:"empty-state"},An={key:1,class:"feedback-list"},_n={class:"feedback-header"},Cn={class:"feedback-from"},Sn={class:"feedback-author"},Tn={class:"feedback-role"},Mn={class:"feedback-rating"},jn={class:"rating-stars"},In={class:"feedback-comment"},Dn={class:"feedback-date"},Bn={class:"right-column"},Pn={__name:"EmployeeDashboard",props:{stats:{type:Object,default:()=>({hoursToday:0,tasksCompleted:0,leaveBalance:0,upcomingDeadlines:0,taskTrend:0})},personalActivities:{type:Array,default:()=>[]},todaysSchedule:{type:Array,default:()=>[]},myTasks:{type:Array,default:()=>[]},recentFeedback:{type:Array,default:()=>[]},clockedIn:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},currentAttendance:{type:Object,default:()=>({clocked_in:!1,on_break:!1,clock_in_time:null,todays_summary:{total_hours:"0h 0m",break_time:"0h 0m",sessions:0,clock_ins:0},recent_activities:[],stats:{weekly_hours:"0h 0m",monthly_hours:"0h 0m",average_daily:"0h 0m"}})}},emits:["clock-in-out","toggle-task","action","view-task"],setup(t,{emit:p}){const a=t,f=p;je();const d=O(new Date),T=O(""),I=O("0h 0m 0s"),M=O("0h 0m 0s"),h=O(null);let k=null;const w=A(()=>{const l=a.clockedIn||a.currentAttendance.clocked_in;return console.log("🔍 isCurrentlyClockedIn computed:",{propsClockedIn:a.clockedIn,currentAttendanceClockedIn:a.currentAttendance.clocked_in,result:l}),l}),P=A(()=>w.value?"Clock Out":"Clock In"),C=A(()=>["inline-flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",w.value?"text-white bg-error-600 border border-error-600 hover:bg-error-700 focus:ring-error-500":"text-white bg-success-600 border border-success-600 hover:bg-success-700 focus:ring-success-500"]),D=A(()=>d.value.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})),_=A(()=>!w.value||!a.currentAttendance.clock_in_time?"before-work":"during-work"),L=A(()=>{if(!w.value)return console.log("🔍 Progress: Not clocked in, returning 0%"),0;const l=a.currentAttendance.clock_in_time;if(!l)return console.log("🔍 Progress: No clock in time, returning 0%"),0;const c=d.value,m=new Date(l);if(c<m)return console.log("🔍 Progress: Current time before clock in, returning 0%"),0;const R=(c.getTime()-m.getTime())/(1e3*60*60),B=R/8*100,W=Math.min(100,Math.max(0,B));return console.log("🔍 Progress calculation:",{clockInTime:l,now:c.toISOString(),workTimeElapsedHours:R.toFixed(2),percentage:B.toFixed(2),finalPercentage:W.toFixed(2)}),W}),j=A(()=>{const l=Math.round(L.value);switch(_.value){case"before-work":return w.value?"Work session starting":"Ready to clock in";case"after-work":return"Workday complete!";case"during-work":return`${l}% of workday`;default:return`${l}% of workday`}}),q=A(()=>{switch(_.value){case"before-work":return"Pre-work";case"after-work":return"Complete";case"during-work":return"Active";default:return"Active"}}),E=A(()=>[{label:"8 AM",isLunch:!1},{label:"9",isLunch:!1},{label:"10",isLunch:!1},{label:"11",isLunch:!1},{label:"12 PM",isLunch:!0},{label:"1",isLunch:!1},{label:"2",isLunch:!1},{label:"3",isLunch:!1},{label:"4",isLunch:!1},{label:"5 PM",isLunch:!1}]),K=A(()=>{if(!w.value)return 0;const l=a.currentAttendance.clock_in_time;if(!l)return 0;const c=d.value,m=new Date(c);m.setHours(8,0,0,0);const $=new Date(c);$.setHours(17,0,0,0);const R=new Date(l),Q=$.getTime()-m.getTime(),B=R.getTime()-m.getTime(),W=Math.max(0,B/Q*100);return Math.min(100,W)}),G=A(()=>{if(!w.value)return console.log("🔍 ProgressWidth: Not clocked in, returning 0"),0;const l=a.currentAttendance.clock_in_time;if(!l)return console.log("🔍 ProgressWidth: No clock in time, returning 0"),0;const c=d.value,m=new Date(c);m.setHours(8,0,0,0);const $=new Date(c);$.setHours(17,0,0,0);const R=new Date(l),Q=$.getTime()-m.getTime();if(c<R)return console.log("🔍 ProgressWidth: Current time before clock in, returning 0"),0;const B=c.getTime()-m.getTime(),W=Math.min(100,Math.max(0,B/Q*100)),me=R.getTime()-m.getTime(),ge=Math.max(0,me/Q*100),ve=W-ge,be=Math.max(0,ve);return console.log("🔍 ProgressWidth calculation:",{clockInTime:l,timelineStart:m.toISOString(),timelineEnd:$.toISOString(),currentPositionPercent:W.toFixed(2),clockInPositionPercent:ge.toFixed(2),width:ve.toFixed(2),finalWidth:be.toFixed(2)}),be}),Y=A(()=>{if(!w.value)return 0;const l=a.currentAttendance.clock_in_time;if(!l)return 0;const c=d.value,m=new Date(c);m.setHours(8,0,0,0);const $=new Date(c);$.setHours(17,0,0,0);const R=new Date(l),Q=$.getTime()-m.getTime(),B=R.getTime()-m.getTime(),W=Math.max(0,B/Q*100);return Math.min(100,W)}),le=A(()=>{if(!w.value)return[];const l=d.value,c=new Date(l);c.setHours(8,0,0,0);const m=new Date(l);m.setHours(17,0,0,0);const $=m.getTime()-c.getTime(),R=[];if((a.currentAttendance.break_sessions||[]).forEach(B=>{B.start&&R.push({start:B.start,end:B.end,isOngoing:!1})}),a.currentAttendance.on_break){let B=null;a.currentAttendance.current_break_start?B=a.currentAttendance.current_break_start:h.value&&(B=h.value),B&&R.push({start:B,end:null,isOngoing:!0})}return R.length===0?[]:R.map((B,W)=>{const me=new Date(B.start),ge=B.end?new Date(B.end):l,ve=me.getTime()-c.getTime(),be=ge.getTime()-c.getTime(),Ie=Math.max(0,ve/$*100),Fe=Math.min(100,be/$*100),ze=Math.max(0,Fe-Ie);return{left:Ie,width:ze,isOngoing:B.isOngoing}}).filter(B=>B.width>0)}),de=A(()=>[{id:"my-assessments",label:"My Assessments",description:"View and complete competency assessments",icon:ae,variant:"primary",route:"competency-assessments.my-assessments"},{id:"request-leave",label:"Request Leave",description:"Submit a new leave request",icon:Me,variant:"secondary",route:"leaves.create"},{id:"assessment-dashboard",label:"Assessment Dashboard",description:"View assessment overview and analytics",icon:te,variant:"success",route:"assessment-dashboard"}]),ce=()=>{const l="text-xs font-medium px-2 py-1 rounded-full";switch(_.value){case"before-work":return`${l} bg-neutral-100 text-neutral-600`;case"after-work":return`${l} bg-success-100 text-success-700`;case"during-work":return`${l} bg-primary-100 text-primary-700`;default:return`${l} bg-primary-100 text-primary-700`}},S=()=>{const l="flex items-center space-x-2";switch(_.value){case"before-work":return`${l} text-neutral-600`;case"after-work":return`${l} text-success-700`;case"during-work":return a.currentAttendance.on_break?`${l} text-warning-700`:`${l} text-primary-700`;default:return`${l} text-primary-700`}},i=()=>{const l=new Date;d.value=l,T.value=l.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},z=()=>{if(w.value&&a.currentAttendance.clock_in_time){const l=new Date(a.currentAttendance.clock_in_time),m=new Date-l,$=Math.floor(m/(1e3*60*60)),R=Math.floor(m%(1e3*60*60)/(1e3*60)),Q=Math.floor(m%(1e3*60)/1e3);I.value=`${$}h ${R}m ${Q}s`}else I.value="0h 0m 0s";if(a.currentAttendance.on_break){let l=null;if(a.currentAttendance.current_break_start)l=new Date(a.currentAttendance.current_break_start);else if(h.value)l=new Date(h.value);else if(a.currentAttendance.break_sessions&&a.currentAttendance.break_sessions.length>0){const c=a.currentAttendance.break_sessions[a.currentAttendance.break_sessions.length-1];c&&!c.end&&(l=new Date(c.start))}if(l&&!isNaN(l.getTime())){const m=Math.max(0,new Date-l),$=Math.floor(m/(1e3*60*60)),R=Math.floor(m%(1e3*60*60)/(1e3*60)),Q=Math.floor(m%(1e3*60)/1e3);M.value=`${$}h ${R}m ${Q}s`,h.value||(h.value=l.toISOString())}else h.value||(h.value=new Date().toISOString()),M.value="0h 0m 1s"}else M.value="0h 0m 0s",h.value=null},ne=async()=>{try{console.log("🔍 EmployeeDashboard: Clock in/out button clicked"),console.log("🔍 Current state:",{isCurrentlyClockedIn:w.value,clockedIn:a.clockedIn,currentAttendanceClockedIn:a.currentAttendance.clocked_in}),f("clock-in-out"),setTimeout(()=>{const l=new CustomEvent("attendance-state-changed",{detail:{clockedIn:!w.value,onBreak:!1,clockInTime:w.value?null:new Date().toISOString(),breakStartTime:null,timestamp:Date.now()}});window.dispatchEvent(l)},100)}catch(l){console.error("Clock in/out failed:",l)}},y=async()=>{try{h.value=new Date().toISOString(),f("action",{type:"take-break"}),setTimeout(()=>{const l=new CustomEvent("attendance-state-changed",{detail:{clockedIn:!0,onBreak:!0,clockInTime:a.currentAttendance.clock_in_time,breakStartTime:h.value,timestamp:Date.now()}});window.dispatchEvent(l)},100)}catch(l){console.error("Take break failed:",l)}},v=async()=>{try{f("action",{type:"end-break"}),setTimeout(()=>{const l=new CustomEvent("attendance-state-changed",{detail:{clockedIn:!0,onBreak:!1,clockInTime:a.currentAttendance.clock_in_time,breakStartTime:null,timestamp:Date.now()}});window.dispatchEvent(l)},100)}catch(l){console.error("End break failed:",l)}},g=l=>{f("action",{type:"quick-action",data:l})},Z=()=>{f("action",{type:"view-calendar"})},ue=l=>{l.meeting_link&&window.open(l.meeting_link,"_blank")},$e=l=>new Date(`2000-01-01T${l}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),He=l=>{const c=new Date,m=new Date(l),$=Math.floor((m-c)/(1e3*60));if($<0){const B=Math.abs($);if(B<60)return`${B}m ago`;const W=Math.floor(B/60);return W<24?`${W}h ago`:`${Math.floor(W/24)}d ago`}if($<60)return`in ${$}m`;const R=Math.floor($/60);return R<24?`in ${R}h`:`in ${Math.floor(R/24)}d`};return Ve(()=>{i(),z(),k=setInterval(()=>{i(),z()},1e3)}),We(()=>{k&&clearInterval(k)}),(l,c)=>(s(),n("div",ua,[e("div",ma,[e("div",ga,[e("p",va,[u(r(tt),{class:"w-5 h-5 inline-block mr-2 text-yellow-500"}),c[0]||(c[0]=N(" Ready to tackle today's challenges? "))])]),e("div",ba,[e("button",{onClick:ne,disabled:t.loading,class:x(C.value)},[u(r(re),{class:"w-4 h-4"}),N(" "+o(P.value),1)],10,ha),w.value&&!t.currentAttendance.on_break?(s(),n("button",{key:0,onClick:y,disabled:t.loading,class:"break-button"},[u(r(Ke),{class:"w-4 h-4"}),c[1]||(c[1]=N(" Take Break "))],8,fa)):b("",!0),w.value&&t.currentAttendance.on_break?(s(),n("button",{key:1,onClick:v,disabled:t.loading,class:"end-break-button"},[u(r(Ge),{class:"w-4 h-4"}),c[2]||(c[2]=N(" End Break "))],8,ya)):b("",!0)])]),e("div",xa,[e("div",pa,[e("div",wa,[e("div",ka,o(D.value),1),e("div",$a,o(T.value),1)]),e("div",Aa,[e("div",{class:x(["status-indicator",S()])},[c[3]||(c[3]=e("div",{class:"status-dot"},null,-1)),e("span",_a,o(q.value),1)],2)])]),e("div",Ca,[e("div",Sa,[e("div",Ta,[c[4]||(c[4]=e("div",{class:"duration-label"},"Work Time",-1)),e("div",Ma,o(I.value),1)]),t.currentAttendance.on_break?(s(),n("div",ja,[c[5]||(c[5]=e("div",{class:"duration-label"},"Break Time",-1)),e("div",Ia,o(M.value),1)])):b("",!0),e("div",Da,[c[6]||(c[6]=e("div",{class:"duration-label"},"Progress",-1)),e("div",Ba,o(Math.round(L.value))+"%",1)])]),e("div",Pa,[e("div",Ra,[(s(!0),n(H,null,F(E.value,(m,$)=>(s(),n("div",{key:$,class:x(["time-marker",{"start-marker":$===0,"end-marker":$===E.value.length-1,"lunch-marker":m.isLunch,"regular-marker":!m.isLunch&&$!==0&&$!==E.value.length-1}])},[c[7]||(c[7]=e("div",{class:"marker-line"},null,-1)),e("span",Va,o(m.label),1)],2))),128))]),e("div",La,[c[9]||(c[9]=e("div",{class:"progress-bar-shimmer"},null,-1)),w.value&&Y.value>0?(s(),n("div",{key:0,class:"pre-work-fill",style:oe({width:`${Y.value}%`,transition:"width 0.5s ease-out"})},null,4)):b("",!0),w.value&&G.value>0?(s(),n("div",{key:1,class:"work-progress-fill",style:oe({left:`${K.value}%`,width:`${G.value}%`,transition:"width 0.5s ease-out, left 0.5s ease-out"})},[_.value==="during-work"?(s(),n("div",Oa,[c[8]||(c[8]=e("div",{class:"time-dot"},null,-1)),e("div",Ea,o(D.value),1)])):b("",!0)],4)):b("",!0),(s(!0),n(H,null,F(le.value,(m,$)=>(s(),n("div",{key:`break-${$}`,class:x(["break-time-fill",{"ongoing-break":m.isOngoing}]),style:oe({left:`${m.left}%`,width:`${m.width}%`})},null,6))),128))]),e("div",Na,[e("div",qa,[e("span",Ha,o(D.value),1),e("span",{class:x(["progress-status",ce()])},o(q.value),3)]),e("div",Fa,[e("span",za,o(j.value),1)])])])])]),t.stats.myPendingAssessments!==void 0?(s(),n("div",Wa,[e("div",Ua,[e("div",Qa,[e("div",Ka,[u(r(ae),{class:"w-6 h-6 text-primary-600"})]),e("div",Ga,[e("div",Ja,o(t.stats.myCompletedAssessments||0),1),c[10]||(c[10]=e("div",{class:"stat-label"},"Completed Assessments",-1))])]),e("div",Za,[e("div",Ya,[u(r(re),{class:"w-6 h-6 text-warning-600"})]),e("div",Xa,[e("div",en,o(t.stats.myPendingAssessments||0),1),c[11]||(c[11]=e("div",{class:"stat-label"},"Pending Assessments",-1))])]),t.stats.myAverageRating?(s(),n("div",tn,[e("div",sn,[u(r(_e),{class:"w-6 h-6 text-success-600"})]),e("div",an,[e("div",nn,o(t.stats.myAverageRating)+"/5",1),c[12]||(c[12]=e("div",{class:"stat-label"},"Average Rating",-1))])])):(s(),n("div",on,[e("div",rn,[u(r(_e),{class:"w-6 h-6 text-neutral-400"})]),c[13]||(c[13]=e("div",{class:"stat-content"},[e("div",{class:"stat-value"},"-"),e("div",{class:"stat-label"},"Average Rating")],-1))]))])])):b("",!0),e("div",ln,[e("div",dn,[u(se,{title:"Today's Schedule",loading:t.loading,class:"todays-schedule"},{actions:V(()=>[e("button",{onClick:Z,class:"text-sm text-primary-600 hover:text-primary-700"}," View Calendar ")]),default:V(()=>[t.todaysSchedule.length===0?(s(),n("div",cn,[u(r(Me),{class:"w-12 h-12 text-neutral-400 mx-auto mb-3"}),c[14]||(c[14]=e("p",{class:"text-neutral-500 text-center"},"No scheduled events for today",-1))])):(s(),n("div",un,[(s(!0),n(H,null,F(t.todaysSchedule,m=>(s(),n("div",{key:m.id,class:"schedule-item"},[e("div",mn,[e("span",gn,o($e(m.start_time)),1),c[15]||(c[15]=e("span",{class:"time-separator"},"-",-1)),e("span",vn,o($e(m.end_time)),1)]),e("div",bn,[e("h4",hn,o(m.title),1),m.description?(s(),n("p",fn,o(m.description),1)):b("",!0),e("div",yn,[m.location?(s(),n("span",xn,[u(r(st),{class:"w-4 h-4"}),N(" "+o(m.location),1)])):b("",!0),m.attendees?(s(),n("span",pn,[u(r(ke),{class:"w-4 h-4"}),N(" "+o(m.attendees.length)+" attendees ",1)])):b("",!0)])]),e("div",wn,[m.meeting_link?(s(),n("button",{key:0,onClick:$=>ue(m),class:"join-button"}," Join ",8,kn)):b("",!0)])]))),128))]))]),_:1},8,["loading"]),u(se,{title:"Recent Feedback",loading:t.loading,class:"recent-feedback"},{default:V(()=>[t.recentFeedback.length===0?(s(),n("div",$n,[u(r(Ne),{class:"w-12 h-12 text-neutral-400 mx-auto mb-3"}),c[16]||(c[16]=e("p",{class:"text-neutral-500 text-center"},"No recent feedback",-1))])):(s(),n("div",An,[(s(!0),n(H,null,F(t.recentFeedback.slice(0,3),m=>(s(),n("div",{key:m.id,class:"feedback-item"},[e("div",_n,[e("div",Cn,[e("span",Sn,o(m.from.name),1),e("span",Tn,o(m.from.role),1)]),e("div",Mn,[e("div",jn,[(s(),n(H,null,F(5,$=>u(r(_e),{key:$,class:x(["w-4 h-4",$<=m.rating?"text-warning-400 fill-current":"text-neutral-300"])},null,8,["class"])),64))])])]),e("p",In,o(m.comment),1),e("span",Dn,o(He(m.created_at)),1)]))),128))]))]),_:1},8,["loading"])]),e("div",Bn,[u(qe,{actions:de.value,title:"Quick Actions","max-visible":6,onAction:g},null,8,["actions"])])])]))}},Rn=ie(Pn,[["__scopeId","data-v-1085c91b"]]),Vn={class:"pending-approvals-widget"},Ln={class:"widget-header"},On={class:"approval-count"},En={key:0,class:"text-xs text-gray-500 ml-1"},Nn={key:0,class:"empty-state"},qn={key:1,class:"approvals-list"},Hn={class:"approval-content"},Fn={class:"approval-title"},zn={class:"approval-description"},Wn={class:"approval-requester"},Un={class:"approval-actions"},Qn=["onClick"],Kn=["onClick"],Gn={__name:"PendingApprovalsWidget",props:{approvals:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["approve","reject","view-all"],setup(t){return(p,a)=>(s(),n("div",Vn,[e("div",Ln,[a[1]||(a[1]=e("h3",{class:"widget-title"},"Pending Approvals",-1)),e("span",On,o(Math.min(t.approvals.length,5)),1),t.approvals.length>5?(s(),n("span",En,"of "+o(t.approvals.length),1)):b("",!0)]),t.approvals.length===0?(s(),n("div",Nn,[u(r(ae),{class:"w-12 h-12 text-green-500 mx-auto mb-3"}),a[2]||(a[2]=e("p",{class:"text-gray-600"},"No pending approvals",-1))])):(s(),n("div",qn,[(s(!0),n(H,null,F(t.approvals.slice(0,5),f=>(s(),n("div",{key:f.id,class:"approval-item"},[e("div",Hn,[e("h4",Fn,o(f.title),1),e("p",zn,o(f.description),1),e("span",Wn,o(f.requester),1)]),e("div",Un,[e("button",{onClick:d=>p.$emit("approve",f),class:"approve-button"},[u(r(Oe),{class:"w-4 h-4"})],8,Qn),e("button",{onClick:d=>p.$emit("reject",f),class:"reject-button"},[u(r(Ee),{class:"w-4 h-4"})],8,Kn)])]))),128))])),t.approvals.length>5?(s(),n("button",{key:2,onClick:a[0]||(a[0]=f=>p.$emit("view-all")),class:"view-all-button"}," View All "+o(t.approvals.length)+" Approvals ",1)):b("",!0)]))}},Jn=ie(Gn,[["__scopeId","data-v-d3fae1f6"]]),Zn={key:0,class:"space-y-4"},Yn={key:0,class:"bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-200 rounded-lg p-4"},Xn={class:"space-y-2"},eo={class:"flex items-center space-x-3"},to={class:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center"},so={class:"text-sm font-semibold text-pink-700"},ao={class:"font-medium text-gray-900"},no={class:"text-sm text-gray-500"},oo={class:"text-right"},ro={key:0,class:"text-xs text-gray-500"},io={key:1,class:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4"},lo={class:"flex items-center justify-between mb-3"},co={class:"space-y-2"},uo={class:"flex items-center space-x-3"},mo={class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},go={class:"text-sm font-semibold text-blue-700"},vo={class:"font-medium text-gray-900"},bo={class:"text-sm text-gray-500"},ho={class:"text-right"},fo={class:"text-sm font-medium text-gray-900"},yo={class:"text-xs text-gray-500"},xo={key:2,class:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4"},po={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},wo={class:"bg-white rounded-lg p-3 text-center"},ko={class:"text-2xl font-bold text-pink-600"},$o={class:"bg-white rounded-lg p-3 text-center"},Ao={class:"text-2xl font-bold text-blue-600"},_o={class:"bg-white rounded-lg p-3 text-center"},Co={class:"text-2xl font-bold text-purple-600"},So={key:0,class:"bg-white rounded-lg p-3 text-center"},To={class:"text-sm font-medium text-gray-900 truncate"},Mo={key:3,class:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4"},Se={__name:"BirthdayNotifications",props:{todaysBirthdays:{type:Array,default:()=>[]},upcomingBirthdays:{type:Array,default:()=>[]},stats:{type:Object,default:null}},setup(t){const p=t,a=O(!1),f=A(()=>p.todaysBirthdays.length>0||p.upcomingBirthdays.length>0||p.stats&&(p.stats.today>0||p.stats.this_week>0||p.stats.this_month>0)||p.stats!==null),d=A(()=>a.value?p.upcomingBirthdays:p.upcomingBirthdays.slice(0,3)),T=h=>h.split(" ").map(k=>k.charAt(0).toUpperCase()).join("").substring(0,2),I=h=>new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric"}),M=h=>h===0?"Today":h===1?"Tomorrow":`In ${h} days`;return(h,k)=>f.value?(s(),n("div",Zn,[t.todaysBirthdays.length>0?(s(),n("div",Yn,[k[2]||(k[2]=e("div",{class:"flex items-center space-x-3 mb-3"},[e("div",{class:"text-2xl"},"🎉"),e("div",null,[e("h3",{class:"text-lg font-semibold text-pink-800"},"Birthday Today!"),e("p",{class:"text-sm text-pink-600"},"Let's celebrate our team members")])],-1)),e("div",Xn,[(s(!0),n(H,null,F(t.todaysBirthdays,w=>(s(),n("div",{key:w.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[e("div",eo,[e("div",to,[e("span",so,o(T(w.user.name)),1)]),e("div",null,[e("p",ao,o(w.user.name),1),e("p",no,o(w.job_title||"Employee"),1)])]),e("div",oo,[k[1]||(k[1]=e("div",{class:"text-lg"},"🎂",-1)),w.age?(s(),n("p",ro,o(w.age)+" years",1)):b("",!0)])]))),128))])])):b("",!0),t.upcomingBirthdays.length>0?(s(),n("div",io,[e("div",lo,[k[3]||(k[3]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"text-2xl"},"🎂"),e("div",null,[e("h3",{class:"text-lg font-semibold text-blue-800"},"Upcoming Birthdays"),e("p",{class:"text-sm text-blue-600"},"Don't forget to wish them well!")])],-1)),e("button",{onClick:k[0]||(k[0]=w=>a.value=!a.value),class:"text-sm text-blue-600 hover:text-blue-800 font-medium"},o(a.value?"Show Less":"Show All"),1)]),e("div",co,[(s(!0),n(H,null,F(d.value,(w,P)=>(s(),n("div",{key:w.employee.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[e("div",uo,[e("div",mo,[e("span",go,o(T(w.employee.user.name)),1)]),e("div",null,[e("p",vo,o(w.employee.user.name),1),e("p",bo,o(w.employee.job_title||"Employee"),1)])]),e("div",ho,[e("p",fo,o(I(w.birthday_date)),1),e("p",yo,o(M(w.days_until)),1)])]))),128))])])):b("",!0),t.stats?(s(),n("div",xo,[k[8]||(k[8]=e("div",{class:"flex items-center space-x-3 mb-3"},[e("div",{class:"text-2xl"},"📊"),e("div",null,[e("h3",{class:"text-lg font-semibold text-yellow-800"},"Birthday Stats"),e("p",{class:"text-sm text-yellow-600"},"This month's celebrations")])],-1)),e("div",po,[e("div",wo,[e("div",ko,o(t.stats.today),1),k[4]||(k[4]=e("div",{class:"text-xs text-gray-500"},"Today",-1))]),e("div",$o,[e("div",Ao,o(t.stats.this_week),1),k[5]||(k[5]=e("div",{class:"text-xs text-gray-500"},"This Week",-1))]),e("div",_o,[e("div",Co,o(t.stats.this_month),1),k[6]||(k[6]=e("div",{class:"text-xs text-gray-500"},"This Month",-1))]),t.stats.next_birthday?(s(),n("div",So,[e("div",To,o(t.stats.next_birthday.employee.user.name),1),k[7]||(k[7]=e("div",{class:"text-xs text-gray-500"},"Next Up",-1))])):b("",!0)])])):b("",!0),t.todaysBirthdays.length===0&&t.upcomingBirthdays.length===0&&t.stats&&t.stats.this_month===0?(s(),n("div",Mo,k[9]||(k[9]=[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"text-2xl"},"🎂"),e("div",null,[e("h3",{class:"text-lg font-semibold text-blue-800"},"No Birthdays This Month"),e("p",{class:"text-sm text-blue-600"},"No team birthdays to celebrate right now, but stay tuned!")])],-1)]))):b("",!0)])):b("",!0)}},jo={class:"flex items-center text-gray-500 mr-6"},Io={class:"flex items-center"},Do={class:"text-sm"},Bo={class:"flex space-x-3"},Po=["onClick","disabled"],Ro={key:0,class:"space-y-6"},Vo={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Lo={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Oo={class:"lg:col-span-2 space-y-4"},Eo={class:"flex items-center space-x-2"},No={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800"},qo={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},Ho={class:"text-center p-4 bg-green-50 rounded-xl border border-green-100"},Fo={class:"text-2xl font-bold text-green-600"},zo={class:"text-center p-4 bg-orange-50 rounded-xl border border-orange-100"},Wo={class:"text-2xl font-bold text-orange-600"},Uo={class:"text-center p-4 bg-purple-50 rounded-xl border border-purple-100"},Qo={class:"text-2xl font-bold text-purple-600"},Ko={class:"lg:col-span-1 space-y-4"},Go={class:"space-y-3"},Jo={class:"flex items-center"},Zo={class:"flex items-center"},Yo={class:"flex items-center"},Xo={class:"flex items-center"},er={class:"flex items-center"},tr={class:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl border border-green-100 p-6"},sr={class:"flex items-center space-x-3 mb-6"},ar={class:"p-2 bg-green-100 rounded-lg"},nr={class:"space-y-4"},or={class:"pt-4 border-t border-green-200"},rr={key:1,class:"manager-layout"},ir={class:"birthday-section mt-6"},lr={key:2,class:"employee-layout"},dr={class:"birthday-section mt-6"},cr={key:3,class:"fixed inset-0 z-50 overflow-y-auto"},ur={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},mr={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},gr={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},vr={class:"sm:flex sm:items-start"},br={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},hr={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1"},fr={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},yr={class:"space-y-4"},xr={class:"text-sm text-gray-600 mb-2"},pr={class:"text-sm text-gray-600 mb-4"},wr={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},kr=["disabled"],Or={__name:"Dashboard",props:{adminStats:{type:Object,default:()=>({})},managerStats:{type:Object,default:()=>({})},employeeStats:{type:Object,default:()=>({})},pendingApprovals:{type:Array,default:()=>[]},teamMembers:{type:Array,default:()=>[]},teamPerformance:{type:Object,default:()=>({})},teamActivities:{type:Array,default:()=>[]},personalActivities:{type:Array,default:()=>[]},todaysSchedule:{type:Array,default:()=>[]},myTasks:{type:Array,default:()=>[]},recentFeedback:{type:Array,default:()=>[]},clockedIn:{type:Boolean,default:!1},currentAttendance:{type:Object,default:null},birthdayData:{type:Object,default:()=>({todaysBirthdays:[],upcomingBirthdays:[],stats:{}})}},setup(t){const{roles:p}=je(),a=O(!1),f=O(!1),d=O(null),T=O(""),I=A(()=>Array.isArray(p.value)&&p.value.includes("Admin")),M=A(()=>Array.isArray(p.value)&&(p.value.includes("Manager")||p.value.includes("HR"))&&!I.value),h=A(()=>I.value?"Admin Dashboard":M.value?"Manager Dashboard":"My Dashboard"),k=A(()=>I.value?"System overview and administrative management tools":M.value?"Team management and performance overview":"Your personal workspace and activities"),w=A(()=>new Date().toLocaleTimeString()),P=A(()=>{const S=[{id:"refresh",label:"Refresh",icon:"ArrowPathIcon",handler:_,disabled:a.value}];return I.value&&S.unshift({id:"settings",label:"System Settings",icon:"CogIcon",handler:()=>C("admin.roles.index")},{id:"reports",label:"View Reports",icon:"ChartBarIcon",handler:()=>C("reports.index"),primary:!0}),S}),C=S=>{try{xe.visit(route(S))}catch(i){console.error("Navigation error:",i)}},D=S=>({ArrowPathIcon:Be,CogIcon:Pe,ChartBarIcon:pe,ClockIcon:re})[S]||re,_=async()=>{a.value=!0;try{await xe.reload({only:["adminStats","managerStats","employeeStats","pendingApprovals"]})}catch(S){console.error("Refresh error:",S)}finally{a.value=!1}},L=async S=>{a.value=!0;try{await he.post(route("approvals.approve",S.id)),await _()}catch(i){console.error("Approval error:",i)}finally{a.value=!1}},j=S=>{d.value=S,T.value="",f.value=!0},q=async()=>{if(T.value.trim()){a.value=!0;try{await he.post(route("approvals.reject",d.value.id),{reason:T.value}),f.value=!1,await _()}catch(S){console.error("Rejection error:",S)}finally{a.value=!1}}},E=()=>{f.value=!1,d.value=null,T.value=""},K=S=>{C("employees.show",{employee:S.id})},G=S=>{console.log("Send message to:",S)},Y=async()=>{a.value=!0;try{await he.post(route("attendance.clock-toggle")),await _()}catch(S){console.error("Clock in/out error:",S)}finally{a.value=!1}},le=S=>{C(S.route)},de=async S=>{try{await he.patch(route("tasks.toggle",S.id)),await _()}catch(i){console.error("Task toggle error:",i)}},ce=S=>{C("tasks.show",{task:S.id})};return(S,i)=>(s(),U(Je,null,{header:V(()=>[N(o(h.value),1)]),subtitle:V(()=>[N(o(k.value),1)]),headerActions:V(()=>[e("div",jo,[i[9]||(i[9]=e("div",{class:"flex items-center mr-6"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm"},"System Online")],-1)),e("div",Io,[u(r(re),{class:"w-4 h-4 mr-2"}),e("span",Do,o(w.value),1)])]),e("div",Bo,[(s(!0),n(H,null,F(P.value,z=>(s(),n("button",{key:z.id,onClick:z.handler,disabled:z.disabled,class:x(["inline-flex items-center px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",z.primary?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-500/25":"bg-white/60 text-gray-700 border border-gray-200 hover:bg-white hover:shadow-sm","disabled:opacity-50 disabled:cursor-not-allowed"])},[(s(),U(X(D(z.icon)),{class:"w-4 h-4 mr-2"})),N(" "+o(z.label),1)],10,Po))),128))])]),default:V(()=>{var z,ne,y;return[I.value?(s(),n("div",Ro,[e("div",Vo,[u(ye,{value:t.adminStats.totalEmployees||274,label:"Total Employees",description:"Active workforce",icon:r(ke),variant:"primary",trend:5.2,route:"employees.index",loading:a.value},null,8,["value","icon","loading"]),u(ye,{value:t.adminStats.pendingLeaves||19,label:"Pending Approvals",description:"Requires attention",icon:r(te),variant:"warning",status:(t.adminStats.pendingLeaves||19)>10?"critical":"warning",statusText:(t.adminStats.pendingLeaves||19)>10?"High":"Normal",route:"approvals.index",urgent:(t.adminStats.pendingLeaves||19)>15,loading:a.value},null,8,["value","icon","status","statusText","urgent","loading"]),u(ye,{value:t.adminStats.pendingAssessments||9,label:"Pending Assessments",description:"Review status",icon:r(Ce),variant:"info",status:(t.adminStats.pendingAssessments||9)>5?"warning":"good",statusText:(t.adminStats.pendingAssessments||9)>5?"Review":"On Track",route:"assessment-dashboard",loading:a.value},null,8,["value","icon","status","statusText","loading"]),u(ye,{value:"98.5%",label:"System Health",description:"Uptime",icon:r(ae),variant:"success",status:"excellent",statusText:"Excellent",clickable:!1,loading:a.value},null,8,["icon","loading"])]),e("div",Lo,[e("div",Oo,[u(fe,{title:"Action Required",description:"Items needing your immediate attention",icon:r(te),iconVariant:"danger",variant:"elevated"},{headerActions:V(()=>[e("div",Eo,[e("span",No,o((t.adminStats.pendingLeaves||19)+(t.adminStats.pendingAssessments||9))+" pending ",1),e("button",{onClick:_,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white rounded-lg transition-all"},[u(r(Be),{class:"w-4 h-4"})])])]),default:V(()=>[u(Jn,{approvals:t.pendingApprovals,loading:a.value,onApprove:L,onReject:j,onViewAll:i[0]||(i[0]=()=>r(xe).visit(S.route("approvals.index")))},null,8,["approvals","loading"])]),_:1},8,["icon"]),u(fe,{title:"Competency Management",description:"Track and manage employee competencies",icon:r(Ce),iconVariant:"primary",variant:"elevated"},{headerActions:V(()=>[e("button",{onClick:i[1]||(i[1]=v=>C("assessment-dashboard")),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/25"},[i[10]||(i[10]=N(" View Details ")),u(r(ee),{class:"w-4 h-4 ml-1"})])]),default:V(()=>[e("div",qo,[e("div",Ho,[e("div",Fo,o(t.adminStats.completedAssessmentsThisMonth||0),1),i[11]||(i[11]=e("div",{class:"text-xs text-gray-600 mt-1"},"Completed",-1))]),e("div",zo,[e("div",Wo,o(t.adminStats.pendingAssessments||9),1),i[12]||(i[12]=e("div",{class:"text-xs text-gray-600 mt-1"},"Pending",-1))]),e("div",Uo,[e("div",Qo,o(t.adminStats.activeAssessmentCycles||4),1),i[13]||(i[13]=e("div",{class:"text-xs text-gray-600 mt-1"},"Active Cycles",-1))]),i[14]||(i[14]=e("div",{class:"text-center p-4 bg-blue-50 rounded-xl border border-blue-100"},[e("div",{class:"text-2xl font-bold text-blue-600"},"4.2"),e("div",{class:"text-xs text-gray-600 mt-1"},"Avg Rating")],-1))]),i[15]||(i[15]=e("div",{class:"space-y-3"},[e("h3",{class:"text-sm font-medium text-gray-900 mb-3"},"Recent Competency Activity"),e("div",{class:"space-y-2"},[e("div",{class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full"}),e("span",{class:"text-sm text-gray-700"},"Q4 Performance Review cycle started")]),e("span",{class:"text-xs text-gray-500"},"2 hours ago")]),e("div",{class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-2 h-2 bg-blue-400 rounded-full"}),e("span",{class:"text-sm text-gray-700"},"5 new assessments submitted")]),e("span",{class:"text-xs text-gray-500"},"4 hours ago")]),e("div",{class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-2 h-2 bg-purple-400 rounded-full"}),e("span",{class:"text-sm text-gray-700"},"Leadership competency updated")]),e("span",{class:"text-xs text-gray-500"},"1 day ago")])])],-1))]),_:1,__:[15]},8,["icon"])]),e("div",Ko,[u(fe,{title:"Quick Actions",description:"Common tasks",icon:r(Te),iconVariant:"primary"},{default:V(()=>[e("div",Go,[e("button",{onClick:i[2]||(i[2]=v=>C("competencies.create")),class:"w-full flex items-center justify-between px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all group shadow-lg shadow-blue-500/25"},[e("div",Jo,[u(r(Ce),{class:"w-5 h-5 mr-3"}),i[16]||(i[16]=e("span",{class:"font-medium"},"Add Competency",-1))]),u(r(ee),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:i[3]||(i[3]=v=>C("employees.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",Zo,[u(r(ke),{class:"w-5 h-5 mr-3"}),i[17]||(i[17]=e("span",{class:"font-medium"},"Manage Employees",-1))]),u(r(ee),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:i[4]||(i[4]=v=>C("assessment-cycles.create")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",Yo,[u(r(Te),{class:"w-5 h-5 mr-3"}),i[18]||(i[18]=e("span",{class:"font-medium"},"New Assessment Cycle",-1))]),u(r(ee),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:i[5]||(i[5]=v=>C("reports.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",Xo,[u(r(pe),{class:"w-5 h-5 mr-3"}),i[19]||(i[19]=e("span",{class:"font-medium"},"View Reports",-1))]),u(r(ee),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:i[6]||(i[6]=v=>C("admin.roles.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",er,[u(r(Pe),{class:"w-5 h-5 mr-3"}),i[20]||(i[20]=e("span",{class:"font-medium"},"Role Management",-1))]),u(r(ee),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})])])]),_:1},8,["icon"]),u(Se,{"todays-birthdays":t.birthdayData.todaysBirthdays,"upcoming-birthdays":t.birthdayData.upcomingBirthdays,stats:t.birthdayData.stats},null,8,["todays-birthdays","upcoming-birthdays","stats"]),e("div",tr,[e("div",sr,[e("div",ar,[u(r(pe),{class:"w-5 h-5 text-green-600"})]),i[21]||(i[21]=e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-900"},"Performance Insights"),e("p",{class:"text-sm text-gray-600"},"Key metrics")],-1))]),e("div",nr,[i[23]||(i[23]=e("div",{class:"flex items-center justify-between p-3 bg-white rounded-xl"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-3 h-3 bg-green-400 rounded-full"}),e("span",{class:"text-sm font-medium text-gray-700"},"Top Performing")]),e("span",{class:"text-sm font-semibold text-green-600"},"Communication")],-1)),i[24]||(i[24]=e("div",{class:"flex items-center justify-between p-3 bg-white rounded-xl"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-3 h-3 bg-orange-400 rounded-full"}),e("span",{class:"text-sm font-medium text-gray-700"},"Needs Attention")]),e("span",{class:"text-sm font-semibold text-orange-600"},"Technical Skills")],-1)),i[25]||(i[25]=e("div",{class:"flex items-center justify-between p-3 bg-white rounded-xl"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-3 h-3 bg-blue-400 rounded-full"}),e("span",{class:"text-sm font-medium text-gray-700"},"Average Rating")]),e("span",{class:"text-sm font-semibold text-blue-600"},"4.2/5.0")],-1)),e("div",or,[e("button",{onClick:i[7]||(i[7]=v=>C("competency-analytics.reports")),class:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors"},[i[22]||(i[22]=e("span",{class:"font-medium"},"View Detailed Analytics",-1)),u(r(ee),{class:"w-4 h-4 ml-2"})])])])]),u(fe,{title:"System Status",description:"All systems operational",icon:r(ae),iconVariant:"success"},{default:V(()=>i[26]||(i[26]=[e("div",{class:"space-y-3"},[e("div",{class:"flex items-center justify-between"},[e("span",{class:"text-sm text-gray-600"},"Database"),e("div",{class:"flex items-center"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm font-medium text-green-600"},"Healthy")])]),e("div",{class:"flex items-center justify-between"},[e("span",{class:"text-sm text-gray-600"},"API Services"),e("div",{class:"flex items-center"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm font-medium text-green-600"},"Online")])]),e("div",{class:"flex items-center justify-between"},[e("span",{class:"text-sm text-gray-600"},"Uptime"),e("span",{class:"text-sm font-medium text-gray-900"},"98.5%")])],-1)])),_:1,__:[26]},8,["icon"])])])])):M.value?(s(),n("div",rr,[u(ca,{stats:t.managerStats,"team-members":t.teamMembers,"team-performance":t.teamPerformance,"team-activities":t.teamActivities,loading:a.value,onViewMember:K,onSendMessage:G},null,8,["stats","team-members","team-performance","team-activities","loading"]),e("div",ir,[u(Se,{"todays-birthdays":t.birthdayData.todaysBirthdays,"upcoming-birthdays":t.birthdayData.upcomingBirthdays,stats:t.birthdayData.stats},null,8,["todays-birthdays","upcoming-birthdays","stats"])])])):(s(),n("div",lr,[u(Rn,{stats:t.employeeStats,"personal-activities":t.personalActivities,"todays-schedule":t.todaysSchedule,"my-tasks":t.myTasks,"recent-feedback":t.recentFeedback,"clocked-in":t.clockedIn,"current-attendance":t.currentAttendance,loading:a.value,onClockInOut:Y,onAction:le,onToggleTask:de,onViewTask:ce},null,8,["stats","personal-activities","todays-schedule","my-tasks","recent-feedback","clocked-in","current-attendance","loading"]),e("div",dr,[u(Se,{"todays-birthdays":t.birthdayData.todaysBirthdays,"upcoming-birthdays":t.birthdayData.upcomingBirthdays,stats:t.birthdayData.stats},null,8,["todays-birthdays","upcoming-birthdays","stats"])])])),i[31]||(i[31]=N(" p ")),f.value?(s(),n("div",cr,[e("div",ur,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:E}),e("div",mr,[e("div",gr,[e("div",vr,[e("div",br,[u(r(te),{class:"h-6 w-6 text-red-600"})]),e("div",hr,[e("h3",fr," Reject "+o(((z=d.value)==null?void 0:z.title)||"Request"),1),e("div",yr,[e("div",null,[e("p",xr,[i[27]||(i[27]=e("strong",null,"Requester:",-1)),N(" "+o((ne=d.value)==null?void 0:ne.requester),1)]),e("p",pr,[i[28]||(i[28]=e("strong",null,"Request:",-1)),N(" "+o((y=d.value)==null?void 0:y.description),1)])]),e("div",null,[i[29]||(i[29]=e("label",{for:"rejection-reason",class:"block text-sm font-medium text-gray-700 mb-2"},[N(" Reason for rejection "),e("span",{class:"text-red-500"},"*")],-1)),Ue(e("textarea",{id:"rejection-reason","onUpdate:modelValue":i[8]||(i[8]=v=>T.value=v),rows:"4",class:"w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-red-500 focus:border-red-500",placeholder:"Please provide a clear reason for rejecting this request...",required:""},null,512),[[Qe,T.value]]),i[30]||(i[30]=e("p",{class:"text-xs text-gray-500 mt-1"}," This reason will be sent to the employee and recorded in the system. ",-1))])])])])]),e("div",wr,[e("button",{onClick:q,disabled:!T.value.trim(),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"}," Reject Request ",8,kr),e("button",{onClick:E,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):b("",!0)]}),_:1,__:[31]}))}};export{Or as default};
