import{f as l,g as m,o,h as n,k as i,a as t,c as d,i as c,F as N,r as P,t as u,u as p,S as b,l as g,Q as T}from"./app-BQSrEzXv.js";import{A as j}from"./AuthenticatedLayout-BOcaxLk0.js";import{P as C}from"./PageLayout-DwrFRSGz.js";import{P as D}from"./Pagination-BAWM4LSw.js";import{u as V}from"./useAuth-D4R4ueAN.js";import"./icons-Bsh0Wzd9.js";import"./UsersIcon-B6NXvPnn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PageHeader-jShFW-Vh.js";import"./Icon-Xz6u-piM.js";const B={class:"mb-6 bg-white rounded-lg shadow-sm p-6"},L={class:"overflow-x-auto"},M={class:"min-w-full table-auto border-collapse border border-gray-300"},E={class:"border px-4 py-2"},S={class:"border px-4 py-2"},F={class:"border px-4 py-2"},O={class:"border px-4 py-2"},Q=["onClick"],R={key:0},Y={__name:"Index",props:{tasks:Object},setup(s){const{hasRole:f,hasAnyRole:y,getUserProperty:h}=V();l(()=>h("id"));const k=l(()=>y(["Admin","Manager"])),x=l(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Tasks",href:route("tasks.index")}]),A=l(()=>[{label:"Create Task",href:route("tasks.create"),variant:"primary",icon:"plus"}]),_=r=>k.value,v=r=>f("Admin"),w=r=>{confirm("Are you sure?")&&T.delete(route("tasks.destroy",r))};return(r,a)=>(o(),m(j,null,{default:n(()=>[i(C,{title:"Task Management",subtitle:"Manage project tasks and assignments",breadcrumbs:x.value,actions:A.value},{default:n(()=>[t("div",B,[a[3]||(a[3]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Task List",-1)),t("div",L,[t("table",M,[a[2]||(a[2]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-2 border border-gray-300 text-left"},"Task Name"),t("th",{class:"px-4 py-2 border border-gray-300 text-left"},"Project"),t("th",{class:"px-4 py-2 border border-gray-300 text-left"},"Description"),t("th",{class:"px-4 py-2 border border-gray-300 text-left"},"Actions")])],-1)),t("tbody",null,[(o(!0),d(N,null,P(s.tasks.data,e=>(o(),d("tr",{key:e.id},[t("td",E,u(e.name),1),t("td",S,u(e.project?e.project.name:"N/A"),1),t("td",F,u(e.description),1),t("td",O,[i(p(b),{href:r.route("tasks.show",e.id),class:"text-teal-500 mr-2"},{default:n(()=>a[0]||(a[0]=[g("View")])),_:2,__:[0]},1032,["href"]),_(e)?(o(),m(p(b),{key:0,href:r.route("tasks.edit",e.id),class:"text-green-500 mr-2"},{default:n(()=>a[1]||(a[1]=[g("Edit")])),_:2,__:[1]},1032,["href"])):c("",!0),v(e)?(o(),d("button",{key:1,onClick:I=>w(e.id),class:"text-red-500"},"Delete",8,Q)):c("",!0)])]))),128))])])]),s.tasks.last_page>1?(o(),d("div",R,[i(D,{links:s.tasks.links,"current-page":s.tasks.current_page,"last-page":s.tasks.last_page,total:s.tasks.total,"per-page":s.tasks.per_page,from:s.tasks.from,to:s.tasks.to},null,8,["links","current-page","last-page","total","per-page","from","to"])])):c("",!0)])]),_:1},8,["breadcrumbs","actions"])]),_:1}))}};export{Y as default};
