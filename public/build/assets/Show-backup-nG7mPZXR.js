import{f as y,Q as h,g as k,o as i,h as d,k as o,a as t,i as L,t as n,c as u,F as N,r as B,u as T}from"./app-DnSg3G9T.js";import{u as U}from"./useAuth-ByNcrA8s.js";import{A as E}from"./AuthenticatedLayout-BHa-CbOB.js";import{P as R}from"./PageLayout-Fahkc-9n.js";import{C as m}from"./ContentCard-_U_DnEev.js";import{I as x}from"./InfoCard-CSu9vcHi.js";import{p as I}from"./icons-C1pS-Qsy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-BfiMc4V1.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-COtcffzP.js";import"./PageHeader-BstQ794S.js";import"./Icon-43nlW109.js";/* empty css                                                                   *//* empty css                                                                 */const O={class:"space-y-6"},H={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},P={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},V={class:"space-y-4"},$={class:"flex justify-between items-center py-2 border-b border-neutral-200"},F={class:"text-sm text-neutral-900"},M={class:"flex justify-between items-center py-2 border-b border-neutral-200"},Q={class:"text-sm text-neutral-900"},W={class:"flex justify-between items-center py-2 border-b border-neutral-200"},q={class:"text-sm text-neutral-900"},z={class:"flex justify-between items-center py-2"},G={class:"text-sm font-bold text-neutral-900"},J={key:0,class:"text-center py-8"},K={key:1,class:"space-y-3"},X={class:"text-sm font-medium text-neutral-900"},Y={class:"text-xs text-neutral-600"},Z={class:"text-right"},tt={class:"text-sm font-medium text-neutral-900"},et={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},st={class:"space-y-4"},nt={class:"flex justify-between items-center py-2 border-b border-neutral-200"},at={class:"text-sm text-neutral-900"},ot={class:"flex justify-between items-center py-2 border-b border-neutral-200"},rt={class:"text-sm text-neutral-900"},it={class:"flex justify-between items-center py-2"},dt={class:"text-sm text-neutral-900"},lt={class:"space-y-4"},ct={class:"flex justify-between items-center py-2 border-b border-neutral-200"},ut={class:"text-sm text-neutral-900"},mt={class:"flex justify-between items-center py-2 border-b border-neutral-200"},xt={class:"text-sm text-neutral-900"},bt={class:"flex justify-between items-center py-2"},ft={class:"text-sm text-neutral-900"},yt={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},ht={class:"flex items-center space-x-2"},gt={class:"text-sm text-yellow-700"},Ut={__name:"Show-backup",props:{attendance:Object,workDuration:String,breakDuration:String,totalMinutes:Number,breakSessions:Array},setup(s){const b=s,{hasRole:w,hasAnyRole:_}=U(),D=y(()=>_(["Admin","HR"])),A=y(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Attendance Management",href:route("attendances.index")},{label:"Details",current:!0}]),S=y(()=>{const a=[];return D.value&&a.push({id:"edit",label:"Edit Record",variant:"primary",handler:()=>h.visit(route("attendances.edit",b.attendance.id))},{id:"export",label:"Export",variant:"secondary",handler:()=>window.open(route("attendances.export",b.attendance.id),"_blank")}),w("Admin")&&a.push({id:"delete",label:"Delete",variant:"danger",handler:C}),a}),g=a=>a?new Date(a).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"N/A",c=a=>a?new Date(a).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A",f=a=>a?new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A",j=a=>({clocked_in:"green",clocked_out:"gray",on_break:"yellow"})[a]||"gray",C=()=>{confirm("Are you sure you want to delete this attendance record? This action cannot be undone.")&&h.delete(route("attendances.destroy",b.attendance.id),{onSuccess:()=>{h.visit(route("attendances.index"))}})};return(a,e)=>(i(),k(E,null,{default:d(()=>{var v,p;return[o(R,{title:"Attendance Details",subtitle:`${((p=(v=s.attendance.employee)==null?void 0:v.user)==null?void 0:p.name)||"Employee"} - ${g(s.attendance.date)}`,breadcrumbs:A.value,actions:S.value},{default:d(()=>[t("div",O,[t("div",H,[o(x,{title:"Work Duration",value:s.workDuration,icon:"clock",color:"blue"},null,8,["value"]),o(x,{title:"Break Duration",value:s.breakDuration,icon:"pause",color:"orange"},null,8,["value"]),o(x,{title:"Break Sessions",value:s.breakSessions.length.toString(),icon:"list",color:"green"},null,8,["value"]),o(x,{title:"Status",value:s.attendance.status?s.attendance.status.charAt(0).toUpperCase()+s.attendance.status.slice(1).replace("_"," "):"Unknown",icon:"status",color:j(s.attendance.status)},null,8,["value","color"])]),t("div",P,[o(m,{title:"Time Details"},{default:d(()=>[t("div",V,[t("div",$,[e[0]||(e[0]=t("span",{class:"text-sm font-medium text-neutral-600"},"Date",-1)),t("span",F,n(g(s.attendance.date)),1)]),t("div",M,[e[1]||(e[1]=t("span",{class:"text-sm font-medium text-neutral-600"},"Clock In",-1)),t("span",Q,n(s.attendance.clock_in?c(s.attendance.clock_in):"—"),1)]),t("div",W,[e[2]||(e[2]=t("span",{class:"text-sm font-medium text-neutral-600"},"Clock Out",-1)),t("span",q,n(s.attendance.clock_out?c(s.attendance.clock_out):"—"),1)]),t("div",z,[e[3]||(e[3]=t("span",{class:"text-sm font-medium text-neutral-600"},"Total Work Time",-1)),t("span",G,n(s.workDuration),1)])])]),_:1}),o(m,{title:"Break Sessions"},{default:d(()=>[s.breakSessions.length===0?(i(),u("div",J,e[4]||(e[4]=[t("p",{class:"text-neutral-500"},"No break sessions recorded",-1)]))):(i(),u("div",K,[(i(!0),u(N,null,B(s.breakSessions,(r,l)=>(i(),u("div",{key:l,class:"flex justify-between items-center p-3 bg-neutral-50 rounded-lg"},[t("div",null,[t("p",X,"Break "+n(l+1),1),t("p",Y,n(c(r.start))+" - "+n(r.end?c(r.end):"Ongoing"),1)]),t("div",Z,[t("p",tt,n(r.duration_minutes?`${r.duration_minutes}m`:"—"),1)])]))),128))]))]),_:1})]),o(m,{title:"Additional Information"},{default:d(()=>{var r,l;return[t("div",et,[t("div",st,[t("div",nt,[e[5]||(e[5]=t("span",{class:"text-sm font-medium text-neutral-600"},"Employee",-1)),t("span",at,n(((l=(r=s.attendance.employee)==null?void 0:r.user)==null?void 0:l.name)||"Unknown"),1)]),t("div",ot,[e[6]||(e[6]=t("span",{class:"text-sm font-medium text-neutral-600"},"IP Address",-1)),t("span",rt,n(s.attendance.ip_address||"—"),1)]),t("div",it,[e[7]||(e[7]=t("span",{class:"text-sm font-medium text-neutral-600"},"Location",-1)),t("span",dt,n(s.attendance.location||"—"),1)])]),t("div",lt,[t("div",ct,[e[8]||(e[8]=t("span",{class:"text-sm font-medium text-neutral-600"},"Created",-1)),t("span",ut,n(f(s.attendance.created_at)),1)]),t("div",mt,[e[9]||(e[9]=t("span",{class:"text-sm font-medium text-neutral-600"},"Last Updated",-1)),t("span",xt,n(f(s.attendance.updated_at)),1)]),t("div",bt,[e[10]||(e[10]=t("span",{class:"text-sm font-medium text-neutral-600"},"Notes",-1)),t("span",ft,n(s.attendance.notes||"—"),1)])])])]}),_:1}),s.attendance.editor?(i(),k(m,{key:0,title:"Edit History"},{default:d(()=>[t("div",yt,[t("div",ht,[o(T(I),{class:"w-5 h-5 text-yellow-600"}),t("div",null,[e[11]||(e[11]=t("p",{class:"text-sm font-medium text-yellow-800"},"This record has been edited",-1)),t("p",gt," Last edited by "+n(s.attendance.editor.name)+" on "+n(f(s.attendance.updated_at)),1)])])])]),_:1})):L("",!0)])]),_:1},8,["subtitle","breadcrumbs","actions"])]}),_:1}))}};export{Ut as default};
