import{f as T,e as K,g as k,o as n,h as x,k as c,a as e,u as d,t as r,w as I,c as i,F as b,r as p,v as P,i as h,S as _,l as v,n as C,Q as W}from"./app-C5XLEFX1.js";import{A as X}from"./AuthenticatedLayout-DXFL5d2g.js";import{P as Z}from"./PageLayout-CYjXKRiy.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as se}from"./ChartBarIcon-C_Hukvfj.js";import{n as te,m as oe,q as re,l as ne,b as ae,j as le}from"./icons-DTjZRlX_.js";import{r as ie}from"./ClipboardDocumentCheckIcon-BpuEIBZo.js";import{r as de}from"./TagIcon-DIJk_WkK.js";import"./useAuth-DKUFHp6D.js";import"./useAccessibility-D9A5UfMf.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-DrNIP6iY.js";import"./PageHeader-kfiMpc3i.js";import"./Icon-DvIjmFlv.js";/* empty css                                                                   */const ce={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},me={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ue={class:"flex items-center"},fe={class:"flex-shrink-0"},ye={class:"ml-4"},ge={class:"text-2xl font-bold text-gray-900"},xe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},be={class:"flex items-center"},pe={class:"flex-shrink-0"},he={class:"ml-4"},ve={class:"text-2xl font-bold text-gray-900"},_e={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},we={class:"flex items-center"},Ae={class:"flex-shrink-0"},ke={class:"ml-4"},Ce={class:"text-2xl font-bold text-gray-900"},Se={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},je={class:"p-6"},$e={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Me=["value"],Ee=["value"],De={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Le={class:"px-6 py-4 border-b border-gray-200"},Re={class:"text-lg font-medium text-gray-900"},Ue={key:0,class:"p-12 text-center"},Fe={key:1,class:"divide-y divide-gray-200"},Ve={class:"flex items-center justify-between"},Oe={class:"flex-1"},Be={class:"flex items-center space-x-3 mb-2"},Ne={class:"flex items-center"},Te={class:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center mr-3"},Ie={class:"text-xs font-medium text-blue-600"},Pe={class:"text-lg font-medium text-gray-900"},He={class:"flex items-center space-x-6 text-sm text-gray-600"},Qe={class:"flex items-center"},qe={key:0,class:"flex items-center"},ze={key:0,class:"mt-3 flex items-center"},Ye={class:"flex items-center"},Ge={class:"flex"},Je={class:"ml-2 text-sm font-medium text-gray-900"},Ke={class:"ml-2 text-sm text-gray-500"},We={key:1,class:"mt-3"},Xe={class:"text-sm text-gray-700 line-clamp-2"},Ze={class:"flex items-center space-x-3 ml-6"},es={key:2,class:"px-6 py-3 border-t border-gray-200"},ss={class:"flex items-center justify-between"},ts={class:"text-sm text-gray-700"},os={class:"flex space-x-1"},rs={__name:"MyAssessments",props:{assessments:Object,stats:Object,employees:Array,assessmentCycles:Array,statusOptions:Array,filters:Object},setup(l){var j,$,M,E,D;const a=l;console.log("MyAssessments props:",{assessments:a.assessments,stats:a.stats,assessmentsData:(j=a.assessments)==null?void 0:j.data,assessmentsTotal:($=a.assessments)==null?void 0:$.total,assessmentsCount:(E=(M=a.assessments)==null?void 0:M.data)==null?void 0:E.length,filters:a.filters}),(D=a.assessments)!=null&&D.data?(console.log("Individual assessments:"),a.assessments.data.forEach((o,s)=>{var m,f,y;console.log(`Assessment ${s+1}:`,{id:o.id,employee:(f=(m=o.employee)==null?void 0:m.user)==null?void 0:f.name,competency:(y=o.competency)==null?void 0:y.name,type:o.assessment_type,status:o.status})})):console.log("No assessments data found");const H=T(()=>[{label:"Dashboard",href:typeof route<"u"?route("dashboard"):"/dashboard"},{label:"My Assessments",href:null}]),Q=T(()=>[{label:"All Assessments",href:typeof route<"u"?route("competency-assessments.index"):"/competency-assessments",variant:"secondary"}]),u=K({status:a.filters&&typeof a.filters=="object"&&!Array.isArray(a.filters)&&a.filters.status||"",assessment_cycle_id:a.filters&&typeof a.filters=="object"&&!Array.isArray(a.filters)&&a.filters.assessment_cycle_id||""}),w=()=>{try{if(typeof route>"u"){console.error("Route function is not available");return}const o=route("competency-assessments.my-assessments");if(!o){console.error("Route URL could not be generated");return}W.get(o,u.value,{preserveState:!0,preserveScroll:!0}).catch(s=>{console.error("Error applying filters:",s)})}catch(o){console.error("Error in applyFilters:",o)}},q=()=>{u.value={status:"",assessment_cycle_id:""},w()},z=o=>o.split(" ").map(s=>s.charAt(0)).join("").toUpperCase().substring(0,2),S=o=>({draft:"Draft",submitted:"Submitted",approved:"Approved",rejected:"Rejected"})[o]||o,Y=o=>({draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",G=o=>({1:"Needs Improvement",2:"Below Expectations",3:"Meets Expectations",4:"Exceeds Expectations",5:"Outstanding"})[o]||"",J=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),A=(o,s=null)=>{try{return typeof route>"u"?(console.warn(`Route function not available for: ${o}`),"#"):route(o,s)}catch(m){return console.error(`Error generating route ${o}:`,m),"#"}};return(o,s)=>(n(),k(X,null,{default:x(()=>[c(Z,{title:"My Assessments",subtitle:"Assessments assigned to me for completion",breadcrumbs:H.value,actions:Q.value},{default:x(()=>{var m,f,y,L,R,U;return[e("div",ce,[e("div",me,[e("div",ue,[e("div",fe,[c(d(se),{class:"h-8 w-8 text-blue-600"})]),e("div",ye,[s[2]||(s[2]=e("p",{class:"text-sm font-medium text-gray-500"},"Total Assigned",-1)),e("p",ge,r(((m=l.stats)==null?void 0:m.total)||0),1)])])]),e("div",xe,[e("div",be,[e("div",pe,[c(d(te),{class:"h-8 w-8 text-yellow-600"})]),e("div",he,[s[3]||(s[3]=e("p",{class:"text-sm font-medium text-gray-500"},"Pending",-1)),e("p",ve,r(((f=l.stats)==null?void 0:f.pending)||0),1)])])]),e("div",_e,[e("div",we,[e("div",Ae,[c(d(oe),{class:"h-8 w-8 text-green-600"})]),e("div",ke,[s[4]||(s[4]=e("p",{class:"text-sm font-medium text-gray-500"},"Completed",-1)),e("p",Ce,r(((y=l.stats)==null?void 0:y.completed)||0),1)])])])]),e("div",Se,[e("div",je,[e("div",$e,[e("div",null,[s[6]||(s[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),I(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>u.value.status=t),onChange:w,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[5]||(s[5]=e("option",{value:""},"All Statuses",-1)),(n(!0),i(b,null,p(l.statusOptions,t=>(n(),i("option",{key:t,value:t},r(S(t)),9,Me))),128))],544),[[P,u.value.status]])]),e("div",null,[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Assessment Cycle",-1)),I(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>u.value.assessment_cycle_id=t),onChange:w,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[7]||(s[7]=e("option",{value:""},"All Cycles",-1)),(n(!0),i(b,null,p(l.assessmentCycles,t=>(n(),i("option",{key:t.id,value:t.id},r(t.name),9,Ee))),128))],544),[[P,u.value.assessment_cycle_id]])]),e("div",{class:"flex items-end"},[e("button",{onClick:q,class:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Clear Filters ")])])])]),e("div",De,[e("div",Le,[e("h3",Re," Assessments ("+r(((L=l.assessments)==null?void 0:L.total)||0)+") ",1)]),!((R=l.assessments)!=null&&R.data)||l.assessments.data.length===0?(n(),i("div",Ue,[c(d(ie),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s[9]||(s[9]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No Assessments Found",-1)),s[10]||(s[10]=e("p",{class:"text-gray-500"},"You don't have any assessments assigned to you yet.",-1))])):(n(),i("div",Fe,[(n(!0),i(b,null,p(((U=l.assessments)==null?void 0:U.data)||[],t=>{var F,V,O,B;return n(),i("div",{key:(t==null?void 0:t.id)||Math.random(),class:"p-6 hover:bg-gray-50 transition-colors duration-200"},[e("div",Ve,[e("div",Oe,[e("div",Be,[e("div",Ne,[e("div",Te,[e("span",Ie,r(z(((V=(F=t.employee)==null?void 0:F.user)==null?void 0:V.name)||"Unknown")),1)]),e("div",null,[c(d(_),{href:A("competency-assessments.by-employee",(O=t.employee)==null?void 0:O.id),class:"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline"},{default:x(()=>{var g,N;return[v(r(((N=(g=t.employee)==null?void 0:g.user)==null?void 0:N.name)||"Unknown"),1)]}),_:2},1032,["href"])])]),s[11]||(s[11]=e("span",{class:"text-gray-300"},"â€¢",-1)),e("h4",Pe,r((B=t.competency)==null?void 0:B.name),1),e("span",{class:C([Y(t.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(S(t.status)),3)]),e("div",He,[e("div",Qe,[c(d(re),{class:"w-4 h-4 mr-1"}),v(" "+r(J(t.created_at)),1)]),t.assessment_cycle?(n(),i("div",qe,[c(d(de),{class:"w-4 h-4 mr-1"}),v(" "+r(t.assessment_cycle.name),1)])):h("",!0)]),t.rating?(n(),i("div",ze,[s[12]||(s[12]=e("span",{class:"text-sm font-medium text-gray-700 mr-2"},"Rating:",-1)),e("div",Ye,[e("div",Ge,[(n(),i(b,null,p(5,g=>c(d(ne),{key:g,class:C([g<=t.rating?"text-yellow-400":"text-gray-300","h-4 w-4"])},null,8,["class"])),64))]),e("span",Je,r(t.rating)+"/5",1),e("span",Ke,"("+r(G(t.rating))+")",1)])])):h("",!0),t.comments?(n(),i("div",We,[e("p",Xe,r(t.comments),1)])):h("",!0)]),e("div",Ze,[c(d(_),{href:A("competency-assessments.show",t.id),class:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:x(()=>[c(d(ae),{class:"w-4 h-4 mr-2"}),s[13]||(s[13]=v(" View "))]),_:2,__:[13]},1032,["href"]),t.status==="draft"?(n(),k(d(_),{key:0,href:A("competency-assessments.evaluate",t.id),class:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:x(()=>[c(d(le),{class:"w-4 h-4 mr-2"}),s[14]||(s[14]=v(" Complete "))]),_:2,__:[14]},1032,["href"])):h("",!0)])])])}),128))])),l.assessments.links?(n(),i("div",es,[e("div",ss,[e("div",ts," Showing "+r(l.assessments.from)+" to "+r(l.assessments.to)+" of "+r(l.assessments.total)+" results ",1),e("div",os,[(n(!0),i(b,null,p(l.assessments.links,t=>(n(),k(d(_),{key:t.label,href:t.url,class:C(["px-3 py-2 text-sm font-medium rounded-md",t.active?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))])])])):h("",!0)])]}),_:1},8,["breadcrumbs","actions"])]),_:1}))}},hs=ee(rs,[["__scopeId","data-v-8731e1f3"]]);export{hs as default};
