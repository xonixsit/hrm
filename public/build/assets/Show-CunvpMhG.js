import{K as F,z as H,f as y,Q as x,g as j,o,h as l,k as i,a as t,t as n,q as V,c,i as v,F as O,r as Q,n as k,l as u,u as q}from"./app-DnSg3G9T.js";import{u as R}from"./useAuth-ByNcrA8s.js";import{u as K}from"./useNotifications-9mxBeDTQ.js";import{A as G}from"./AuthenticatedLayout-BHa-CbOB.js";import{P as J}from"./PageHeader-BstQ794S.js";import{I as f}from"./InfoCard-CSu9vcHi.js";import{B as h}from"./BaseButton-DU2WvcfE.js";import{I as b}from"./Icon-43nlW109.js";import"./icons-C1pS-Qsy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-BfiMc4V1.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-COtcffzP.js";/* empty css                                                                 *//* empty css                                                                   */const W={class:"font-semibold text-xl text-neutral-800 leading-tight"},X={class:"space-y-6"},Y={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Z={class:"lg:col-span-2 space-y-6"},tt={class:"space-y-4"},et={class:"mt-1 text-sm text-neutral-900"},st={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},at={class:"mt-1 text-sm text-neutral-900"},nt={class:"mt-1 text-sm text-neutral-900"},rt={class:"mt-1 text-sm text-neutral-900"},ot={class:"space-y-4"},lt={class:"flex items-center justify-between mb-2"},it={class:"text-sm font-semibold text-neutral-900"},ct={class:"w-full bg-neutral-200 rounded-full h-3"},dt={class:"grid grid-cols-2 gap-4 pt-4 border-t border-neutral-200"},ut={class:"text-center"},mt={class:"text-2xl font-bold text-neutral-900"},xt={class:"text-center"},ft={class:"text-2xl font-bold text-neutral-900"},pt={class:"space-y-4"},gt={key:0,class:"pb-4 border-b border-neutral-200"},yt={class:"flex items-center space-x-3"},ht=["src","alt"],jt={key:1,class:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center"},vt={class:"text-sm font-medium text-primary-700"},bt={class:"text-sm font-medium text-neutral-900"},wt={class:"text-xs text-neutral-500"},kt={key:1},Ct={class:"space-y-3"},Pt=["src","alt"],_t={key:1,class:"w-8 h-8 rounded-full bg-neutral-100 flex items-center justify-center"},Dt={class:"text-sm font-medium text-neutral-600"},St={class:"flex-1"},At={class:"text-sm font-medium text-neutral-900"},Nt={class:"text-xs text-neutral-500"},It={key:2,class:"text-center py-4"},Lt={class:"space-y-6"},Bt={class:"space-y-4"},$t={class:"mt-1"},Et={class:"mt-1"},Mt={class:"mt-1 text-sm text-neutral-900"},Tt={class:"mt-1 text-sm text-neutral-900"},Ut={class:"space-y-3"},Zt={__name:"Show",props:{project:{type:Object,required:!0}},setup(s){const d=s,{hasRole:C,hasAnyRole:P}=R(),{showNotification:m}=K(),p=F();H(()=>{var a,e;(a=p.props.flash)!=null&&a.success&&m({type:"success",title:"Success",message:p.props.flash.success}),(e=p.props.flash)!=null&&e.error&&m({type:"error",title:"Error",message:p.props.flash.error})});const w=y(()=>P(["Admin","Manager"])),_=y(()=>C("Admin")),D=y(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Projects",href:route("projects.index")},{label:d.project.name,current:!0}]),S=y(()=>{const a=[{id:"back",label:"Back to Projects",icon:"arrow-left",variant:"secondary",handler:()=>x.visit(route("projects.index"))}];return w.value&&a.unshift({id:"edit",label:"Edit Project",icon:"pencil",variant:"primary",handler:()=>x.visit(route("projects.edit",d.project.id))}),a}),g=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not set",A=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a),N=a=>{const e="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r={planning:"bg-neutral-100 text-neutral-800",active:"bg-success-100 text-success-800",on_hold:"bg-warning-100 text-warning-800",completed:"bg-primary-100 text-primary-800",cancelled:"bg-error-100 text-error-800"};return`${e} ${r[a]||r.planning}`},I=a=>({planning:"clock",active:"check-circle",on_hold:"pause",completed:"check-circle-solid",cancelled:"x-circle"})[a]||"clock",L=a=>({planning:"Planning",active:"Active",on_hold:"On Hold",completed:"Completed",cancelled:"Cancelled"})[a]||"Unknown",B=a=>{const e="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r={low:"bg-neutral-100 text-neutral-800",medium:"bg-info-100 text-info-800",high:"bg-warning-100 text-warning-800",urgent:"bg-error-100 text-error-800"};return`${e} ${r[a]||r.medium}`},$=a=>({low:"arrow-down",medium:"minus",high:"arrow-up",urgent:"exclamation"})[a]||"minus",E=a=>({low:"Low",medium:"Medium",high:"High",urgent:"Urgent"})[a]||"Medium",M=a=>{a.handler&&a.handler()},T=()=>{x.visit(route("projects.create"),{data:{clone_from:d.project.id}})},U=()=>{m({type:"info",title:"Export Started",message:"Project details are being exported..."})},z=async()=>{if(confirm(`Are you sure you want to delete "${d.project.name}"? This action cannot be undone.`))try{await x.delete(route("projects.destroy",d.project.id)),m({type:"success",title:"Project Deleted",message:`"${d.project.name}" has been successfully deleted.`})}catch{m({type:"error",title:"Delete Failed",message:"Failed to delete the project. Please try again."})}};return(a,e)=>(o(),j(G,null,{header:l(()=>[t("h2",W,n(s.project.name),1)]),default:l(()=>[i(J,{title:s.project.name,subtitle:s.project.client?`Client: ${s.project.client}`:"Project Details",breadcrumbs:D.value,actions:S.value,onAction:M},null,8,["title","subtitle","breadcrumbs","actions"]),t("div",X,[t("div",Y,[t("div",Z,[i(f,{title:"Project Information",icon:"folder-open"},{default:l(()=>[t("div",tt,[t("div",null,[e[1]||(e[1]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Description",-1)),t("dd",et,n(s.project.description||"No description provided"),1)]),t("div",st,[t("div",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Start Date",-1)),t("dd",at,n(s.project.start_date?g(s.project.start_date):"Not set"),1)]),t("div",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Due Date",-1)),t("dd",nt,n(s.project.due_date?g(s.project.due_date):"Not set"),1)])]),t("div",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Budget",-1)),t("dd",rt,n(s.project.budget?A(s.project.budget):"Not specified"),1)])])]),_:1}),i(f,{title:"Project Progress",icon:"chart-bar"},{default:l(()=>[t("div",ot,[t("div",null,[t("div",lt,[e[5]||(e[5]=t("span",{class:"text-sm font-medium text-neutral-700"},"Overall Progress",-1)),t("span",it,n(s.project.progress||0)+"%",1)]),t("div",ct,[t("div",{class:"bg-gradient-to-r from-primary-500 to-primary-600 h-3 rounded-full transition-all duration-500",style:V({width:`${s.project.progress||0}%`})},null,4)])]),t("div",dt,[t("div",ut,[t("div",mt,n(s.project.tasks_completed||0),1),e[6]||(e[6]=t("div",{class:"text-sm text-neutral-500"},"Tasks Completed",-1))]),t("div",xt,[t("div",ft,n(s.project.tasks_total||0),1),e[7]||(e[7]=t("div",{class:"text-sm text-neutral-500"},"Total Tasks",-1))])])])]),_:1}),i(f,{title:"Team Members",icon:"users"},{default:l(()=>[t("div",pt,[s.project.manager?(o(),c("div",gt,[e[8]||(e[8]=t("h4",{class:"text-sm font-medium text-neutral-700 mb-2"},"Project Manager",-1)),t("div",yt,[s.project.manager.avatar?(o(),c("img",{key:0,src:s.project.manager.avatar,alt:s.project.manager.name,class:"w-8 h-8 rounded-full"},null,8,ht)):(o(),c("div",jt,[t("span",vt,n(s.project.manager.name.charAt(0).toUpperCase()),1)])),t("div",null,[t("div",bt,n(s.project.manager.name),1),t("div",wt,n(s.project.manager.email),1)])])])):v("",!0),s.project.team_members&&s.project.team_members.length>0?(o(),c("div",kt,[e[9]||(e[9]=t("h4",{class:"text-sm font-medium text-neutral-700 mb-3"},"Team Members",-1)),t("div",Ct,[(o(!0),c(O,null,Q(s.project.team_members,r=>(o(),c("div",{key:r.id,class:"flex items-center space-x-3"},[r.avatar?(o(),c("img",{key:0,src:r.avatar,alt:r.name,class:"w-8 h-8 rounded-full"},null,8,Pt)):(o(),c("div",_t,[t("span",Dt,n(r.name.charAt(0).toUpperCase()),1)])),t("div",St,[t("div",At,n(r.name),1),t("div",Nt,n(r.role||"Team Member"),1)])]))),128))])])):(o(),c("div",It,[i(b,{name:"users",class:"w-8 h-8 text-neutral-400 mx-auto mb-2"}),e[10]||(e[10]=t("p",{class:"text-sm text-neutral-500"},"No team members assigned",-1))]))])]),_:1})]),t("div",Lt,[i(f,{title:"Project Status",icon:"flag"},{default:l(()=>[t("div",Bt,[t("div",null,[e[11]||(e[11]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Current Status",-1)),t("dd",$t,[t("span",{class:k(N(s.project.status))},[i(b,{name:I(s.project.status),class:"w-3 h-3 mr-1"},null,8,["name"]),u(" "+n(L(s.project.status)),1)],2)])]),t("div",null,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Priority",-1)),t("dd",Et,[t("span",{class:k(B(s.project.priority))},[i(b,{name:$(s.project.priority),class:"w-3 h-3 mr-1"},null,8,["name"]),u(" "+n(E(s.project.priority)),1)],2)])]),t("div",null,[e[13]||(e[13]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Created",-1)),t("dd",Mt,n(g(s.project.created_at)),1)]),t("div",null,[e[14]||(e[14]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Last Updated",-1)),t("dd",Tt,n(g(s.project.updated_at)),1)])])]),_:1}),i(f,{title:"Quick Actions",icon:"lightning-bolt"},{default:l(()=>[t("div",Ut,[w.value?(o(),j(h,{key:0,variant:"primary",size:"sm",icon:"pencil",class:"w-full justify-center",onClick:e[0]||(e[0]=r=>q(x).visit(a.route("projects.edit",s.project.id)))},{default:l(()=>e[15]||(e[15]=[u(" Edit Project ")])),_:1,__:[15]})):v("",!0),i(h,{variant:"secondary",size:"sm",icon:"document-duplicate",class:"w-full justify-center",onClick:T},{default:l(()=>e[16]||(e[16]=[u(" Clone Project ")])),_:1,__:[16]}),i(h,{variant:"secondary",size:"sm",icon:"download",class:"w-full justify-center",onClick:U},{default:l(()=>e[17]||(e[17]=[u(" Export Details ")])),_:1,__:[17]}),_.value?(o(),j(h,{key:1,variant:"danger",size:"sm",icon:"trash",class:"w-full justify-center",onClick:z},{default:l(()=>e[18]||(e[18]=[u(" Delete Project ")])),_:1,__:[18]})):v("",!0)])]),_:1})])])])]),_:1}))}};export{Zt as default};
