import{f as u,Q as h,g as q,o as r,h as p,k as i,a as t,c as a,i as l,F as D,r as E,u as n,t as c,l as m,n as y,G as B}from"./app-BU4Pdry8.js";import{A as N}from"./AuthenticatedLayout-CKXyPlsJ.js";import{P as Q}from"./PageLayout-DTPdon4X.js";import{_ as f}from"./SimpleInfoCard-CYoI_5bf.js";import{C as S}from"./ContentCard-CI3yWFYg.js";import{A as _,T as V,n as j,b as F,j as M,r as g,a as G}from"./icons-DPbnqKVL.js";import{r as I}from"./ArrowDownTrayIcon-D8L4B2Br.js";import"./useAuth-C_NBgLj1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-Dy8Z50hF.js";import"./PageHeader-CZT04GGF.js";import"./Icon-CGRJbPQv.js";/* empty css                                                                   */import"./ChartBarIcon-Bj2E3FMF.js";import"./UserGroupIcon-DmQ3H3Ux.js";const R={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},z={class:"flex items-center space-x-3"},U={class:"overflow-x-auto"},H={class:"min-w-full divide-y divide-neutral-200"},J={class:"bg-white divide-y divide-neutral-200"},K={class:"px-6 py-4"},O={class:"flex items-center"},W={class:"flex-shrink-0 h-10 w-10"},X={class:"h-10 w-10 rounded-lg bg-primary-100 flex items-center justify-center"},Y={class:"ml-4"},Z={class:"text-sm font-medium text-neutral-900"},T={key:0,class:"text-sm text-neutral-500 max-w-xs truncate"},tt={class:"px-6 py-4"},et={class:"text-sm text-neutral-900 font-medium"},st={class:"flex flex-wrap gap-1 mt-1"},ot={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-success-100 text-success-800"},it={key:1,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-info-100 text-info-800"},rt={class:"px-6 py-4"},at={class:"space-y-1"},nt={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-warning-100 text-warning-800"},lt={key:1,class:"text-xs text-neutral-600 flex items-center"},ct={class:"px-6 py-4"},dt={class:"text-sm font-medium text-neutral-900"},ut={class:"px-6 py-4"},mt=["onClick"],xt={class:"px-6 py-4 text-right text-sm font-medium"},pt={class:"flex items-center justify-end space-x-2"},ft=["onClick"],vt=["onClick"],ht=["onClick"],yt={key:1,class:"text-neutral-400",title:"Cannot delete - has associated leave requests"},_t={key:0,class:"text-center py-12"},gt={class:"mt-6"},Vt={__name:"Index",props:{leaveTypes:Array,canCreate:Boolean},setup(d){const x=d,b=u(()=>x.leaveTypes.filter(o=>o.is_active).length),w=u(()=>x.leaveTypes.reduce((o,e)=>o+e.quota,0)),k=u(()=>x.leaveTypes.reduce((o,e)=>o+e.leaves_count,0)),C=u(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Leave Policies",current:!0}]),$=u(()=>{const o=[];return x.canCreate&&o.push({id:"add-leave-type",label:"Add Leave Type",icon:"plus",variant:"primary",handler:()=>h.visit(route("leave-types.create"))}),o}),L=async o=>{try{if((await B.post(route("leave-types.toggle-status",o.id))).data.success){o.is_active=!o.is_active;const s=o.is_active?"activated":"deactivated";console.log(`Leave type ${s} successfully`)}}catch(e){console.error("Error toggling status:",e)}},A=o=>{confirm(`Are you sure you want to delete "${o.name}"? This action cannot be undone.`)&&h.delete(route("leave-types.destroy",o.id),{onSuccess:()=>{},onError:e=>{console.error("Delete failed:",e)}})},P=()=>{console.log("Export policies functionality")};return(o,e)=>(r(),q(N,null,{default:p(()=>[i(Q,{title:"Leave Policies",subtitle:"Manage leave types, quotas, and approval policies",breadcrumbs:C.value,actions:$.value},{default:p(()=>[t("div",R,[i(f,{title:"Total Leave Types",value:d.leaveTypes.length,icon:"clipboard-document-list",color:"primary"},null,8,["value"]),i(f,{title:"Active Policies",value:b.value,icon:"check-circle",color:"success"},null,8,["value"]),i(f,{title:"Total Quota Days",value:w.value,icon:"calendar-days",color:"info"},null,8,["value"]),i(f,{title:"Leave Requests",value:k.value,icon:"document-text",color:"warning"},null,8,["value"])]),i(S,{title:"Leave Policies",subtitle:"Manage and configure leave types"},{actions:p(()=>[t("div",z,[t("button",{onClick:P,class:"inline-flex items-center px-3 py-2 border border-neutral-300 shadow-sm text-sm leading-4 font-medium rounded-md text-neutral-700 bg-white hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[i(n(I),{class:"w-4 h-4 mr-2"}),e[1]||(e[1]=m(" Export "))])])]),default:p(()=>[t("div",U,[t("table",H,[e[4]||(e[4]=t("thead",{class:"bg-neutral-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider"}," Leave Type "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider"}," Quota & Settings "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider"}," Policies "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider"}," Usage "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider"}," Status "),t("th",{class:"relative px-6 py-3"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",J,[(r(!0),a(D,null,E(d.leaveTypes,s=>(r(),a("tr",{key:s.id,class:"hover:bg-neutral-50 transition-colors duration-150"},[t("td",K,[t("div",O,[t("div",W,[t("div",X,[i(n(_),{class:"h-5 w-5 text-primary-600"})])]),t("div",Y,[t("div",Z,c(s.name),1),s.description?(r(),a("div",T,c(s.description),1)):l("",!0)])])]),t("td",tt,[t("div",et,c(s.quota)+" days/year ",1),t("div",st,[s.carry_forward?(r(),a("span",ot," Carry Forward ")):l("",!0),s.max_consecutive_days?(r(),a("span",it," Max "+c(s.max_consecutive_days)+"d ",1)):l("",!0)])]),t("td",rt,[t("div",at,[s.requires_approval?(r(),a("div",nt,[i(n(V),{class:"w-3 h-3 mr-1"}),e[2]||(e[2]=m(" Requires Approval "))])):l("",!0),s.min_notice_days?(r(),a("div",lt,[i(n(j),{class:"w-3 h-3 mr-1"}),m(" "+c(s.min_notice_days)+" days notice ",1)])):l("",!0)])]),t("td",ct,[t("div",dt,c(s.leaves_count),1),e[3]||(e[3]=t("div",{class:"text-xs text-neutral-500"}," requests ",-1))]),t("td",ut,[t("button",{onClick:v=>L(s),class:y([{"bg-success-100 text-success-800 hover:bg-success-200":s.is_active,"bg-neutral-100 text-neutral-800 hover:bg-neutral-200":!s.is_active},"inline-flex items-center px-2.5 py-1.5 text-xs font-medium rounded-full transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"])},[t("div",{class:y([{"bg-success-400":s.is_active,"bg-neutral-400":!s.is_active},"w-1.5 h-1.5 rounded-full mr-2"])},null,2),m(" "+c(s.is_active?"Active":"Inactive"),1)],10,mt)]),t("td",xt,[t("div",pt,[t("button",{onClick:v=>o.$inertia.visit(o.route("leave-types.show",s.id)),class:"text-primary-600 hover:text-primary-900 transition-colors duration-150",title:"View Details"},[i(n(F),{class:"w-4 h-4"})],8,ft),t("button",{onClick:v=>o.$inertia.visit(o.route("leave-types.edit",s.id)),class:"text-info-600 hover:text-info-900 transition-colors duration-150",title:"Edit Policy"},[i(n(M),{class:"w-4 h-4"})],8,vt),s.leaves_count===0?(r(),a("button",{key:0,onClick:v=>A(s),class:"text-error-600 hover:text-error-900 transition-colors duration-150",title:"Delete Policy"},[i(n(g),{class:"w-4 h-4"})],8,ht)):(r(),a("span",yt,[i(n(g),{class:"w-4 h-4"})]))])])]))),128))])])]),d.leaveTypes.length===0?(r(),a("div",_t,[i(n(_),{class:"mx-auto h-12 w-12 text-neutral-400"}),e[6]||(e[6]=t("h3",{class:"mt-2 text-sm font-medium text-neutral-900"},"No leave policies",-1)),e[7]||(e[7]=t("p",{class:"mt-1 text-sm text-neutral-500"},"Get started by creating your first leave policy.",-1)),t("div",gt,[d.canCreate?(r(),a("button",{key:0,onClick:e[0]||(e[0]=s=>o.$inertia.visit(o.route("leave-types.create"))),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[i(n(G),{class:"w-4 h-4 mr-2"}),e[5]||(e[5]=m(" Create Leave Policy "))])):l("",!0)])])):l("",!0)]),_:1})]),_:1},8,["breadcrumbs","actions"])]),_:1}))}};export{Vt as default};
