import{e as k,x as We,f as F,y as Ue,z as ze,g as E,o as d,h as p,k as a,u as o,a as e,l as f,t as u,d as L,c as m,F as z,r as T,n as q,w,j as O,p as me,i as b,J as we,b as ke,v as Se,B as He,S as Fe,q as pe,s as Oe,Q as P}from"./app-Dh3QD6AF.js";import{l as Qe}from"./lodash-CaKk-UhK.js";import{r as Ne,_ as Je}from"./AuthenticatedLayout-410HjyKZ.js";import{h as te,g as ye,f as fe,s as Xe,k as Ae,a as Ee,t as je,q as K,u as Ke,v as Ze,w as es,j as Re,e as Ce,x as $e,y as ss,r as ts,i as Pe,p as Be}from"./Icon-CyrrvQsV.js";import{_ as Te}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                   *//* empty css                                                                   */import{P as ge}from"./PrimaryButton-COTKMDdb.js";import{_ as N}from"./SecondaryButton-C0c7o1BP.js";import{_ as os}from"./ConfirmationModal-7UOn7_-A.js";import{F as B}from"./FormField-OUC-w9Si.js";import{B as ve}from"./BaseInput-jfpWi8nl.js";import{B as ns}from"./BaseTextarea-Crf1MvEt.js";import{Y as as,h as Le,G as ls,V as is,S as rs}from"./transition-zLb_L6Om.js";import{r as qe}from"./ArrowPathIcon-So5Q2cYm.js";import{r as ds}from"./DocumentDuplicateIcon-EXXyAzA6.js";import{r as cs}from"./ArrowDownTrayIcon-mS-3M6gT.js";import"./useAuth-CKobqw1j.js";import"./ApplicationLogo-DEgglafn.js";import"./useAccessibility-CCLTCEwE.js";/* empty css                                                                  */const us={class:"fixed inset-0 z-10 overflow-y-auto"},ms={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ps={class:"modal-header"},vs={class:"header-content"},fs={class:"modal-subtitle"},ys={class:"modal-content"},gs={class:"step-indicator"},_s={class:"steps-list"},hs={class:"step-number"},bs={class:"step-label"},xs={class:"form-steps"},ws={class:"form-step"},Cs={class:"form-grid"},$s={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ks={class:"assessment-types-grid"},Ss=["value"],As={class:"assessment-type-content"},Vs={class:"assessment-type-name"},Ds={class:"assessment-type-description"},Ms={class:"form-step"},Us={class:"participant-selection"},Fs={class:"selection-mode"},Ns={class:"mode-options"},Es={class:"mode-option"},js={class:"mode-option"},Rs={class:"mode-option"},Ps={key:0,class:"department-selection"},Bs={class:"department-grid"},Ls=["value"],qs={class:"department-content"},zs={class:"department-name"},Ts={class:"department-count"},Is={key:1,class:"individual-selection"},Ys={class:"employee-search"},Gs={class:"search-input"},Ws={class:"employee-list"},Hs=["value"],Os={class:"employee-content"},Qs={class:"employee-avatar"},Js={class:"avatar-circle"},Xs={class:"employee-info"},Ks={class:"employee-name"},Zs={class:"employee-details"},et={key:0,class:"employee-position"},st={key:1,class:"employee-department"},tt={class:"selection-summary"},ot={class:"summary-card"},nt={class:"summary-header"},at={class:"summary-content"},lt={class:"summary-count"},it={class:"form-step"},rt={class:"competency-assignment"},dt={class:"competency-search"},ct={class:"search-input"},ut={class:"competency-categories"},mt={class:"category-header"},pt={class:"category-title"},vt=["onClick"],ft={class:"competency-grid"},yt=["value"],gt={class:"competency-content"},_t={class:"competency-name"},ht={class:"competency-description"},bt={key:0,class:"competency-weight"},xt={class:"form-step"},wt={class:"notification-settings"},Ct={class:"notification-options"},$t={class:"notification-option"},kt={class:"notification-option"},St={class:"notification-option"},At={key:0,class:"reminder-settings"},Vt={class:"reminder-options"},Dt={class:"reminder-frequency"},Mt={class:"reminder-timing"},Ut={class:"form-navigation"},Ft={class:"nav-buttons"},Nt={key:0,class:"flex items-center"},Et={key:1},jt={__name:"CycleFormModal",props:{show:{type:Boolean,default:!1},cycle:{type:Object,default:null},employees:{type:Array,default:()=>[]},competencies:{type:Array,default:()=>[]}},emits:["close","save"],setup(Q,{emit:oe}){const _=Q,H=oe,h=k(0),$=k("all"),v=k([]),M=k([]),C=k([]),j=k(""),R=k(""),r=We({name:"",description:"",start_date:"",end_date:"",assessment_types:[],target_employees:[],competencies:[],notification_settings:{send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7}}),V=F(()=>!!_.cycle),x=F(()=>[{id:"basic",label:"Basic Info"},{id:"participants",label:"Participants"},{id:"competencies",label:"Competencies"},{id:"notifications",label:"Notifications"}]),G=F(()=>[{value:"self",label:"Self Assessment",description:"Employees assess their own competencies"},{value:"manager",label:"Manager Assessment",description:"Managers assess their direct reports"},{value:"peer",label:"Peer Assessment",description:"Colleagues assess each other"},{value:"360",label:"360Â° Feedback",description:"Multi-source feedback from all levels"}]),ne=F(()=>{const c=new Map;return _.employees.forEach(t=>{var l;t.department&&c.set(t.department.id,{id:t.department.id,name:t.department.name,employee_count:(((l=c.get(t.department.id))==null?void 0:l.employee_count)||0)+1})}),Array.from(c.values())}),ae=F(()=>{if(!j.value)return _.employees;const c=j.value.toLowerCase();return _.employees.filter(t=>t.name.toLowerCase().includes(c)||t.position&&t.position.toLowerCase().includes(c)||t.department&&t.department.name.toLowerCase().includes(c))}),le=F(()=>{const c=new Set;return _.competencies.forEach(t=>{t.category&&c.add(t.category)}),Array.from(c).sort()}),J=F(()=>{switch($.value){case"all":return _.employees.length;case"department":return _.employees.filter(c=>c.department&&v.value.includes(c.department.id)).length;case"individual":return M.value.length;default:return 0}}),Z=F(()=>{switch(h.value){case 0:return r.name&&r.start_date&&r.end_date&&r.assessment_types.length>0;case 1:return J.value>0;case 2:return C.value.length>0;case 3:return!0;default:return!1}}),ie=F(()=>r.name&&r.start_date&&r.end_date&&r.assessment_types.length>0&&J.value>0&&C.value.length>0),re=c=>c<h.value?"completed":c===h.value?"active":"pending",de=()=>{h.value<x.value.length-1&&h.value++},_e=()=>{h.value>0&&h.value--},he=c=>c.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().slice(0,2),ee=c=>{const t=_.competencies.filter(l=>l.category===c);if(R.value){const l=R.value.toLowerCase();return t.filter(y=>y.name.toLowerCase().includes(l)||y.description&&y.description.toLowerCase().includes(l))}return t},ce=c=>{const t=ee(c);return t.length>0&&t.every(l=>C.value.includes(l.id))},ue=c=>{const t=ee(c);ce(c)?t.forEach(y=>{const W=C.value.indexOf(y.id);W>-1&&C.value.splice(W,1)}):t.forEach(y=>{C.value.includes(y.id)||C.value.push(y.id)})},se=()=>{let c=[];switch($.value){case"all":c=_.employees.map(t=>t.id);break;case"department":c=_.employees.filter(t=>t.department&&v.value.includes(t.department.id)).map(t=>t.id);break;case"individual":c=M.value;break}r.target_employees=c,r.competencies=C.value,H("save",r.data())};Ue(()=>_.show,c=>{c&&I()}),Ue(()=>_.cycle,c=>{c&&X(c)});const I=()=>{h.value=0,$.value="all",v.value=[],M.value=[],C.value=[],j.value="",R.value="",_.cycle?X(_.cycle):(r.reset(),r.notification_settings={send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7})},X=c=>{r.name=c.name||"",r.description=c.description||"",r.start_date=c.start_date||"",r.end_date=c.end_date||"",r.assessment_types=c.assessment_types||[],r.notification_settings=c.notification_settings||{send_start_notification:!0,send_reminders:!0,send_completion_notification:!0,reminder_frequency:"weekly",reminder_days_before:7},c.target_employees&&(M.value=c.target_employees,$.value="individual"),c.competencies&&(C.value=c.competencies)};return ze(()=>{_.cycle&&X(_.cycle)}),(c,t)=>(d(),E(o(rs),{as:"template",show:Q.show},{default:p(()=>[a(o(as),{as:"div",class:"relative z-50",onClose:t[20]||(t[20]=l=>c.$emit("close"))},{default:p(()=>[a(o(Le),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>t[21]||(t[21]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1,__:[21]}),e("div",us,[e("div",ms,[a(o(Le),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:p(()=>[a(o(ls),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl"},{default:p(()=>[e("div",ps,[e("div",vs,[a(o(is),{as:"h3",class:"modal-title"},{default:p(()=>[f(u(V.value?"Edit Assessment Cycle":"Create Assessment Cycle"),1)]),_:1}),e("p",fs,u(V.value?"Update the assessment cycle details":"Set up a new assessment cycle for systematic competency evaluation"),1)]),e("button",{onClick:t[0]||(t[0]=l=>c.$emit("close")),class:"close-button"},[a(o(te),{class:"w-5 h-5"})])]),e("div",ys,[e("form",{onSubmit:L(se,["prevent"]),class:"cycle-form"},[e("div",gs,[e("div",_s,[(d(!0),m(z,null,T(x.value,(l,y)=>(d(),m("div",{key:l.id,class:q(["step-item",re(y)])},[e("div",hs,u(y+1),1),e("div",bs,u(l.label),1)],2))),128))])]),e("div",xs,[w(e("div",ws,[t[22]||(t[22]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Basic Information"),e("p",{class:"step-description"},"Provide the basic details for your assessment cycle")],-1)),e("div",Cs,[a(B,{label:"Cycle Name",required:!0,"error-message":o(r).errors.name,"help-text":"A descriptive name for this assessment cycle"},{default:p(()=>[a(ve,{modelValue:o(r).name,"onUpdate:modelValue":t[1]||(t[1]=l=>o(r).name=l),placeholder:"e.g., Q1 2024 Performance Review","error-message":o(r).errors.name,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),a(B,{label:"Description","error-message":o(r).errors.description,"help-text":"Optional description of the assessment cycle's purpose"},{default:p(()=>[a(ns,{modelValue:o(r).description,"onUpdate:modelValue":t[2]||(t[2]=l=>o(r).description=l),placeholder:"Describe the purpose and scope of this assessment cycle...",rows:3,"error-message":o(r).errors.description},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),e("div",$s,[a(B,{label:"Start Date",required:!0,"error-message":o(r).errors.start_date},{default:p(()=>[a(ve,{modelValue:o(r).start_date,"onUpdate:modelValue":t[3]||(t[3]=l=>o(r).start_date=l),type:"date","error-message":o(r).errors.start_date,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"]),a(B,{label:"End Date",required:!0,"error-message":o(r).errors.end_date},{default:p(()=>[a(ve,{modelValue:o(r).end_date,"onUpdate:modelValue":t[4]||(t[4]=l=>o(r).end_date=l),type:"date","error-message":o(r).errors.end_date,required:""},null,8,["modelValue","error-message"])]),_:1},8,["error-message"])]),a(B,{label:"Assessment Types",required:!0,"error-message":o(r).errors.assessment_types,"help-text":"Select the types of assessments to include in this cycle"},{default:p(()=>[e("div",ks,[(d(!0),m(z,null,T(G.value,l=>(d(),m("label",{key:l.value,class:"assessment-type-option"},[w(e("input",{"onUpdate:modelValue":t[5]||(t[5]=y=>o(r).assessment_types=y),value:l.value,type:"checkbox",class:"assessment-type-checkbox"},null,8,Ss),[[O,o(r).assessment_types]]),e("div",As,[e("div",Vs,u(l.label),1),e("div",Ds,u(l.description),1)])]))),128))])]),_:1},8,["error-message"])])],512),[[me,h.value===0]]),w(e("div",Ms,[t[28]||(t[28]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Participant Selection"),e("p",{class:"step-description"},"Choose which employees will participate in this assessment cycle")],-1)),e("div",Us,[e("div",Fs,[e("div",Ns,[e("label",Es,[w(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>$.value=l),value:"all",type:"radio",class:"mode-radio"},null,512),[[we,$.value]]),t[23]||(t[23]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"All Employees"),e("div",{class:"mode-description"},"Include all active employees")],-1))]),e("label",js,[w(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>$.value=l),value:"department",type:"radio",class:"mode-radio"},null,512),[[we,$.value]]),t[24]||(t[24]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"By Department"),e("div",{class:"mode-description"},"Select specific departments")],-1))]),e("label",Rs,[w(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>$.value=l),value:"individual",type:"radio",class:"mode-radio"},null,512),[[we,$.value]]),t[25]||(t[25]=e("div",{class:"mode-content"},[e("div",{class:"mode-title"},"Individual Selection"),e("div",{class:"mode-description"},"Choose specific employees")],-1))])])]),$.value==="department"?(d(),m("div",Ps,[a(B,{label:"Select Departments","error-message":o(r).errors.departments},{default:p(()=>[e("div",Bs,[(d(!0),m(z,null,T(ne.value,l=>(d(),m("label",{key:l.id,class:"department-option"},[w(e("input",{"onUpdate:modelValue":t[9]||(t[9]=y=>v.value=y),value:l.id,type:"checkbox",class:"department-checkbox"},null,8,Ls),[[O,v.value]]),e("div",qs,[e("div",zs,u(l.name),1),e("div",Ts,u(l.employee_count||0)+" employees",1)])]))),128))])]),_:1},8,["error-message"])])):b("",!0),$.value==="individual"?(d(),m("div",Is,[a(B,{label:"Select Employees","error-message":o(r).errors.employees},{default:p(()=>[e("div",Ys,[e("div",Gs,[a(o(ye),{class:"search-icon"}),w(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>j.value=l),type:"text",placeholder:"Search employees...",class:"search-field"},null,512),[[ke,j.value]])])]),e("div",Ws,[(d(!0),m(z,null,T(ae.value,l=>(d(),m("label",{key:l.id,class:"employee-option"},[w(e("input",{"onUpdate:modelValue":t[11]||(t[11]=y=>M.value=y),value:l.id,type:"checkbox",class:"employee-checkbox"},null,8,Hs),[[O,M.value]]),e("div",Os,[e("div",Qs,[e("div",Js,u(he(l.name)),1)]),e("div",Xs,[e("div",Ks,u(l.name),1),e("div",Zs,[l.position?(d(),m("span",et,u(l.position),1)):b("",!0),l.department?(d(),m("span",st,u(l.department.name),1)):b("",!0)])])])]))),128))])]),_:1},8,["error-message"])])):b("",!0),e("div",tt,[e("div",ot,[e("div",nt,[a(o(fe),{class:"summary-icon"}),t[26]||(t[26]=e("h5",{class:"summary-title"},"Selected Participants",-1))]),e("div",at,[e("div",lt,u(J.value),1),t[27]||(t[27]=e("div",{class:"summary-label"},"employees selected",-1))])])])])],512),[[me,h.value===1]]),w(e("div",it,[t[29]||(t[29]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Competency Assignment"),e("p",{class:"step-description"},"Select which competencies will be assessed in this cycle")],-1)),e("div",rt,[a(B,{label:"Select Competencies",required:!0,"error-message":o(r).errors.competencies,"help-text":"Choose the competencies that will be evaluated"},{default:p(()=>[e("div",dt,[e("div",ct,[a(o(ye),{class:"search-icon"}),w(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>R.value=l),type:"text",placeholder:"Search competencies...",class:"search-field"},null,512),[[ke,R.value]])])]),e("div",ut,[(d(!0),m(z,null,T(le.value,l=>(d(),m("div",{key:l,class:"category-section"},[e("div",mt,[e("h6",pt,u(l),1),e("button",{onClick:y=>ue(l),type:"button",class:"category-toggle"},u(ce(l)?"Deselect All":"Select All"),9,vt)]),e("div",ft,[(d(!0),m(z,null,T(ee(l),y=>(d(),m("label",{key:y.id,class:"competency-option"},[w(e("input",{"onUpdate:modelValue":t[13]||(t[13]=W=>C.value=W),value:y.id,type:"checkbox",class:"competency-checkbox"},null,8,yt),[[O,C.value]]),e("div",gt,[e("div",_t,u(y.name),1),e("div",ht,u(y.description),1),y.weight?(d(),m("div",bt," Weight: "+u(y.weight),1)):b("",!0)])]))),128))])]))),128))])]),_:1},8,["error-message"])])],512),[[me,h.value===2]]),w(e("div",xt,[t[36]||(t[36]=e("div",{class:"step-header"},[e("h4",{class:"step-title"},"Notification Settings"),e("p",{class:"step-description"},"Configure how participants will be notified about the assessment cycle")],-1)),e("div",wt,[a(B,{label:"Notification Preferences","help-text":"Choose when and how to notify participants"},{default:p(()=>[e("div",Ct,[e("label",$t,[w(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>o(r).notification_settings.send_start_notification=l),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_start_notification]]),t[30]||(t[30]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Start Notification"),e("div",{class:"notification-description"},"Notify participants when the cycle begins")],-1))]),e("label",kt,[w(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>o(r).notification_settings.send_reminders=l),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_reminders]]),t[31]||(t[31]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Reminders"),e("div",{class:"notification-description"},"Send reminder notifications for pending assessments")],-1))]),e("label",St,[w(e("input",{"onUpdate:modelValue":t[16]||(t[16]=l=>o(r).notification_settings.send_completion_notification=l),type:"checkbox",class:"notification-checkbox"},null,512),[[O,o(r).notification_settings.send_completion_notification]]),t[32]||(t[32]=e("div",{class:"notification-content"},[e("div",{class:"notification-title"},"Send Completion Notification"),e("div",{class:"notification-description"},"Notify when assessments are completed")],-1))])])]),_:1}),o(r).notification_settings.send_reminders?(d(),m("div",At,[a(B,{label:"Reminder Schedule","help-text":"Configure when reminders should be sent"},{default:p(()=>[e("div",Vt,[e("div",Dt,[t[34]||(t[34]=e("label",{class:"reminder-label"},"Reminder Frequency",-1)),w(e("select",{"onUpdate:modelValue":t[17]||(t[17]=l=>o(r).notification_settings.reminder_frequency=l),class:"reminder-select"},t[33]||(t[33]=[e("option",{value:"daily"},"Daily",-1),e("option",{value:"weekly"},"Weekly",-1),e("option",{value:"custom"},"Custom",-1)]),512),[[Se,o(r).notification_settings.reminder_frequency]])]),e("div",Mt,[t[35]||(t[35]=e("label",{class:"reminder-label"},"Days Before Deadline",-1)),a(ve,{modelValue:o(r).notification_settings.reminder_days_before,"onUpdate:modelValue":t[18]||(t[18]=l=>o(r).notification_settings.reminder_days_before=l),type:"number",min:"1",max:"30",placeholder:"7"},null,8,["modelValue"])])])]),_:1})])):b("",!0)])],512),[[me,h.value===3]])]),e("div",Ut,[e("div",Ft,[h.value>0?(d(),E(N,{key:0,onClick:_e,type:"button"},{default:p(()=>[a(o(Xe),{class:"w-4 h-4 mr-2"}),t[37]||(t[37]=f(" Previous "))]),_:1,__:[37]})):b("",!0),t[41]||(t[41]=e("div",{class:"nav-spacer"},null,-1)),a(N,{onClick:t[19]||(t[19]=l=>c.$emit("close")),type:"button"},{default:p(()=>t[38]||(t[38]=[f(" Cancel ")])),_:1,__:[38]}),h.value<x.value.length-1?(d(),E(ge,{key:1,onClick:de,type:"button",disabled:!Z.value},{default:p(()=>[t[39]||(t[39]=f(" Next ")),a(o(Ae),{class:"w-4 h-4 ml-2"})]),_:1,__:[39]},8,["disabled"])):(d(),E(ge,{key:2,type:"submit",disabled:o(r).processing||!ie.value},{default:p(()=>[o(r).processing?(d(),m("span",Nt,[t[40]||(t[40]=e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),f(" "+u(V.value?"Updating...":"Creating..."),1)])):(d(),m("span",Et,u(V.value?"Update Cycle":"Create Cycle"),1))]),_:1},8,["disabled"]))])])],32)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},Rt=Te(jt,[["__scopeId","data-v-d833f7e8"]]),Pt={class:"min-h-screen bg-gray-50"},Bt={class:"bg-white border-b border-gray-200"},Lt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},qt={class:"py-6"},zt={class:"flex mb-4","aria-label":"Breadcrumb"},Tt={class:"flex items-center space-x-2 text-sm"},It={class:"flex items-center"},Yt={class:"flex items-center"},Gt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},Wt={class:"flex items-center space-x-3"},Ht={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Ot={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},Qt={class:"p-6"},Jt={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},Xt={class:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4"},Kt={class:"relative"},Zt={class:"relative"},eo={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},so={class:"relative"},to={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},oo={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},no={class:"flex items-center space-x-3"},ao={class:"flex bg-gray-100 rounded-lg p-1 border border-gray-200"},lo={key:0,class:"mt-6 pt-4 border-t border-gray-200"},io={class:"flex flex-wrap items-center gap-3"},ro={class:"flex flex-wrap gap-2"},co={key:0,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-blue-50 text-blue-700 border border-blue-200"},uo={key:1,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-green-50 text-green-700 border border-green-200"},mo={key:2,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-purple-50 text-purple-700 border border-purple-200"},po={key:0,class:"mb-6 flex items-center justify-between"},vo={class:"text-sm text-gray-600"},fo={key:0},yo={key:1},go={key:0,class:"text-sm text-gray-500"},_o={key:1,class:"space-y-6"},ho={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},bo={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200"},xo={class:"text-center py-16 px-6"},wo={class:"text-gray-600 mb-6 max-w-md mx-auto"},Co={class:"flex flex-col sm:flex-row items-center justify-center space-y-3 sm:space-y-0 sm:space-x-3"},$o={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ko=["onClick"],So={class:"p-6 pb-4"},Ao={class:"flex items-start justify-between mb-3"},Vo={class:"flex-1 min-w-0"},Do={class:"text-lg font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"},Mo={class:"text-sm text-gray-600 mt-1 line-clamp-2"},Uo={class:"flex items-center text-sm text-gray-500 mb-4"},Fo={class:"mb-4"},No={class:"flex items-center justify-between mb-2"},Eo={class:"text-sm text-gray-600"},jo={class:"w-full bg-gray-200 rounded-full h-2"},Ro={class:"grid grid-cols-2 gap-4 mb-4"},Po={class:"text-center p-3 bg-gray-50 rounded-lg"},Bo={class:"flex items-center justify-center mb-1"},Lo={class:"text-lg font-semibold text-gray-900"},qo={class:"text-center p-3 bg-gray-50 rounded-lg"},zo={class:"flex items-center justify-center mb-1"},To={class:"text-lg font-semibold text-gray-900"},Io={class:"px-6 py-4 bg-gray-50 border-t border-gray-100 rounded-b-lg"},Yo={class:"flex items-center justify-between"},Go={class:"flex items-center space-x-2"},Wo=["onClick"],Ho={key:4,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},Oo={class:"divide-y divide-gray-200"},Qo=["onClick"],Jo={class:"hidden md:grid md:grid-cols-12 md:gap-4"},Xo={class:"col-span-3"},Ko={class:"min-w-0"},Zo={class:"text-sm font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"},en={class:"text-sm text-gray-600 mt-1 line-clamp-2"},sn={class:"col-span-2 flex items-center"},tn={class:"col-span-2 flex items-center"},on={class:"text-sm text-gray-900"},nn={class:"flex items-center"},an={class:"col-span-2 flex items-center"},ln={class:"w-full"},rn={class:"flex items-center justify-between mb-1"},dn={class:"text-xs text-gray-600"},cn={class:"w-full bg-gray-200 rounded-full h-2"},un={class:"col-span-2 flex items-center"},mn={class:"flex items-center text-sm text-gray-900"},pn={class:"font-medium"},vn={class:"col-span-1 flex items-center justify-end space-x-2"},fn=["onClick"],yn={class:"md:hidden space-y-3"},gn={class:"flex items-start justify-between"},_n={class:"flex-1 min-w-0"},hn={class:"text-sm font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"},bn={class:"text-sm text-gray-600 mt-1"},xn={class:"space-y-2"},wn={class:"flex items-center text-sm text-gray-500"},Cn={class:"flex items-center justify-between mb-1"},$n={class:"text-xs text-gray-600"},kn={class:"w-full bg-gray-200 rounded-full h-2"},Sn={class:"flex items-center justify-between"},An={class:"flex items-center text-sm text-gray-600"},Vn={class:"flex items-center space-x-2"},Dn=["onClick"],Mn={class:"menu-items"},Un=["disabled"],Fn=["disabled"],Nn={key:1,class:"notification-overlay"},En={class:"notification-center"},jn={class:"notification-icon"},Rn={class:"notification-text"},Pn={class:"notification-message"},Bn=["onClick"],Ln={__name:"AssessmentCycleManager",props:{cycles:{type:Array,default:()=>[]},employees:{type:Array,default:()=>[]},competencies:{type:Array,default:()=>[]}},setup(Q){const oe=Q,_=F(()=>!!(v.value.search||v.value.status||v.value.dateRange)),H=k(!1),h=k("grid"),$=k([]),v=k({search:"",status:"",dateRange:""}),M=k(null),C=k(!1),j=k(""),R=k(""),r=k("Confirm"),V=k(null),x=k({show:!1,x:0,y:0,cycle:null}),G=F(()=>{let i=[...oe.cycles];if(v.value.search){const s=v.value.search.toLowerCase();i=i.filter(g=>g.name.toLowerCase().includes(s)||g.description&&g.description.toLowerCase().includes(s))}if(v.value.status&&(i=i.filter(s=>s.status===v.value.status)),v.value.dateRange){const s=new Date,g=s.getMonth(),A=s.getFullYear();i=i.filter(D=>{const Y=new Date(D.start_date),n=new Date(D.end_date);switch(v.value.dateRange){case"current":return Y.getMonth()===g&&Y.getFullYear()===A||n.getMonth()===g&&n.getFullYear()===A;case"upcoming":return Y>s;case"past":return n<s;default:return!0}})}return i}),ne=()=>{H.value=!0,P.reload({only:["cycles"],preserveScroll:!0,onFinish:()=>{H.value=!1,U("Data refreshed successfully","success")}})},ae=Qe.debounce(()=>{},300),le=()=>{},J=()=>{v.value={search:"",status:"",dateRange:""}},Z=i=>{P.visit(route("assessment-cycles.edit",i.id))},ie=i=>{P.visit(route("assessment-cycles.show",i.id))},re=i=>{j.value="Start Assessment Cycle",R.value=`Are you sure you want to start "${i.name}"? This will notify all participants and begin the assessment process.`,r.value="Start Cycle",V.value=()=>{ue(i.id,"start","Assessment cycle started successfully")},C.value=!0,I()},de=i=>{j.value="Complete Assessment Cycle",R.value=`Are you sure you want to complete "${i.name}"? This action cannot be undone.`,r.value="Complete Cycle",V.value=()=>{ue(i.id,"complete","Assessment cycle completed successfully")},C.value=!0,I()},_e=i=>{P.post(route("assessment-cycles.duplicate",i.id),{},{onSuccess:()=>{U("Assessment cycle duplicated successfully","success")},onError:()=>{U("Failed to duplicate assessment cycle","error")}}),I()},he=i=>{P.post(route("assessment-cycles.send-reminders",i.id),{},{onSuccess:()=>{U("Reminders sent successfully","success")},onError:()=>{U("Failed to send reminders","error")}}),I()},ee=i=>{window.open(route("assessment-cycles.export",i.id),"_blank"),I()},ce=i=>{j.value="Delete Assessment Cycle",R.value=`Are you sure you want to delete "${i.name}"? This action cannot be undone and will remove all associated data.`,r.value="Delete",V.value=()=>{P.delete(route("assessment-cycles.destroy",i.id),{onSuccess:()=>{U("Assessment cycle deleted successfully","success")},onError:()=>{U("Failed to delete assessment cycle","error")}})},C.value=!0,I()},ue=(i,s,g)=>{P.post(route(`assessment-cycles.${s}`,i),{},{onSuccess:()=>{U(g,"success")},onError:()=>{U(`Failed to ${s} assessment cycle`,"error")}})},se=(i,s)=>{s.preventDefault();const g=200,A=250,D=window.innerWidth,Y=window.innerHeight;let n=s.clientX,S=s.clientY;n+g>D&&(n=D-g-10),S+A>Y&&(S=Y-A-10),x.value={show:!0,x:Math.max(10,n),y:Math.max(10,S),cycle:i}},I=()=>{x.value.show=!1},X=()=>{showCycleModal.value=!1,M.value=null},c=i=>{const s=!!M.value,g=s?"assessment-cycles.update":"assessment-cycles.store",A=s?"put":"post",D=s?[M.value.id]:[];P[A](route(g,...D),i,{onSuccess:()=>{U(`Assessment cycle ${s?"updated":"created"} successfully`,"success"),X()},onError:()=>{U(`Failed to ${s?"update":"create"} assessment cycle`,"error")}})},t=()=>{C.value=!1,V.value&&(V.value(),V.value=null)},l=()=>{C.value=!1,V.value=null},y=i=>({planned:"Planned",active:"Active",completed:"Completed",cancelled:"Cancelled"})[i]||i,W=i=>({planned:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"})[i]||"bg-gray-100 text-gray-800",be=(i,s)=>{const g=new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric"}),A=new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"});return`${g} - ${A}`},Ie=i=>({current:"Current Month",upcoming:"Upcoming",past:"Past Cycles"})[i]||i,xe=i=>({planned:"bg-gray-400",active:"bg-blue-500",completed:"bg-green-500",cancelled:"bg-red-500"})[i]||"bg-gray-400",Ve=()=>{try{typeof route<"u"?P.visit(route("assessment-cycles.create")):P.visit("/assessment-cycles/create")}catch(i){console.error("Navigation error:",i),window.location.href="/assessment-cycles/create"}},U=(i,s="info",g=4e3)=>{const A=Date.now(),D={id:A,message:i,type:s,visible:!0};$.value.push(D),setTimeout(()=>{De(A)},g)},De=i=>{const s=$.value.findIndex(g=>g.id===i);s>-1&&$.value.splice(s,1)},Ye=i=>{const s="notification-toast",g={success:"notification-success",error:"notification-error",warning:"notification-warning",info:"notification-info"};return`${s} ${g[i]||g.info}`},Ge=i=>({success:Ce,error:Be,warning:Be,info:Pe})[i]||Pe,Me=i=>{x.value.show&&!i.target.closest(".context-menu")&&I()};return ze(()=>{document.addEventListener("click",Me),console.log("AssessmentCycleManager mounted"),console.log("Route helper available:",typeof route<"u"),typeof route<"u"?console.log("Test route generation:",route("assessment-cycles.create")):console.warn("Route helper not available - using fallback URLs")}),He(()=>{document.removeEventListener("click",Me)}),(i,s)=>(d(),E(Je,null,{default:p(()=>{var g,A,D,Y;return[e("div",Pt,[e("div",Bt,[e("div",Lt,[e("div",qt,[e("nav",zt,[e("ol",Tt,[e("li",null,[a(o(Fe),{href:i.route("dashboard"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:p(()=>s[16]||(s[16]=[f(" Dashboard ")])),_:1,__:[16]},8,["href"])]),e("li",It,[a(o(Ae),{class:"w-4 h-4 text-gray-400 mx-2"}),a(o(Fe),{href:i.route("assessment-dashboard"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:p(()=>s[17]||(s[17]=[f(" Assessment Dashboard ")])),_:1,__:[17]},8,["href"])]),e("li",Yt,[a(o(Ae),{class:"w-4 h-4 text-gray-400 mx-2"}),s[18]||(s[18]=e("span",{class:"text-gray-900 font-medium"},"Assessment Cycles",-1))])])]),e("div",Gt,[s[21]||(s[21]=e("div",{class:"mb-4 sm:mb-0"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"Assessment Cycle Manager"),e("p",{class:"mt-1 text-sm text-gray-600"},"Create and manage assessment cycles for systematic competency evaluation")],-1)),e("div",Wt,[a(N,{onClick:ne,disabled:H.value},{default:p(()=>[a(o(qe),{class:"w-4 h-4 mr-2"}),s[19]||(s[19]=f(" Refresh "))]),_:1,__:[19]},8,["disabled"]),a(ge,{onClick:Ve},{default:p(()=>[a(o(Ee),{class:"w-4 h-4 mr-2"}),s[20]||(s[20]=f(" New Assessment Cycle "))]),_:1,__:[20]})])])])])]),e("div",Ht,[e("div",Ot,[e("div",Qt,[e("div",Jt,[e("div",Xt,[e("div",Kt,[a(o(ye),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),w(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>v.value.search=n),type:"text",placeholder:"Search cycles...",class:"pl-10 pr-4 py-2.5 w-full sm:w-64 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",onInput:s[1]||(s[1]=(...n)=>o(ae)&&o(ae)(...n))},null,544),[[ke,v.value.search]])]),e("div",Zt,[w(e("select",{"onUpdate:modelValue":s[2]||(s[2]=n=>v.value.status=n),onChange:le,class:"appearance-none pl-10 pr-10 py-2.5 min-w-40 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900 hover:border-gray-400 cursor-pointer"},s[22]||(s[22]=[e("option",{value:""},"All Statuses",-1),e("option",{value:"planned"},"Planned",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),544),[[Se,v.value.status]]),s[23]||(s[23]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("div",{class:"w-4 h-4 text-gray-400"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])])],-1)),e("div",eo,[a(o(je),{class:"w-4 h-4 text-gray-400"})])]),e("div",so,[w(e("select",{"onUpdate:modelValue":s[3]||(s[3]=n=>v.value.dateRange=n),onChange:le,class:"appearance-none pl-10 pr-10 py-2.5 min-w-40 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white text-gray-900 hover:border-gray-400 cursor-pointer"},s[24]||(s[24]=[e("option",{value:""},"All Dates",-1),e("option",{value:"current"},"Current Month",-1),e("option",{value:"upcoming"},"Upcoming",-1),e("option",{value:"past"},"Past Cycles",-1)]),544),[[Se,v.value.dateRange]]),e("div",to,[a(o(K),{class:"w-4 h-4 text-gray-400"})]),e("div",oo,[a(o(je),{class:"w-4 h-4 text-gray-400"})])]),_.value?(d(),E(N,{key:0,onClick:J,size:"sm"},{default:p(()=>s[25]||(s[25]=[f(" Clear Filters ")])),_:1,__:[25]})):b("",!0)]),e("div",no,[s[28]||(s[28]=e("span",{class:"text-sm font-medium text-gray-700"},"View:",-1)),e("div",ao,[e("button",{onClick:s[4]||(s[4]=n=>h.value="grid"),class:q(["flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200",h.value==="grid"?"bg-white text-blue-600 shadow-sm border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[a(o(Ke),{class:"w-4 h-4 mr-2"}),s[26]||(s[26]=f(" Grid "))],2),e("button",{onClick:s[5]||(s[5]=n=>h.value="list"),class:q(["flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200",h.value==="list"?"bg-white text-blue-600 shadow-sm border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[a(o(Ze),{class:"w-4 h-4 mr-2"}),s[27]||(s[27]=f(" List "))],2)])])]),_.value?(d(),m("div",lo,[e("div",io,[s[30]||(s[30]=e("span",{class:"text-sm font-medium text-gray-700"},"Active filters:",-1)),e("div",ro,[v.value.search?(d(),m("span",co,[a(o(ye),{class:"w-4 h-4 mr-1.5"}),f(' "'+u(v.value.search)+'" ',1),e("button",{onClick:s[6]||(s[6]=n=>v.value.search=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-blue-200 transition-colors"},[a(o(te),{class:"w-3 h-3"})])])):b("",!0),v.value.status?(d(),m("span",uo,[s[29]||(s[29]=e("div",{class:"w-4 h-4 mr-1.5"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),f(" "+u(y(v.value.status))+" ",1),e("button",{onClick:s[7]||(s[7]=n=>v.value.status=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-green-200 transition-colors"},[a(o(te),{class:"w-3 h-3"})])])):b("",!0),v.value.dateRange?(d(),m("span",mo,[a(o(K),{class:"w-4 h-4 mr-1.5"}),f(" "+u(Ie(v.value.dateRange))+" ",1),e("button",{onClick:s[8]||(s[8]=n=>v.value.dateRange=""),class:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full hover:bg-purple-200 transition-colors"},[a(o(te),{class:"w-3 h-3"})])])):b("",!0)])])])):b("",!0)])]),H.value?b("",!0):(d(),m("div",po,[e("div",vo,[G.value.length>0?(d(),m("span",fo," Showing "+u(G.value.length)+" of "+u(oe.cycles.length)+" assessment cycles ",1)):(d(),m("span",yo," No assessment cycles found "))]),G.value.length>0?(d(),m("div",go,u(h.value==="grid"?"Grid":"List")+" view ",1)):b("",!0)])),H.value?(d(),m("div",_o,[e("div",ho,[(d(),m(z,null,T(6,n=>e("div",{key:n,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},s[31]||(s[31]=[e("div",{class:"animate-pulse space-y-4"},[e("div",{class:"flex items-center justify-between"},[e("div",{class:"h-5 bg-gray-200 rounded w-3/4"}),e("div",{class:"h-6 bg-gray-200 rounded-full w-16"})]),e("div",{class:"h-4 bg-gray-200 rounded w-full"}),e("div",{class:"h-3 bg-gray-200 rounded w-2/3"}),e("div",{class:"space-y-2"},[e("div",{class:"h-2 bg-gray-200 rounded w-full"}),e("div",{class:"h-2 bg-gray-200 rounded w-1/2"})]),e("div",{class:"flex justify-between"},[e("div",{class:"h-8 bg-gray-200 rounded w-16"}),e("div",{class:"h-8 bg-gray-200 rounded w-16"})])],-1)]))),64))])])):G.value.length===0?(d(),m("div",bo,[e("div",xo,[a(o(K),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s[35]||(s[35]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No Assessment Cycles Found",-1)),e("p",wo,u(_.value?"No cycles match your current filters. Try adjusting your search criteria.":"Get started by creating your first assessment cycle to begin systematic competency evaluation."),1),e("div",Co,[_.value?b("",!0):(d(),E(ge,{key:0,onClick:Ve},{default:p(()=>[a(o(Ee),{class:"w-4 h-4 mr-2"}),s[32]||(s[32]=f(" Create Assessment Cycle "))]),_:1,__:[32]})),_.value?(d(),E(N,{key:1,onClick:J},{default:p(()=>s[33]||(s[33]=[f(" Clear Filters ")])),_:1,__:[33]})):b("",!0),a(N,{onClick:ne},{default:p(()=>[a(o(qe),{class:"w-4 h-4 mr-2"}),s[34]||(s[34]=f(" Refresh "))]),_:1,__:[34]})])])])):h.value==="grid"?(d(),m("div",$o,[(d(!0),m(z,null,T(G.value,n=>(d(),m("div",{key:n.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md hover:border-gray-300 transition-all duration-200 cursor-pointer group",onClick:S=>ie(n)},[e("div",So,[e("div",Ao,[e("div",Vo,[e("h3",Do,u(n.name),1),e("p",Mo,u(n.description||"No description provided"),1)]),e("span",{class:q([W(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0"])},u(y(n.status)),3)]),e("div",Uo,[a(o(K),{class:"w-4 h-4 mr-2 flex-shrink-0"}),e("span",null,u(be(n.start_date,n.end_date)),1)]),e("div",Fo,[e("div",No,[s[36]||(s[36]=e("span",{class:"text-sm font-medium text-gray-700"},"Progress",-1)),e("span",Eo,u(n.completion_percentage||0)+"%",1)]),e("div",jo,[e("div",{class:q(["h-2 rounded-full transition-all duration-300",xe(n.status)]),style:pe({width:`${n.completion_percentage||0}%`})},null,6)])]),e("div",Ro,[e("div",Po,[e("div",Bo,[a(o(fe),{class:"w-4 h-4 text-gray-500 mr-1"}),e("span",Lo,u(n.participant_count||0),1)]),s[37]||(s[37]=e("span",{class:"text-xs text-gray-600"},"Participants",-1))]),e("div",qo,[e("div",zo,[a(o(es),{class:"w-4 h-4 text-gray-500 mr-1"}),e("span",To,u(n.assessment_count||0),1)]),s[38]||(s[38]=e("span",{class:"text-xs text-gray-600"},"Assessments",-1))])])]),e("div",Io,[e("div",Yo,[e("div",Go,[a(N,{onClick:L(S=>Z(n),["stop"]),size:"sm",disabled:n.status==="completed",class:"text-xs"},{default:p(()=>[a(o(Re),{class:"w-3 h-3 mr-1"}),s[39]||(s[39]=f(" Edit "))]),_:2,__:[39]},1032,["onClick","disabled"]),n.status==="planned"?(d(),E(N,{key:0,onClick:L(S=>re(n),["stop"]),size:"sm",class:"text-xs bg-green-50 text-green-700 hover:bg-green-100 border-green-200"},{default:p(()=>[a(o(Ne),{class:"w-3 h-3 mr-1"}),s[40]||(s[40]=f(" Start "))]),_:2,__:[40]},1032,["onClick"])):n.status==="active"?(d(),E(N,{key:1,onClick:L(S=>de(n),["stop"]),size:"sm",class:"text-xs bg-blue-50 text-blue-700 hover:bg-blue-100 border-blue-200"},{default:p(()=>[a(o(Ce),{class:"w-3 h-3 mr-1"}),s[41]||(s[41]=f(" Complete "))]),_:2,__:[41]},1032,["onClick"])):b("",!0)]),e("button",{onClick:L(S=>se(n,S),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[a(o($e),{class:"w-4 h-4"})],8,Wo)])])],8,ko))),128))])):(d(),m("div",Ho,[s[46]||(s[46]=e("div",{class:"bg-gray-50 border-b border-gray-200 hidden md:block"},[e("div",{class:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-medium text-gray-700"},[e("div",{class:"col-span-3"},"Name & Description"),e("div",{class:"col-span-2"},"Status"),e("div",{class:"col-span-2"},"Date Range"),e("div",{class:"col-span-2"},"Progress"),e("div",{class:"col-span-2"},"Participants"),e("div",{class:"col-span-1 text-right"},"Actions")])],-1)),e("div",Oo,[(d(!0),m(z,null,T(G.value,n=>(d(),m("div",{key:n.id,class:"px-6 py-4 hover:bg-gray-50 cursor-pointer transition-colors group",onClick:S=>ie(n)},[e("div",Jo,[e("div",Xo,[e("div",Ko,[e("h4",Zo,u(n.name),1),e("p",en,u(n.description||"No description provided"),1)])]),e("div",sn,[e("span",{class:q([W(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},u(y(n.status)),3)]),e("div",tn,[e("div",on,[e("div",nn,[a(o(K),{class:"w-4 h-4 text-gray-400 mr-2"}),f(" "+u(be(n.start_date,n.end_date)),1)])])]),e("div",an,[e("div",ln,[e("div",rn,[e("span",dn,u(n.completion_percentage||0)+"%",1)]),e("div",cn,[e("div",{class:q(["h-2 rounded-full transition-all duration-300",xe(n.status)]),style:pe({width:`${n.completion_percentage||0}%`})},null,6)])])]),e("div",un,[e("div",mn,[a(o(fe),{class:"w-4 h-4 text-gray-400 mr-2"}),e("span",pn,u(n.participant_count||0),1),s[42]||(s[42]=e("span",{class:"text-gray-500 ml-1"},"participants",-1))])]),e("div",vn,[a(N,{onClick:L(S=>Z(n),["stop"]),size:"sm",disabled:n.status==="completed",class:"text-xs"},{default:p(()=>[a(o(Re),{class:"w-3 h-3 mr-1"}),s[43]||(s[43]=f(" Edit "))]),_:2,__:[43]},1032,["onClick","disabled"]),e("button",{onClick:L(S=>se(n,S),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[a(o($e),{class:"w-4 h-4"})],8,fn)])]),e("div",yn,[e("div",gn,[e("div",_n,[e("h4",hn,u(n.name),1),e("p",bn,u(n.description||"No description provided"),1)]),e("span",{class:q([W(n.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-3 flex-shrink-0"])},u(y(n.status)),3)]),e("div",xn,[e("div",wn,[a(o(K),{class:"w-4 h-4 mr-2"}),f(" "+u(be(n.start_date,n.end_date)),1)]),e("div",null,[e("div",Cn,[s[44]||(s[44]=e("span",{class:"text-xs text-gray-600"},"Progress",-1)),e("span",$n,u(n.completion_percentage||0)+"%",1)]),e("div",kn,[e("div",{class:q(["h-2 rounded-full transition-all duration-300",xe(n.status)]),style:pe({width:`${n.completion_percentage||0}%`})},null,6)])])]),e("div",Sn,[e("div",An,[a(o(fe),{class:"w-4 h-4 mr-1"}),e("span",null,u(n.participant_count||0)+" participants",1)]),e("div",Vn,[a(N,{onClick:L(S=>Z(n),["stop"]),size:"sm",disabled:n.status==="completed",class:"text-xs"},{default:p(()=>s[45]||(s[45]=[f(" Edit ")])),_:2,__:[45]},1032,["onClick","disabled"]),e("button",{onClick:L(S=>se(n,S),["stop"]),class:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors"},[a(o($e),{class:"w-4 h-4"})],8,Dn)])])])],8,Qo))),128))])]))])]),x.value.show?(d(),m("div",{key:0,style:pe({top:x.value.y+"px",left:x.value.x+"px"}),class:"context-menu",onClick:s[15]||(s[15]=L(()=>{},["stop"]))},[e("div",Mn,[((g=x.value.cycle)==null?void 0:g.status)==="planned"?(d(),m("button",{key:0,onClick:s[9]||(s[9]=n=>re(x.value.cycle)),class:"menu-item"},[a(o(Ne),{class:"menu-icon"}),s[47]||(s[47]=f(" Start Cycle "))])):b("",!0),((A=x.value.cycle)==null?void 0:A.status)==="active"?(d(),m("button",{key:1,onClick:s[10]||(s[10]=n=>de(x.value.cycle)),class:"menu-item"},[a(o(Ce),{class:"menu-icon"}),s[48]||(s[48]=f(" Complete Cycle "))])):b("",!0),e("button",{onClick:s[11]||(s[11]=n=>_e(x.value.cycle)),class:"menu-item"},[a(o(ds),{class:"menu-icon"}),s[49]||(s[49]=f(" Duplicate "))]),e("button",{onClick:s[12]||(s[12]=n=>he(x.value.cycle)),class:"menu-item",disabled:((D=x.value.cycle)==null?void 0:D.status)!=="active"},[a(o(ss),{class:"menu-icon"}),s[50]||(s[50]=f(" Send Reminders "))],8,Un),e("button",{onClick:s[13]||(s[13]=n=>ee(x.value.cycle)),class:"menu-item"},[a(o(cs),{class:"menu-icon"}),s[51]||(s[51]=f(" Export Data "))]),s[53]||(s[53]=e("hr",{class:"menu-divider"},null,-1)),e("button",{onClick:s[14]||(s[14]=n=>ce(x.value.cycle)),class:"menu-item danger",disabled:((Y=x.value.cycle)==null?void 0:Y.status)==="active"},[a(o(ts),{class:"menu-icon"}),s[52]||(s[52]=f(" Delete "))],8,Fn)])],4)):b("",!0),a(Rt,{show:i.showCycleModal,cycle:M.value,employees:Q.employees,competencies:Q.competencies,onClose:X,onSave:c},null,8,["show","cycle","employees","competencies"]),a(os,{show:C.value,title:j.value,message:R.value,"confirm-text":r.value,onConfirm:t,onCancel:l},null,8,["show","title","message","confirm-text"]),$.value.length>0?(d(),m("div",Nn,[e("div",En,[(d(!0),m(z,null,T($.value,n=>(d(),m("div",{key:n.id,class:q([Ye(n.type),"notification-card"])},[e("div",jn,[(d(),E(Oe(Ge(n.type)),{class:"w-5 h-5"}))]),e("div",Rn,[e("p",Pn,u(n.message),1)]),e("button",{onClick:S=>De(n.id),class:"notification-close"},[a(o(te),{class:"w-4 h-4"})],8,Bn)],2))),128))])])):b("",!0)]}),_:1}))}},ia=Te(Ln,[["__scopeId","data-v-f68839ce"]]);export{ia as default};
