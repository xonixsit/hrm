import{x as M,f as v,g as j,o as r,h as p,k as b,a as e,n as u,c as o,l as c,i as g,t as l,F as f,r as h,d as V,w,u as i,v as L,b as N,S as R}from"./app-BcmrdZCd.js";import{A as P}from"./AuthenticatedLayout-Di_P6LQ7.js";import{P as D}from"./PageLayout-BEW72n6f.js";import"./useAuth-BW9ORYL6.js";import"./icons-C6-HuDz9.js";import"./UsersIcon-BQCrSt5t.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PageHeader-DC8hK7wg.js";import"./Icon-Cg6A2F5F.js";const H={class:"py-12"},U={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},I={class:"p-6 bg-white"},O={class:"flex items-center justify-between mb-4"},T={class:"flex items-center space-x-4"},$={class:"flex items-center space-x-2"},E={class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},G={key:0,"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},J={key:1,"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"},K={key:2,"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},Q={class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},W={key:0,"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},X={key:1,"fill-rule":"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"},Y={class:"text-sm text-gray-500"},Z={class:"flex items-center space-x-4 text-xs text-gray-500"},_={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},ee={class:"md:col-span-2 space-y-6"},te={class:"text-gray-700"},se={class:"bg-gray-50 rounded-lg p-4"},re={class:"text-gray-700 whitespace-pre-wrap"},oe={key:0},le={class:"space-y-2"},ae={class:"text-sm text-gray-700"},ie={class:"space-y-6"},de={class:"bg-gray-50 rounded-lg p-4"},ne={class:"space-y-2"},ue={class:"text-sm text-gray-900"},ce={class:"text-sm text-gray-900"},ge={class:"text-sm text-gray-900"},me={class:"text-sm text-gray-900"},pe={key:0},xe={class:"text-sm text-gray-900"},be={class:"text-sm text-gray-900"},ye={key:1},ve={class:"text-sm text-gray-900"},fe={key:2},he={class:"text-sm text-gray-900 whitespace-pre-wrap"},we={key:0,class:"bg-orange-50 rounded-lg p-4 mb-6"},Re=["value"],qe=["disabled"],ke={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},Se={class:"border-t border-gray-200 pt-6"},ze={class:"flex items-center justify-between"},De={__name:"Show",props:{supportRequest:Object,categories:Object,priorities:Object,statuses:Object,isAdmin:Boolean},setup(s){const m=s,d=M({status:m.supportRequest.status,admin_notes:m.supportRequest.admin_notes||""}),q=()=>{d.patch(route("support.update-status",m.supportRequest.id),{preserveScroll:!0,onSuccess:()=>{}})},k=v(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Support",href:route("support.index")},{label:`#${m.supportRequest.id}`,current:!0}]),S=v(()=>[{label:"Back to Requests",href:route("support.index"),variant:"secondary"},{label:"New Request",href:route("support.create"),variant:"primary"}]),z=a=>({open:"bg-teal-100 text-teal-800",in_progress:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"})[a]||"bg-gray-100 text-gray-800",A=a=>({low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",B=a=>({low:"bg-green-400",medium:"bg-yellow-400",high:"bg-orange-400",urgent:"bg-red-400"})[a]||"bg-gray-400",C=a=>({urgent:"border-l-4 border-l-red-400 bg-red-50/30",high:"border-l-4 border-l-orange-400 bg-orange-50/30",medium:"border-l-4 border-l-yellow-400 bg-yellow-50/30",low:"border-l-4 border-l-green-400 bg-green-50/30"})[a]||"",x=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(a,t)=>(r(),j(P,null,{default:p(()=>[b(D,{title:`Support Request #${s.supportRequest.id}`,subtitle:s.supportRequest.subject,breadcrumbs:k.value,actions:S.value},{default:p(()=>[e("div",H,[e("div",U,[e("div",F,[e("div",I,[e("div",{class:u(["border-b border-gray-200 pb-6 mb-6",C(s.supportRequest.priority)])},[e("div",O,[e("div",T,[e("div",$,[e("div",{class:u([B(s.supportRequest.priority),"w-4 h-4 rounded-full"])},null,2),e("span",{class:u([z(s.supportRequest.status),"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"])},[(r(),o("svg",E,[s.supportRequest.status==="open"?(r(),o("path",G)):s.supportRequest.status==="in_progress"?(r(),o("path",J)):s.supportRequest.status==="resolved"?(r(),o("path",K)):g("",!0)])),c(" "+l(s.statuses[s.supportRequest.status]),1)],2)]),e("span",{class:u([A(s.supportRequest.priority),"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"])},[(r(),o("svg",Q,[s.supportRequest.priority==="urgent"?(r(),o("path",W)):(r(),o("path",X))])),c(" "+l(s.priorities[s.supportRequest.priority])+" Priority ",1)],2)]),e("div",Y," Submitted "+l(x(s.supportRequest.created_at)),1)]),e("div",Z,[t[4]||(t[4]=e("div",{class:"flex items-center space-x-1"},[e("div",{class:"w-2 h-2 bg-teal-400 rounded-full"}),e("span",null,"Created")],-1)),t[5]||(t[5]=e("div",{class:"w-8 h-px bg-gray-300"},null,-1)),e("div",{class:u(["flex items-center space-x-1",{"text-yellow-600":s.supportRequest.status==="in_progress"||s.supportRequest.status==="resolved"}])},[e("div",{class:u(["w-2 h-2 rounded-full",s.supportRequest.status==="in_progress"||s.supportRequest.status==="resolved"?"bg-yellow-400":"bg-gray-300"])},null,2),t[2]||(t[2]=e("span",null,"In Progress",-1))],2),t[6]||(t[6]=e("div",{class:"w-8 h-px bg-gray-300"},null,-1)),e("div",{class:u(["flex items-center space-x-1",{"text-green-600":s.supportRequest.status==="resolved"}])},[e("div",{class:u(["w-2 h-2 rounded-full",s.supportRequest.status==="resolved"?"bg-green-400":"bg-gray-300"])},null,2),t[3]||(t[3]=e("span",null,"Resolved",-1))],2)])],2),e("div",_,[e("div",ee,[e("div",null,[t[7]||(t[7]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Subject",-1)),e("p",te,l(s.supportRequest.subject),1)]),e("div",null,[t[8]||(t[8]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Description",-1)),e("div",se,[e("p",re,l(s.supportRequest.description),1)])]),s.supportRequest.attachments&&s.supportRequest.attachments.length>0?(r(),o("div",oe,[t[10]||(t[10]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Attachments",-1)),e("div",le,[(r(!0),o(f,null,h(s.supportRequest.attachments,n=>(r(),o("div",{key:n.name,class:"flex items-center p-3 bg-gray-50 rounded-lg"},[t[9]||(t[9]=e("svg",{class:"h-5 w-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)),e("span",ae,l(n.name||"Attachment"),1)]))),128))])])):g("",!0)]),e("div",ie,[e("div",de,[t[19]||(t[19]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Request Information",-1)),e("dl",ne,[e("div",null,[t[11]||(t[11]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," Request ID",-1)),e("dd",ue,"#"+l(s.supportRequest.id),1)]),e("div",null,[t[12]||(t[12]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," Category",-1)),e("dd",ce,l(s.categories[s.supportRequest.category]),1)]),e("div",null,[t[13]||(t[13]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," Priority",-1)),e("dd",ge,l(s.priorities[s.supportRequest.priority]),1)]),e("div",null,[t[14]||(t[14]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," Status",-1)),e("dd",me,l(s.statuses[s.supportRequest.status]),1)]),s.isAdmin?(r(),o("div",pe,[t[15]||(t[15]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," Submitted By",-1)),e("dd",xe,l(s.supportRequest.user.name),1)])):g("",!0),e("div",null,[t[16]||(t[16]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," Submitted",-1)),e("dd",be,l(x(s.supportRequest.created_at)),1)]),s.supportRequest.resolved_at?(r(),o("div",ye,[t[17]||(t[17]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," Resolved",-1)),e("dd",ve,l(x(s.supportRequest.resolved_at)),1)])):g("",!0),s.isAdmin&&s.supportRequest.admin_notes?(r(),o("div",fe,[t[18]||(t[18]=e("dt",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," Admin Notes",-1)),e("dd",he,l(s.supportRequest.admin_notes),1)])):g("",!0)])]),s.isAdmin?(r(),o("div",we,[t[23]||(t[23]=e("h4",{class:"font-semibold text-orange-900 mb-3"},"Admin Actions",-1)),e("form",{onSubmit:V(q,["prevent"]),class:"space-y-4"},[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Update Status ",-1)),w(e("select",{"onUpdate:modelValue":t[0]||(t[0]=n=>i(d).status=n),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},[(r(!0),o(f,null,h(s.statuses,(n,y)=>(r(),o("option",{key:y,value:y},l(n),9,Re))),128))],512),[[L,i(d).status]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Admin Notes (Optional) ",-1)),w(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=n=>i(d).admin_notes=n),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",rows:"3",placeholder:"Add internal notes about this status change..."},null,512),[[N,i(d).admin_notes]])]),e("button",{type:"submit",disabled:i(d).processing,class:"w-full inline-flex justify-center items-center px-4 py-2 bg-orange-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-orange-700 disabled:opacity-50"},[i(d).processing?(r(),o("svg",ke,t[22]||(t[22]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):g("",!0),c(" "+l(i(d).processing?"Updating...":"Update Status"),1)],8,qe)],32)])):g("",!0),t[24]||(t[24]=e("div",{class:"bg-teal-50 rounded-lg p-4"},[e("h4",{class:"font-semibold text-teal-900 mb-3"},"Need Immediate Help?"),e("p",{class:"text-sm text-teal-700 mb-3"}," For urgent issues, you can also contact our support team directly. "),e("div",{class:"space-y-2 text-sm"},[e("div",{class:"flex items-center text-teal-700"},[e("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),c(" support@xonobics.com ")]),e("div",{class:"flex items-center text-teal-700"},[e("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),c(" Mon-Fri, 9 AM - 6 PM ")])])],-1))])]),e("div",Se,[e("div",ze,[b(i(R),{href:a.route("support.index"),class:"text-gray-600 hover:text-gray-800"},{default:p(()=>t[25]||(t[25]=[c(" â† Back to All Requests ")])),_:1,__:[25]},8,["href"]),b(i(R),{href:a.route("support.create"),class:"inline-flex items-center px-4 py-2 bg-teal-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-teal-700"},{default:p(()=>t[26]||(t[26]=[c(" Submit New Request ")])),_:1,__:[26]},8,["href"])])])])])])])]),_:1},8,["title","subtitle","breadcrumbs","actions"])]),_:1}))}};export{De as default};
