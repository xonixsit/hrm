import{f as m,c as n,o as i,a as t,g as P,n as b,s as D,t as l,Q as $,h as f,k as r,i as u,F as E,r as N,u as c,l as p,G as B}from"./app-COGF2LEr.js";import{_ as Q}from"./AuthenticatedLayout-CmvXLXS7.js";import{P as V}from"./PageLayout-DrU2fohu.js";import{r as C}from"./ChartBarIcon-DPoaIXJU.js";import{r as j}from"./UserGroupIcon-COlxczgT.js";import{w as F,G as w,m as G,S as I,T as M,n as R,b as z,j as U,r as L,a as H}from"./Icon-BJZCFSMt.js";import{C as J}from"./ContentCard-BPMFCvy_.js";import{r as K}from"./ArrowDownTrayIcon-CGHS7ml_.js";import"./useAuth-D5qRIDLt.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CgL0EO6O.js";import"./useAccessibility-D7edG6zj.js";import"./PageHeader-xrF9P6Ay.js";/* empty css                                                                   *//* empty css                                                                   *//* empty css                                                                    */const O={class:"bg-white overflow-hidden shadow-sm rounded-lg"},W={class:"p-6"},X={class:"flex items-center"},Y={class:"flex-shrink-0"},Z={class:"ml-4"},T={class:"text-sm font-medium text-neutral-500"},tt={class:"text-2xl font-semibold text-neutral-900"},v={__name:"SimpleInfoCard",props:{title:{type:String,required:!0},value:{type:[String,Number],required:!0},icon:{type:String,default:"chart-bar"},color:{type:String,default:"primary",validator:a=>["primary","success","info","warning","error"].includes(a)}},setup(a){const d=a,h={"clipboard-document-list":I,"check-circle":G,"calendar-days":w,"document-text":F,"user-group":j,"chart-bar":C},_=m(()=>h[d.icon]||C),y=m(()=>{const x={primary:"h-8 w-8 text-primary-500",success:"h-8 w-8 text-success-500",info:"h-8 w-8 text-info-500",warning:"h-8 w-8 text-warning-500",error:"h-8 w-8 text-error-500"};return x[d.color]||x.primary});return(x,k)=>(i(),n("div",O,[t("div",W,[t("div",X,[t("div",Y,[(i(),P(D(_.value),{class:b(y.value)},null,8,["class"]))]),t("div",Z,[t("p",T,l(a.title),1),t("p",tt,l(a.value),1)])])])]))}},et={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},st={class:"flex items-center space-x-3"},ot={class:"overflow-x-auto"},rt={class:"min-w-full divide-y divide-neutral-200"},it={class:"bg-white divide-y divide-neutral-200"},nt={class:"px-6 py-4"},at={class:"flex items-center"},ct={class:"flex-shrink-0 h-10 w-10"},lt={class:"h-10 w-10 rounded-lg bg-primary-100 flex items-center justify-center"},dt={class:"ml-4"},ut={class:"text-sm font-medium text-neutral-900"},mt={key:0,class:"text-sm text-neutral-500 max-w-xs truncate"},xt={class:"px-6 py-4"},pt={class:"text-sm text-neutral-900 font-medium"},ft={class:"flex flex-wrap gap-1 mt-1"},vt={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-success-100 text-success-800"},ht={key:1,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-info-100 text-info-800"},_t={class:"px-6 py-4"},yt={class:"space-y-1"},gt={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-warning-100 text-warning-800"},bt={key:1,class:"text-xs text-neutral-600 flex items-center"},wt={class:"px-6 py-4"},kt={class:"text-sm font-medium text-neutral-900"},$t={class:"px-6 py-4"},Ct=["onClick"],Lt={class:"px-6 py-4 text-right text-sm font-medium"},Pt={class:"flex items-center justify-end space-x-2"},St=["onClick"],qt=["onClick"],At=["onClick"],Dt={key:1,class:"text-neutral-400",title:"Cannot delete - has associated leave requests"},Et={key:0,class:"text-center py-12"},Nt={class:"mt-6"},Xt={__name:"Index",props:{leaveTypes:Array,canCreate:Boolean},setup(a){const d=a,h=m(()=>d.leaveTypes.filter(o=>o.is_active).length),_=m(()=>d.leaveTypes.reduce((o,e)=>o+e.quota,0)),y=m(()=>d.leaveTypes.reduce((o,e)=>o+e.leaves_count,0)),x=m(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Leave Policies",current:!0}]),k=m(()=>{const o=[];return d.canCreate&&o.push({id:"add-leave-type",label:"Add Leave Type",icon:"plus",variant:"primary",handler:()=>$.visit(route("leave-types.create"))}),o}),S=async o=>{try{if((await B.post(route("leave-types.toggle-status",o.id))).data.success){o.is_active=!o.is_active;const s=o.is_active?"activated":"deactivated";console.log(`Leave type ${s} successfully`)}}catch(e){console.error("Error toggling status:",e)}},q=o=>{confirm(`Are you sure you want to delete "${o.name}"? This action cannot be undone.`)&&$.delete(route("leave-types.destroy",o.id),{onSuccess:()=>{},onError:e=>{console.error("Delete failed:",e)}})},A=()=>{console.log("Export policies functionality")};return(o,e)=>(i(),P(Q,null,{default:f(()=>[r(V,{title:"Leave Policies",subtitle:"Manage leave types, quotas, and approval policies",breadcrumbs:x.value,actions:k.value},{default:f(()=>[t("div",et,[r(v,{title:"Total Leave Types",value:a.leaveTypes.length,icon:"clipboard-document-list",color:"primary"},null,8,["value"]),r(v,{title:"Active Policies",value:h.value,icon:"check-circle",color:"success"},null,8,["value"]),r(v,{title:"Total Quota Days",value:_.value,icon:"calendar-days",color:"info"},null,8,["value"]),r(v,{title:"Leave Requests",value:y.value,icon:"document-text",color:"warning"},null,8,["value"])]),r(J,{title:"Leave Policies",subtitle:"Manage and configure leave types"},{actions:f(()=>[t("div",st,[t("button",{onClick:A,class:"inline-flex items-center px-3 py-2 border border-neutral-300 shadow-sm text-sm leading-4 font-medium rounded-md text-neutral-700 bg-white hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[r(c(K),{class:"w-4 h-4 mr-2"}),e[1]||(e[1]=p(" Export "))])])]),default:f(()=>[t("div",ot,[t("table",rt,[e[4]||(e[4]=t("thead",{class:"bg-neutral-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider"}," Leave Type "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider"}," Quota & Settings "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider"}," Policies "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider"}," Usage "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider"}," Status "),t("th",{class:"relative px-6 py-3"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",it,[(i(!0),n(E,null,N(a.leaveTypes,s=>(i(),n("tr",{key:s.id,class:"hover:bg-neutral-50 transition-colors duration-150"},[t("td",nt,[t("div",at,[t("div",ct,[t("div",lt,[r(c(w),{class:"h-5 w-5 text-primary-600"})])]),t("div",dt,[t("div",ut,l(s.name),1),s.description?(i(),n("div",mt,l(s.description),1)):u("",!0)])])]),t("td",xt,[t("div",pt,l(s.quota)+" days/year ",1),t("div",ft,[s.carry_forward?(i(),n("span",vt," Carry Forward ")):u("",!0),s.max_consecutive_days?(i(),n("span",ht," Max "+l(s.max_consecutive_days)+"d ",1)):u("",!0)])]),t("td",_t,[t("div",yt,[s.requires_approval?(i(),n("div",gt,[r(c(M),{class:"w-3 h-3 mr-1"}),e[2]||(e[2]=p(" Requires Approval "))])):u("",!0),s.min_notice_days?(i(),n("div",bt,[r(c(R),{class:"w-3 h-3 mr-1"}),p(" "+l(s.min_notice_days)+" days notice ",1)])):u("",!0)])]),t("td",wt,[t("div",kt,l(s.leaves_count),1),e[3]||(e[3]=t("div",{class:"text-xs text-neutral-500"}," requests ",-1))]),t("td",$t,[t("button",{onClick:g=>S(s),class:b([{"bg-success-100 text-success-800 hover:bg-success-200":s.is_active,"bg-neutral-100 text-neutral-800 hover:bg-neutral-200":!s.is_active},"inline-flex items-center px-2.5 py-1.5 text-xs font-medium rounded-full transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"])},[t("div",{class:b([{"bg-success-400":s.is_active,"bg-neutral-400":!s.is_active},"w-1.5 h-1.5 rounded-full mr-2"])},null,2),p(" "+l(s.is_active?"Active":"Inactive"),1)],10,Ct)]),t("td",Lt,[t("div",Pt,[t("button",{onClick:g=>o.$inertia.visit(o.route("leave-types.show",s.id)),class:"text-primary-600 hover:text-primary-900 transition-colors duration-150",title:"View Details"},[r(c(z),{class:"w-4 h-4"})],8,St),t("button",{onClick:g=>o.$inertia.visit(o.route("leave-types.edit",s.id)),class:"text-info-600 hover:text-info-900 transition-colors duration-150",title:"Edit Policy"},[r(c(U),{class:"w-4 h-4"})],8,qt),s.leaves_count===0?(i(),n("button",{key:0,onClick:g=>q(s),class:"text-error-600 hover:text-error-900 transition-colors duration-150",title:"Delete Policy"},[r(c(L),{class:"w-4 h-4"})],8,At)):(i(),n("span",Dt,[r(c(L),{class:"w-4 h-4"})]))])])]))),128))])])]),a.leaveTypes.length===0?(i(),n("div",Et,[r(c(w),{class:"mx-auto h-12 w-12 text-neutral-400"}),e[6]||(e[6]=t("h3",{class:"mt-2 text-sm font-medium text-neutral-900"},"No leave policies",-1)),e[7]||(e[7]=t("p",{class:"mt-1 text-sm text-neutral-500"},"Get started by creating your first leave policy.",-1)),t("div",Nt,[a.canCreate?(i(),n("button",{key:0,onClick:e[0]||(e[0]=s=>o.$inertia.visit(o.route("leave-types.create"))),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[r(c(H),{class:"w-4 h-4 mr-2"}),e[5]||(e[5]=p(" Create Leave Policy "))])):u("",!0)])])):u("",!0)]),_:1})]),_:1},8,["breadcrumbs","actions"])]),_:1}))}};export{Xt as default};
