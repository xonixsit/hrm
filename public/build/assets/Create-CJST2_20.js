import{f as k,e as w,g as P,o as a,h as b,k as A,c as l,i as d,a as e,t as i,d as U,w as m,b as g,v as E,F as y,r as v,j as p,l as u,u as z,S as B,Q as N}from"./app-YVPNpsx-.js";import{A as j}from"./AuthenticatedLayout-BIvuoto7.js";import{P as F}from"./PageLayout-BPF9oOgq.js";import{c as $}from"./icons-D3i_oGIC.js";import"./useAuth-BwVYKsbh.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PageHeader-BRJHOmay.js";import"./Icon-CTL3B1Ea.js";import"./UsersIcon-eNPIn6Tn.js";const q={key:0,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-md"},L={class:"text-sm text-green-800"},Q={key:1,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md"},H={class:"text-sm text-red-800"},O={class:"bg-white rounded-lg shadow-sm border border-gray-200"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={key:0,class:"mt-1 text-sm text-red-600"},R={key:0,class:"mt-1 text-sm text-red-600"},G={key:0,class:"mt-1 text-sm text-red-600"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K={key:0,class:"mt-1 text-sm text-red-600"},X={key:0,class:"mt-1 text-sm text-red-600"},Y={class:"space-y-4"},Z={class:"flex items-start cursor-pointer"},ee=["value"],se={class:"ml-3 flex-1"},te={class:"flex items-center"},re={class:"text-sm font-medium text-gray-900"},ae={key:0,class:"ml-2 text-lg"},le={class:"text-sm text-gray-600 mt-1"},oe={class:"mt-2 text-xs text-gray-500"},ne={key:0,class:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md"},ie={class:"text-sm text-green-700"},de={key:0,class:"flex items-center mb-1"},me={key:1,class:"flex items-center mb-1"},ue={key:2,class:"flex items-center mb-1"},ce={key:3,class:"flex items-center mb-1"},fe={key:1,class:"mt-2 text-sm text-red-600"},pe={class:"max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3"},ge={class:"space-y-2"},be=["value"],ye={class:"ml-2 text-sm text-gray-700"},ve={class:"text-gray-500"},xe={key:0,class:"mt-1 text-sm text-red-600"},he={class:"space-y-2"},_e={class:"flex items-center"},ke={class:"flex items-center"},we={class:"flex items-center"},Ae={key:0,class:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md"},Ce={class:"text-sm text-red-700 space-y-1"},Se={class:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200"},Ve=["disabled"],Me={key:0},Te={key:1},$e={__name:"Create",props:{employees:Array,competencies:Array,assessmentTypes:Array,errors:Object},setup(o){const C=k(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Assessment Dashboard",href:route("assessment-dashboard")},{label:"Assessment Cycles",href:route("assessment-cycle-manager")},{label:"Create Cycle",href:null}]),S=k(()=>[{label:"Back to Cycles",href:route("assessment-cycle-manager"),icon:$,variant:"secondary"}]),r=w({name:"",description:"",start_date:"",end_date:"",status:"planned",assessment_types:[],competency_ids:[],notification_settings:{send_start_notifications:!0,send_reminder_notifications:!0,send_completion_notifications:!0}}),f=w(!1),V=()=>{if(!r.value.name){alert("Please enter a cycle name");return}if(!r.value.start_date){alert("Please select a start date");return}if(!r.value.end_date){alert("Please select an end date");return}if(r.value.assessment_types.length===0){alert("Please select at least one assessment type");return}if(r.value.competency_ids.length===0){alert("Please select at least one competency");return}f.value=!0,N.post(route("assessment-cycles.store"),r.value,{onSuccess:n=>{},onError:n=>{console.error("Assessment cycle creation failed:",n),f.value=!1},onFinish:()=>{f.value=!1}})},M=n=>({self:"Self Assessment",manager:"Manager Assessment",peer:"Peer Assessment",360:"360Â° Feedback"})[n]||n,x=n=>({self:"ðŸ‘¤",manager:"ðŸ‘”",peer:"ðŸ‘¥",360:"ðŸ”„"})[n]||"",T=n=>({self:"Employees evaluate their own competencies and performance",manager:"Direct managers assess their team members' competencies",peer:"Colleagues provide feedback on each other's competencies",360:"Comprehensive feedback from multiple perspectives including managers, peers, and subordinates"})[n]||"",D=n=>({self:"Employees being assessed",manager:"Managers and their direct reports",peer:"Selected peer reviewers",360:"All participants in the feedback circle"})[n]||"";return(n,s)=>(a(),P(j,null,{default:b(()=>[A(F,{title:"Create Assessment Cycle",subtitle:"Create a new assessment cycle to organize multiple assessments",breadcrumbs:C.value,actions:S.value},{default:b(()=>{var h,_;return[(h=n.$page.props.flash)!=null&&h.success?(a(),l("div",q,[e("p",L,i(n.$page.props.flash.success),1)])):d("",!0),(_=n.$page.props.flash)!=null&&_.error?(a(),l("div",Q,[e("p",H,i(n.$page.props.flash.error),1)])):d("",!0),e("div",O,[e("form",{onSubmit:U(V,["prevent"]),class:"p-6 space-y-6"},[e("div",W,[e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cycle Name *",-1)),m(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>r.value.name=t),type:"text",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500",placeholder:"e.g., Q1 2024 Performance Review"},null,512),[[g,r.value.name]]),o.errors.name?(a(),l("div",I,i(o.errors.name),1)):d("",!0)]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),m(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>r.value.status=t),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"},s[11]||(s[11]=[e("option",{value:"planned"},"Planned",-1),e("option",{value:"active"},"Active",-1)]),512),[[E,r.value.status]]),o.errors.status?(a(),l("div",R,i(o.errors.status),1)):d("",!0)])]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),m(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=t=>r.value.description=t),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500",placeholder:"Describe the purpose and scope of this assessment cycle..."},null,512),[[g,r.value.description]]),o.errors.description?(a(),l("div",G,i(o.errors.description),1)):d("",!0)]),e("div",J,[e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Start Date *",-1)),m(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>r.value.start_date=t),type:"date",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"},null,512),[[g,r.value.start_date]]),o.errors.start_date?(a(),l("div",K,i(o.errors.start_date),1)):d("",!0)]),e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"End Date *",-1)),m(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>r.value.end_date=t),type:"date",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"},null,512),[[g,r.value.end_date]]),o.errors.end_date?(a(),l("div",X,i(o.errors.end_date),1)):d("",!0)])]),e("div",null,[s[22]||(s[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Assessment Types *",-1)),s[23]||(s[23]=e("div",{class:"mb-4 p-4 bg-teal-50 border border-teal-200 rounded-md"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-teal-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])]),e("div",{class:"ml-3"},[e("h4",{class:"text-sm font-medium text-teal-800"},"Why Multiple Assessment Types?"),e("p",{class:"text-sm text-teal-700 mt-1"}," Select multiple types to get comprehensive feedback from different perspectives. Each type creates separate assessments with targeted notifications. ")])])],-1)),e("div",Y,[(a(!0),l(y,null,v(o.assessmentTypes,t=>(a(),l("div",{key:t,class:"border border-gray-200 rounded-lg p-4 hover:border-teal-300 transition-colors"},[e("label",Z,[m(e("input",{"onUpdate:modelValue":s[5]||(s[5]=c=>r.value.assessment_types=c),value:t,type:"checkbox",class:"mt-1 rounded border-gray-300 text-teal-600 shadow-sm focus:border-teal-500 focus:ring-teal-500"},null,8,ee),[[p,r.value.assessment_types]]),e("div",se,[e("div",te,[e("span",re,i(M(t)),1),x(t)?(a(),l("span",ae,i(x(t)),1)):d("",!0)]),e("p",le,i(T(t)),1),e("div",oe,[s[16]||(s[16]=e("strong",null,"Who gets notified:",-1)),u(" "+i(D(t)),1)])])])]))),128))]),r.value.assessment_types.length>0?(a(),l("div",ne,[s[21]||(s[21]=e("h4",{class:"text-sm font-medium text-green-800 mb-2"},"Selected Assessment Flow:",-1)),e("div",ie,[r.value.assessment_types.includes("self")?(a(),l("div",de,s[17]||(s[17]=[e("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1),u(" Employees will assess themselves ")]))):d("",!0),r.value.assessment_types.includes("manager")?(a(),l("div",me,s[18]||(s[18]=[e("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1),u(" Managers will assess their direct reports ")]))):d("",!0),r.value.assessment_types.includes("peer")?(a(),l("div",ue,s[19]||(s[19]=[e("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1),u(" Colleagues will assess each other ")]))):d("",!0),r.value.assessment_types.includes("360")?(a(),l("div",ce,s[20]||(s[20]=[e("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1),u(" Multiple people will provide 360Â° feedback ")]))):d("",!0)])])):d("",!0),o.errors.assessment_types?(a(),l("div",fe,i(o.errors.assessment_types),1)):d("",!0)]),s[31]||(s[31]=e("div",{class:"bg-teal-50 border border-teal-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-teal-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])]),e("div",{class:"ml-3"},[e("h4",{class:"text-sm font-medium text-teal-800"},"Assessment Cycle Scope"),e("p",{class:"text-sm text-teal-700 mt-1"}," This cycle defines the time period, competencies, and assessment types. Employee selection happens when creating individual assessments within this cycle. ")])])],-1)),e("div",null,[s[24]||(s[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Competencies to Assess *",-1)),e("div",pe,[e("div",ge,[(a(!0),l(y,null,v(o.competencies,t=>(a(),l("label",{key:t.id,class:"flex items-center"},[m(e("input",{"onUpdate:modelValue":s[6]||(s[6]=c=>r.value.competency_ids=c),value:t.id,type:"checkbox",class:"rounded border-gray-300 text-teal-600 shadow-sm focus:border-teal-500 focus:ring-teal-500"},null,8,be),[[p,r.value.competency_ids]]),e("span",ye,[u(i(t.name)+" ",1),e("span",ve,"("+i(t.category)+")",1)])]))),128))])]),o.errors.competency_ids?(a(),l("div",xe,i(o.errors.competency_ids),1)):d("",!0)]),e("div",null,[s[28]||(s[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Notification Settings",-1)),e("div",he,[e("label",_e,[m(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>r.value.notification_settings.send_start_notifications=t),type:"checkbox",class:"rounded border-gray-300 text-teal-600 shadow-sm focus:border-teal-500 focus:ring-teal-500"},null,512),[[p,r.value.notification_settings.send_start_notifications]]),s[25]||(s[25]=e("span",{class:"ml-2 text-sm text-gray-700"},"Send notifications when cycle starts",-1))]),e("label",ke,[m(e("input",{"onUpdate:modelValue":s[8]||(s[8]=t=>r.value.notification_settings.send_reminder_notifications=t),type:"checkbox",class:"rounded border-gray-300 text-teal-600 shadow-sm focus:border-teal-500 focus:ring-teal-500"},null,512),[[p,r.value.notification_settings.send_reminder_notifications]]),s[26]||(s[26]=e("span",{class:"ml-2 text-sm text-gray-700"},"Send reminder notifications",-1))]),e("label",we,[m(e("input",{"onUpdate:modelValue":s[9]||(s[9]=t=>r.value.notification_settings.send_completion_notifications=t),type:"checkbox",class:"rounded border-gray-300 text-teal-600 shadow-sm focus:border-teal-500 focus:ring-teal-500"},null,512),[[p,r.value.notification_settings.send_completion_notifications]]),s[27]||(s[27]=e("span",{class:"ml-2 text-sm text-gray-700"},"Send notifications when cycle completes",-1))])])]),Object.keys(o.errors).length>0?(a(),l("div",Ae,[s[29]||(s[29]=e("h4",{class:"text-sm font-medium text-red-800 mb-2"},"Validation Errors:",-1)),e("ul",Ce,[(a(!0),l(y,null,v(o.errors,(t,c)=>(a(),l("li",{key:c},[e("strong",null,i(c)+":",1),u(" "+i(Array.isArray(t)?t.join(", "):t),1)]))),128))])])):d("",!0),e("div",Se,[A(z(B),{href:n.route("assessment-cycle-manager"),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500"},{default:b(()=>s[30]||(s[30]=[u(" Cancel ")])),_:1,__:[30]},8,["href"]),e("button",{type:"submit",disabled:f.value,class:"inline-flex items-center px-4 py-2 bg-teal-500 text-white text-sm font-medium rounded-lg hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors"},[f.value?(a(),l("span",Me,"Creating...")):(a(),l("span",Te,"Create Assessment Cycle"))],8,Ve)])],32)])]}),_:1},8,["breadcrumbs","actions"])]),_:1}))}};export{$e as default};
