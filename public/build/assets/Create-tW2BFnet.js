import{x as S,g as j,o as i,h as c,a as e,c as l,i as a,t as n,d as C,w as p,n as m,u as s,F as b,r as g,v as x,b as h,k as v,S as w,l as f}from"./app-P3ai_FPP.js";import{A as M}from"./AuthenticatedLayout-57wb5fHe.js";import"./useAuth-DqgVkOBX.js";import"./icons-CxJp_YTO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-Ca6U3cUX.js";const A={class:"flex items-center justify-between"},B={class:"py-12"},D={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},V={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},W={class:"p-6 bg-white border-b border-gray-200"},z={key:0,class:"mb-6 bg-green-50 border border-green-200 rounded-md p-4"},q={class:"flex"},L={class:"ml-3"},N={class:"text-sm font-medium text-green-800"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},E=["value"],Y={key:0,class:"mt-1 text-sm text-red-600"},F=["value"],H={key:0,class:"mt-1 text-sm text-red-600"},R={key:0,class:"mt-1 text-sm text-red-600"},T={key:0,class:"mt-1 text-sm text-red-600"},I={class:"mt-1 text-sm text-gray-500"},O={key:0,class:"bg-blue-50 border border-blue-200 rounded-md p-4"},P={class:"text-sm font-medium text-blue-800 mb-2"},$={class:"text-sm text-blue-700 space-y-1"},G={class:"flex items-center justify-between pt-6 border-t border-gray-200"},J=["disabled"],K={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},se={__name:"Create",props:{categories:Object,priorities:Object},setup(y){const r=S({category:"",subject:"",description:"",priority:"medium"}),k=()=>{r.post(route("support.store"),{onSuccess:()=>{r.reset()}})},_=d=>({technical:["Browser and version you're using","Steps to reproduce the issue","Error messages you're seeing","Screenshots if applicable"],account:["Your username or employee ID","When the issue started","What you were trying to do","Any error messages"],attendance:["Date and time of the issue","What action you were trying to perform","Any error messages","Your current attendance status"],leave:["Leave type and dates","Current status of your request","Manager or approver involved","Any error messages"],assessment:["Assessment name or ID","What step you're stuck on","Any error messages","Deadline information"],reports:["Which report you're trying to access","Date range or filters applied","Expected vs actual results","Your role and permissions"],permissions:["What you're trying to access","Your current role","Expected permissions","Manager or admin contact"],general:["Clear description of your question","What you've already tried","Any relevant context","Urgency level"],other:["Detailed description of your issue","Any relevant context","What you've already tried","How this affects your work"]})[d]||[];return(d,t)=>(i(),j(M,null,{header:c(()=>[e("div",A,[t[5]||(t[5]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Submit Support Request ",-1)),v(s(w),{href:d.route("support.index"),class:"text-blue-600 hover:text-blue-800"},{default:c(()=>t[4]||(t[4]=[f(" View My Requests ")])),_:1,__:[4]},8,["href"])])]),default:c(()=>[e("div",B,[e("div",D,[e("div",V,[e("div",W,[t[15]||(t[15]=e("div",{class:"mb-8"},[e("div",{class:"flex items-center mb-4"},[e("div",{class:"bg-blue-100 p-3 rounded-full mr-4"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})])]),e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-900"},"Need Help?"),e("p",{class:"text-gray-600"},"We're here to assist you with any questions or issues you may have.")])])],-1)),d.$page.props.flash.success?(i(),l("div",z,[e("div",q,[t[6]||(t[6]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),e("div",L,[e("p",N,n(d.$page.props.flash.success),1)])])])):a("",!0),e("form",{onSubmit:C(k,["prevent"]),class:"space-y-6"},[e("div",U,[e("div",null,[t[8]||(t[8]=e("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-2"}," Category * ",-1)),p(e("select",{id:"category","onUpdate:modelValue":t[0]||(t[0]=o=>s(r).category=o),class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",{"border-red-500":s(r).errors.category}])},[t[7]||(t[7]=e("option",{value:""},"Select a category",-1)),(i(!0),l(b,null,g(y.categories,(o,u)=>(i(),l("option",{key:u,value:u},n(o),9,E))),128))],2),[[x,s(r).category]]),s(r).errors.category?(i(),l("p",Y,n(s(r).errors.category),1)):a("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{for:"priority",class:"block text-sm font-medium text-gray-700 mb-2"}," Priority * ",-1)),p(e("select",{id:"priority","onUpdate:modelValue":t[1]||(t[1]=o=>s(r).priority=o),class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",{"border-red-500":s(r).errors.priority}])},[t[9]||(t[9]=e("option",{value:""},"Select priority",-1)),(i(!0),l(b,null,g(y.priorities,(o,u)=>(i(),l("option",{key:u,value:u},n(o),9,F))),128))],2),[[x,s(r).priority]]),s(r).errors.priority?(i(),l("p",H,n(s(r).errors.priority),1)):a("",!0)])]),e("div",null,[t[11]||(t[11]=e("label",{for:"subject",class:"block text-sm font-medium text-gray-700 mb-2"}," Subject * ",-1)),p(e("input",{id:"subject",type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>s(r).subject=o),placeholder:"Brief description of your issue",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",{"border-red-500":s(r).errors.subject}])},null,2),[[h,s(r).subject]]),s(r).errors.subject?(i(),l("p",R,n(s(r).errors.subject),1)):a("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Description * ",-1)),p(e("textarea",{id:"description","onUpdate:modelValue":t[3]||(t[3]=o=>s(r).description=o),rows:"6",placeholder:"Please provide detailed information about your issue, including steps to reproduce if applicable...",class:m(["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",{"border-red-500":s(r).errors.description}])},null,2),[[h,s(r).description]]),s(r).errors.description?(i(),l("p",T,n(s(r).errors.description),1)):a("",!0),e("p",I,n(s(r).description.length)+"/5000 characters ",1)]),s(r).category?(i(),l("div",O,[e("h4",P,n(y.categories[s(r).category])+" - What to include: ",1),e("ul",$,[(i(!0),l(b,null,g(_(s(r).category),o=>(i(),l("li",{key:o}," • "+n(o),1))),128))])])):a("",!0),e("div",G,[v(s(w),{href:d.route("dashboard"),class:"text-gray-600 hover:text-gray-800"},{default:c(()=>t[13]||(t[13]=[f(" ← Back to Dashboard ")])),_:1,__:[13]},8,["href"]),e("button",{type:"submit",disabled:s(r).processing,class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[s(r).processing?(i(),l("svg",K,t[14]||(t[14]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):a("",!0),f(" "+n(s(r).processing?"Submitting...":"Submit Request"),1)],8,J)])],32)])])])])]),_:1}))}};export{se as default};
