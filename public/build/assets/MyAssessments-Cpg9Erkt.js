import{f as q,e as Z,g as C,o as r,h,k as i,a as e,u as d,t as n,w as S,c as a,F as f,r as g,v as $,i as v,S as k,l as _,n as j,Q as ee}from"./app-1-AN68Xa.js";import{_ as se}from"./AuthenticatedLayout-BQr-iHlk.js";import{P as te}from"./PageLayout-D623d9-5.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as re}from"./ChartBarIcon-daVL81aA.js";import{n as ne,m as le,q as ae,l as de,b as ie,j as ce}from"./Icon-PzjibqCn.js";import{r as me}from"./ClipboardDocumentCheckIcon-B_xGY-h6.js";import{r as ue}from"./TagIcon-pfxbM_6a.js";import"./useAuth-Bkf0WoFc.js";import"./ApplicationLogo-C0QOxV_1.js";import"./useAccessibility-BuHHyqcl.js";import"./PageHeader-g0CNDvyU.js";/* empty css                                                                   *//* empty css                                                                   */const fe={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},ge={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ye={class:"flex items-center"},be={class:"flex-shrink-0"},xe={class:"ml-4"},pe={class:"text-2xl font-bold text-gray-900"},he={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ve={class:"flex items-center"},_e={class:"flex-shrink-0"},we={class:"ml-4"},ke={class:"text-2xl font-bold text-gray-900"},Ae={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Ce={class:"flex items-center"},Se={class:"flex-shrink-0"},$e={class:"ml-4"},je={class:"text-2xl font-bold text-gray-900"},Ee={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},Me={class:"p-6"},Ue={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},De=["value"],Re=["value"],Ve=["value"],Fe={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Le={class:"px-6 py-4 border-b border-gray-200"},Oe={class:"text-lg font-medium text-gray-900"},Be={key:0,class:"p-12 text-center"},Ne={key:1,class:"divide-y divide-gray-200"},Te={class:"flex items-center justify-between"},Ie={class:"flex-1"},Pe={class:"flex items-center space-x-3 mb-2"},He={class:"flex items-center"},Qe={class:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center mr-3"},qe={class:"text-xs font-medium text-blue-600"},ze={class:"text-lg font-medium text-gray-900"},Ye={class:"flex items-center space-x-6 text-sm text-gray-600"},Ge={class:"flex items-center"},Je={key:0,class:"flex items-center"},Ke={key:0,class:"mt-3 flex items-center"},We={class:"flex items-center"},Xe={class:"flex"},Ze={class:"ml-2 text-sm font-medium text-gray-900"},es={class:"ml-2 text-sm text-gray-500"},ss={key:1,class:"mt-3"},ts={class:"text-sm text-gray-700 line-clamp-2"},os={class:"flex items-center space-x-3 ml-6"},rs={key:2,class:"px-6 py-3 border-t border-gray-200"},ns={class:"flex items-center justify-between"},ls={class:"text-sm text-gray-700"},as={class:"flex space-x-1"},ds={__name:"MyAssessments",props:{assessments:Object,stats:Object,employees:Array,assessmentCycles:Array,statusOptions:Array,filters:Object},setup(l){var M,U,D,R,V,F,L,O;const c=l;console.log("MyAssessments props:",{assessments:c.assessments,stats:c.stats,assessmentsData:(M=c.assessments)==null?void 0:M.data,assessmentsTotal:(U=c.assessments)==null?void 0:U.total,assessmentsCount:(R=(D=c.assessments)==null?void 0:D.data)==null?void 0:R.length,filters:c.filters}),(V=c.assessments)!=null&&V.data?(console.log("Individual assessments:"),c.assessments.data.forEach((o,s)=>{var u,y,b;console.log(`Assessment ${s+1}:`,{id:o.id,employee:(y=(u=o.employee)==null?void 0:u.user)==null?void 0:y.name,competency:(b=o.competency)==null?void 0:b.name,type:o.assessment_type,status:o.status})})):console.log("No assessments data found");const z=q(()=>[{label:"Dashboard",href:typeof route<"u"?route("dashboard"):"/dashboard"},{label:"My Assessments",href:null}]),Y=q(()=>[{label:"All Assessments",href:typeof route<"u"?route("competency-assessments.index"):"/competency-assessments",variant:"secondary"}]),m=Z({employee_id:((F=c.filters)==null?void 0:F.employee_id)||"",status:((L=c.filters)==null?void 0:L.status)||"",assessment_cycle_id:((O=c.filters)==null?void 0:O.assessment_cycle_id)||""}),w=()=>{try{if(typeof route>"u"){console.error("Route function is not available");return}const o=route("competency-assessments.my-assessments");if(!o){console.error("Route URL could not be generated");return}ee.get(o,m.value,{preserveState:!0,preserveScroll:!0}).catch(s=>{console.error("Error applying filters:",s)})}catch(o){console.error("Error in applyFilters:",o)}},G=()=>{m.value={employee_id:"",status:"",assessment_cycle_id:""},w()},J=o=>o.split(" ").map(s=>s.charAt(0)).join("").toUpperCase().substring(0,2),E=o=>({draft:"Draft",submitted:"Submitted",approved:"Approved",rejected:"Rejected"})[o]||o,K=o=>({draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",W=o=>({1:"Needs Improvement",2:"Below Expectations",3:"Meets Expectations",4:"Exceeds Expectations",5:"Outstanding"})[o]||"",X=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),A=(o,s=null)=>{try{return typeof route>"u"?(console.warn(`Route function not available for: ${o}`),"#"):route(o,s)}catch(u){return console.error(`Error generating route ${o}:`,u),"#"}};return(o,s)=>(r(),C(se,null,{default:h(()=>[i(te,{title:"My Assessments",subtitle:"Assessments assigned to me for completion",breadcrumbs:z.value,actions:Y.value},{default:h(()=>{var u,y,b,B,N,T;return[e("div",fe,[e("div",ge,[e("div",ye,[e("div",be,[i(d(re),{class:"h-8 w-8 text-blue-600"})]),e("div",xe,[s[3]||(s[3]=e("p",{class:"text-sm font-medium text-gray-500"},"Total Assigned",-1)),e("p",pe,n(((u=l.stats)==null?void 0:u.total)||0),1)])])]),e("div",he,[e("div",ve,[e("div",_e,[i(d(ne),{class:"h-8 w-8 text-yellow-600"})]),e("div",we,[s[4]||(s[4]=e("p",{class:"text-sm font-medium text-gray-500"},"Pending",-1)),e("p",ke,n(((y=l.stats)==null?void 0:y.pending)||0),1)])])]),e("div",Ae,[e("div",Ce,[e("div",Se,[i(d(le),{class:"h-8 w-8 text-green-600"})]),e("div",$e,[s[5]||(s[5]=e("p",{class:"text-sm font-medium text-gray-500"},"Completed",-1)),e("p",je,n(((b=l.stats)==null?void 0:b.completed)||0),1)])])])]),e("div",Ee,[e("div",Me,[e("div",Ue,[e("div",null,[s[7]||(s[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Employee",-1)),S(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>m.value.employee_id=t),onChange:w,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[6]||(s[6]=e("option",{value:""},"All Employees",-1)),(r(!0),a(f,null,g(l.employees,t=>{var x;return r(),a("option",{key:t.id,value:t.id},n(((x=t.user)==null?void 0:x.name)||"Unknown"),9,De)}),128))],544),[[$,m.value.employee_id]])]),e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),S(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>m.value.status=t),onChange:w,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[8]||(s[8]=e("option",{value:""},"All Statuses",-1)),(r(!0),a(f,null,g(l.statusOptions,t=>(r(),a("option",{key:t,value:t},n(E(t)),9,Re))),128))],544),[[$,m.value.status]])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Assessment Cycle",-1)),S(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>m.value.assessment_cycle_id=t),onChange:w,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[10]||(s[10]=e("option",{value:""},"All Cycles",-1)),(r(!0),a(f,null,g(l.assessmentCycles,t=>(r(),a("option",{key:t.id,value:t.id},n(t.name),9,Ve))),128))],544),[[$,m.value.assessment_cycle_id]])]),e("div",{class:"flex items-end"},[e("button",{onClick:G,class:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Clear Filters ")])])])]),e("div",Fe,[e("div",Le,[e("h3",Oe," Assessments ("+n(((B=l.assessments)==null?void 0:B.total)||0)+") ",1)]),!((N=l.assessments)!=null&&N.data)||l.assessments.data.length===0?(r(),a("div",Be,[i(d(me),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s[12]||(s[12]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No Assessments Found",-1)),s[13]||(s[13]=e("p",{class:"text-gray-500"},"You don't have any assessments assigned to you yet.",-1))])):(r(),a("div",Ne,[(r(!0),a(f,null,g(((T=l.assessments)==null?void 0:T.data)||[],t=>{var x,I,P,H;return r(),a("div",{key:(t==null?void 0:t.id)||Math.random(),class:"p-6 hover:bg-gray-50 transition-colors duration-200"},[e("div",Te,[e("div",Ie,[e("div",Pe,[e("div",He,[e("div",Qe,[e("span",qe,n(J(((I=(x=t.employee)==null?void 0:x.user)==null?void 0:I.name)||"Unknown")),1)]),e("div",null,[i(d(k),{href:A("competency-assessments.by-employee",(P=t.employee)==null?void 0:P.id),class:"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline"},{default:h(()=>{var p,Q;return[_(n(((Q=(p=t.employee)==null?void 0:p.user)==null?void 0:Q.name)||"Unknown"),1)]}),_:2},1032,["href"])])]),s[14]||(s[14]=e("span",{class:"text-gray-300"},"â€¢",-1)),e("h4",ze,n((H=t.competency)==null?void 0:H.name),1),e("span",{class:j([K(t.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},n(E(t.status)),3)]),e("div",Ye,[e("div",Ge,[i(d(ae),{class:"w-4 h-4 mr-1"}),_(" "+n(X(t.created_at)),1)]),t.assessment_cycle?(r(),a("div",Je,[i(d(ue),{class:"w-4 h-4 mr-1"}),_(" "+n(t.assessment_cycle.name),1)])):v("",!0)]),t.rating?(r(),a("div",Ke,[s[15]||(s[15]=e("span",{class:"text-sm font-medium text-gray-700 mr-2"},"Rating:",-1)),e("div",We,[e("div",Xe,[(r(),a(f,null,g(5,p=>i(d(de),{key:p,class:j([p<=t.rating?"text-yellow-400":"text-gray-300","h-4 w-4"])},null,8,["class"])),64))]),e("span",Ze,n(t.rating)+"/5",1),e("span",es,"("+n(W(t.rating))+")",1)])])):v("",!0),t.comments?(r(),a("div",ss,[e("p",ts,n(t.comments),1)])):v("",!0)]),e("div",os,[i(d(k),{href:A("competency-assessments.show",t.id),class:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:h(()=>[i(d(ie),{class:"w-4 h-4 mr-2"}),s[16]||(s[16]=_(" View "))]),_:2,__:[16]},1032,["href"]),t.status==="draft"?(r(),C(d(k),{key:0,href:A("competency-assessments.evaluate",t.id),class:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:h(()=>[i(d(ce),{class:"w-4 h-4 mr-2"}),s[17]||(s[17]=_(" Complete "))]),_:2,__:[17]},1032,["href"])):v("",!0)])])])}),128))])),l.assessments.links?(r(),a("div",rs,[e("div",ns,[e("div",ls," Showing "+n(l.assessments.from)+" to "+n(l.assessments.to)+" of "+n(l.assessments.total)+" results ",1),e("div",as,[(r(!0),a(f,null,g(l.assessments.links,t=>(r(),C(d(k),{key:t.label,href:t.url,class:j(["px-3 py-2 text-sm font-medium rounded-md",t.active?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))])])])):v("",!0)])]}),_:1},8,["breadcrumbs","actions"])]),_:1}))}},ks=oe(ds,[["__scopeId","data-v-a78b679d"]]);export{ks as default};
