import{e as f,f as y,z as N,g as O,o as c,h as C,k as W,a as e,c as u,i as R,F as S,r as T,n as i,t as o,l as I,w as P,b as L,Q}from"./app-BFbO3SFx.js";import{_ as z}from"./AuthenticatedLayout-D2u7cHcP.js";import{P as q}from"./PageLayout-Bx6J5L4w.js";import"./useAuth-xDeXaepa.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B1xHSofq.js";import"./Icon-Dk6CAiCS.js";import"./useAccessibility-BjAqAMeL.js";import"./PageHeader-Bl6d6-3X.js";/* empty css                                                                   *//* empty css                                                                   */const G={class:"space-y-6"},H={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6"},J={class:"space-y-3"},K={class:"flex flex-wrap items-center gap-2"},X=["onClick"],Y={class:"group"},Z={class:"mt-3 flex flex-wrap items-center gap-3 p-4 bg-gray-50 rounded-lg"},ee={class:"flex items-center gap-2"},te={class:"flex items-center gap-2"},se={class:"border-t border-gray-200 pt-6 space-y-3"},re={class:"grid grid-cols-1 sm:grid-cols-3 gap-3"},oe={key:0,class:"absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 text-xs px-2 py-1 rounded-full font-bold"},ae={key:0,class:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg shadow-sm border border-yellow-200 p-8"},le={class:"flex items-end justify-center gap-8"},ne={class:"text-center"},de={class:"bg-gray-200 rounded-lg p-6 mb-4 relative"},ie={class:"font-semibold text-gray-900"},ce={class:"text-sm text-gray-600"},ue={class:"text-center"},pe={class:"bg-gradient-to-br from-yellow-300 to-yellow-400 rounded-lg p-8 mb-4 relative transform scale-110"},ge={class:"font-bold text-gray-900 text-lg"},xe={class:"text-gray-700 font-semibold"},me={class:"text-center"},be={class:"bg-orange-200 rounded-lg p-6 mb-4 relative"},fe={class:"font-semibold text-gray-900"},ye={class:"text-sm text-gray-600"},ve={class:"bg-white rounded-lg shadow-sm border border-gray-200"},he={class:"px-6 py-4 border-b border-gray-200"},we={class:"text-sm text-gray-600"},_e={class:"overflow-hidden"},ke={class:"min-w-full divide-y divide-gray-200"},Ce={class:"bg-white divide-y divide-gray-200"},Re={class:"px-6 py-4 whitespace-nowrap"},Se={class:"flex items-center"},Te={class:"px-6 py-4 whitespace-nowrap"},Pe={class:"flex items-center"},Le={class:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-sm font-medium text-gray-600 mr-3"},$e={class:"text-sm font-medium text-gray-900"},De={class:"text-sm text-gray-500"},Ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Be={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},qe={__name:"Leaderboard",props:{employees:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})}},setup($){const x=$,a=f({date_from:x.filters.date_from||"",date_to:x.filters.date_to||""}),l=f("score"),p=f(null),D=y(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Work Reports",href:route("work-reports.index")},{label:"Leaderboard",href:route("work-reports.leaderboard"),current:!0}]),E=[{label:"Back to Reports",href:"/work-reports",variant:"secondary"},{label:"Export Rankings",action:()=>M(),variant:"primary"}],v=[{key:"recent",label:"Recent",icon:"âš¡",days:7},{key:"month",label:"This Month",icon:"ðŸ“…",days:30}],h=y(()=>{let s=[...x.employees];switch(l.value){case"calls":s.sort((t,n)=>n.total_calls-t.total_calls);break;case"success":s.sort((t,n)=>n.success_rate-t.success_rate);break;case"score":default:s.sort((t,n)=>n.performance_score-t.performance_score);break}return s}),d=y(()=>h.value.slice(0,3)),m=s=>{if(!s)return"";switch(l.value){case"calls":return`${s.total_calls} calls`;case"success":return`${s.success_rate}% success`;case"score":default:return`${s.performance_score} points`}},V=()=>{switch(l.value){case"calls":return"Total Calls";case"success":return"Success Rate";case"score":default:return"Performance Score"}},B=s=>s===1?"ðŸ¥‡":s===2?"ðŸ¥ˆ":s===3?"ðŸ¥‰":`#${s}`,j=s=>s===1?"bg-yellow-50 border-l-4 border-yellow-400":s===2?"bg-gray-50 border-l-4 border-gray-400":s===3?"bg-orange-50 border-l-4 border-orange-400":"hover:bg-gray-50",A=s=>s<=3?"text-2xl":"text-gray-600",w=s=>{p.value=s.key;const t=new Date,n=new Date(t.getTime()-s.days*24*60*60*1e3);a.value.date_from=n.toISOString().split("T")[0],a.value.date_to=t.toISOString().split("T")[0],b()},F=()=>{p.value=null,b()},U=()=>{p.value=null,b()},b=()=>{try{Q.get("/work-reports/leaderboard",a.value,{preserveState:!0,preserveScroll:!0,onError:s=>{console.error("Leaderboard filter error:",s)},onException:s=>{console.error("Leaderboard exception:",s)}})}catch(s){console.error("Router navigation error:",s);const t=new URLSearchParams(a.value);window.location.href=`/work-reports/leaderboard?${t.toString()}`}},M=()=>{try{const s=new URLSearchParams({...a.value,type:l.value,export:"leaderboard"});window.open(`/work-reports/export?${s}`,"_blank")}catch(s){console.error("Export error:",s),alert("Export failed. Please try again.")}};return N(()=>{(!a.value.date_from||!a.value.date_to)&&w(v[1])}),(s,t)=>(c(),O(z,null,{default:C(()=>[W(q,{title:"ðŸ† Performance Leaderboard",subtitle:"See who's leading the pack in performance metrics",breadcrumbs:D.value,actions:E},{default:C(()=>{var n,_,k;return[e("div",G,[e("div",H,[e("div",J,[t[8]||(t[8]=e("h3",{class:"text-sm font-semibold text-gray-900 flex items-center gap-2"}," ðŸ“… Choose Time Period ",-1)),e("div",K,[(c(),u(S,null,T(v,r=>e("button",{key:r.key,onClick:g=>w(r),class:i(["flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 border",p.value===r.key?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-white text-gray-700 border-gray-300 hover:border-blue-300 hover:bg-blue-50"])},[e("span",null,o(r.icon),1),e("span",null,o(r.label),1)],10,X)),64))]),e("details",Y,[t[7]||(t[7]=e("summary",{class:"cursor-pointer text-sm text-gray-600 hover:text-gray-900 flex items-center gap-2"},[e("span",{class:"group-open:rotate-90 transition-transform"},"â–¶"),I(" Custom date range ")],-1)),e("div",Z,[e("div",ee,[t[5]||(t[5]=e("label",{class:"text-sm font-medium text-gray-700"},"From:",-1)),P(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>a.value.date_from=r),type:"date",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:F},null,544),[[L,a.value.date_from]])]),e("div",te,[t[6]||(t[6]=e("label",{class:"text-sm font-medium text-gray-700"},"To:",-1)),P(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>a.value.date_to=r),type:"date",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:U},null,544),[[L,a.value.date_to]])])])])]),e("div",se,[t[13]||(t[13]=e("h3",{class:"text-sm font-semibold text-gray-900 flex items-center gap-2"}," ðŸ† What to Rank By ",-1)),e("div",re,[e("button",{onClick:t[2]||(t[2]=r=>l.value="score"),class:i([l.value==="score"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-500 shadow-lg":"bg-white text-gray-700 border-gray-300 hover:border-blue-300 hover:bg-blue-50","relative p-4 rounded-lg border-2 transition-all duration-200 text-left group"])},[t[9]||(t[9]=e("div",{class:"flex items-center gap-3 mb-2"},[e("span",{class:"text-2xl"},"ðŸ†"),e("div",null,[e("div",{class:"font-semibold"},"Overall Performance"),e("div",{class:"text-xs opacity-75"},"Recommended")])],-1)),t[10]||(t[10]=e("p",{class:"text-xs opacity-90"}," Balanced score combining activity, quality, and consistency ",-1)),l.value==="score"?(c(),u("div",oe," â˜… Active ")):R("",!0)],2),e("button",{onClick:t[3]||(t[3]=r=>l.value="calls"),class:i([l.value==="calls"?"bg-gradient-to-r from-green-500 to-green-600 text-white border-green-500 shadow-lg":"bg-white text-gray-700 border-gray-300 hover:border-green-300 hover:bg-green-50","p-4 rounded-lg border-2 transition-all duration-200 text-left"])},t[11]||(t[11]=[e("div",{class:"flex items-center gap-3 mb-2"},[e("span",{class:"text-2xl"},"ðŸ“ž"),e("div",null,[e("div",{class:"font-semibold"},"Activity Level"),e("div",{class:"text-xs opacity-75"},"Volume focused")])],-1),e("p",{class:"text-xs opacity-90"}," Who's making the most calls and staying busy ",-1)]),2),e("button",{onClick:t[4]||(t[4]=r=>l.value="success"),class:i([l.value==="success"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white border-purple-500 shadow-lg":"bg-white text-gray-700 border-gray-300 hover:border-purple-300 hover:bg-purple-50","p-4 rounded-lg border-2 transition-all duration-200 text-left"])},t[12]||(t[12]=[e("div",{class:"flex items-center gap-3 mb-2"},[e("span",{class:"text-2xl"},"âœ…"),e("div",null,[e("div",{class:"font-semibold"},"Success Rate"),e("div",{class:"text-xs opacity-75"},"Quality focused")])],-1),e("p",{class:"text-xs opacity-90"}," Who's most effective at converting calls ",-1)]),2)])])]),d.value.length>=3?(c(),u("div",ae,[t[20]||(t[20]=e("h3",{class:"text-xl font-bold text-gray-900 text-center mb-8"},"ðŸ† Top Performers",-1)),e("div",le,[e("div",ne,[e("div",de,[t[14]||(t[14]=e("div",{class:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-gray-400 text-white text-xs font-bold px-2 py-1 rounded-full"}," 2nd ",-1)),t[15]||(t[15]=e("div",{class:"w-16 h-16 bg-gray-300 rounded-full mx-auto mb-3 flex items-center justify-center text-2xl"}," ðŸ‘¤ ",-1)),e("h4",ie,o((n=d.value[1])==null?void 0:n.name),1),e("p",ce,o(m(d.value[1])),1)])]),e("div",ue,[e("div",pe,[t[16]||(t[16]=e("div",{class:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-yellow-500 text-white text-sm font-bold px-3 py-1 rounded-full"}," ðŸ¥‡ 1st ",-1)),t[17]||(t[17]=e("div",{class:"w-20 h-20 bg-yellow-200 rounded-full mx-auto mb-4 flex items-center justify-center text-3xl"}," ðŸ‘¤ ",-1)),e("h4",ge,o((_=d.value[0])==null?void 0:_.name),1),e("p",xe,o(m(d.value[0])),1)])]),e("div",me,[e("div",be,[t[18]||(t[18]=e("div",{class:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-orange-400 text-white text-xs font-bold px-2 py-1 rounded-full"}," 3rd ",-1)),t[19]||(t[19]=e("div",{class:"w-16 h-16 bg-orange-300 rounded-full mx-auto mb-3 flex items-center justify-center text-2xl"}," ðŸ‘¤ ",-1)),e("h4",fe,o((k=d.value[2])==null?void 0:k.name),1),e("p",ye,o(m(d.value[2])),1)])])])])):R("",!0),e("div",ve,[e("div",he,[t[21]||(t[21]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Complete Rankings",-1)),e("p",we,"All employees ranked by "+o(V()),1)]),e("div",_e,[e("table",ke,[t[22]||(t[22]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Rank"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Employee"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Calls"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Success Rate"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Performance Score"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Trend")])],-1)),e("tbody",Ce,[(c(!0),u(S,null,T(h.value,(r,g)=>(c(),u("tr",{key:r.id,class:i(j(g+1))},[e("td",Re,[e("div",Se,[e("span",{class:i(["text-lg font-bold",A(g+1)])},o(B(g+1)),3)])]),e("td",Te,[e("div",Pe,[e("div",Le,o(r.name.charAt(0).toUpperCase()),1),e("div",null,[e("div",$e,o(r.name),1),e("div",De,o(r.position||"Employee"),1)])])]),e("td",Ee,o(r.total_calls),1),e("td",Ve,o(r.success_rate)+"% ",1),e("td",Be,o(r.performance_score),1),e("td",{class:i(["px-6 py-4 whitespace-nowrap text-sm",r.trend>=0?"text-green-600":"text-red-600"])},o(r.trend>=0?"+":"")+o(r.trend)+"% ",3)],2))),128))])])])])])]}),_:1},8,["breadcrumbs"])]),_:1}))}};export{qe as default};
