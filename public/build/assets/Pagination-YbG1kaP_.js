import{e as v,f,z as te,c as i,o as u,i as p,a as g,l as C,t as x,w as j,v as ne,F as U,r as G,k as w,n as J,b as oe,E as se,Q as z}from"./app-ncY6vA5p.js";import{I as N}from"./Icon-CHGPojSg.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ie={key:0,class:"pagination-info"},ue={class:"pagination-info-text"},re={class:"pagination-info-number"},ge={class:"pagination-info-number"},ce={class:"pagination-info-number"},de={key:1,class:"pagination-page-size"},pe=["disabled"],fe=["value"],ve={class:"pagination-controls"},be=["disabled"],me={key:0,class:"pagination-button-text"},Pe=["disabled"],ye={key:0,class:"pagination-button-text"},he={class:"pagination-pages",role:"group","aria-label":"Page numbers"},ke=["onClick","onKeydown","disabled","aria-label","aria-current"],xe={key:1,class:"pagination-ellipsis","aria-hidden":"true"},we=["disabled"],Ne={key:0,class:"pagination-button-text"},Be=["disabled"],Se={key:0,class:"pagination-button-text"},Ce={key:2,class:"pagination-jump"},ze=["max","disabled"],Ie=["disabled"],Ve={key:3,class:"pagination-loading"},Te={__name:"Pagination",props:{links:{type:Array,default:()=>[]},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},total:{type:Number,default:0},perPage:{type:Number,default:15},from:{type:Number,default:0},to:{type:Number,default:0},showInfo:{type:Boolean,default:!0},showPageSizeSelector:{type:Boolean,default:!0},showFirstLast:{type:Boolean,default:!0},showJumpToPage:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},pageSizeOptions:{type:Array,default:()=>[10,15,25,50,100]},maxVisiblePages:{type:Number,default:7},loading:{type:Boolean,default:!1},class:{type:[String,Array,Object],default:""}},emits:["page-change","page-size-change","update:currentPage","update:perPage"],setup(s,{expose:$,emit:F}){const n=s,B=F,A=v(null),E=v(null),M=v(null),q=v(null),R=v(null),D=v({}),y=v(n.perPage),m=v("");v(-1);const o=f(()=>{if(n.links&&n.links.length>0){const t=n.links.find(r=>r.label==="&laquo; Previous"),e=n.links.find(r=>r.label==="Next &raquo;"),a=n.links.filter(r=>r.label!=="&laquo; Previous"&&r.label!=="Next &raquo;"&&!isNaN(parseInt(r.label))),c=a.find(r=>r.active),l=c?parseInt(c.label):1,b=a.length>0?parseInt(a[a.length-1].label):1;return{currentPage:l,lastPage:b,hasPrevious:!!(t!=null&&t.url),hasNext:!!(e!=null&&e.url),previousUrl:t==null?void 0:t.url,nextUrl:e==null?void 0:e.url,total:n.total,from:n.from,to:n.to,perPage:n.perPage}}return{currentPage:n.currentPage,lastPage:n.lastPage,hasPrevious:n.currentPage>1,hasNext:n.currentPage<n.lastPage,total:n.total,from:n.from,to:n.to,perPage:n.perPage}}),P=f(()=>o.value.currentPage),h=f(()=>o.value.lastPage),L=f(()=>o.value.hasPrevious),O=f(()=>o.value.hasNext),Q=f(()=>o.value.total),H=f(()=>o.value.from),W=f(()=>o.value.to),X=f(()=>{const t=[],e=o.value.currentPage,a=o.value.lastPage,c=n.maxVisiblePages;if(a<=c)for(let l=1;l<=a;l++)t.push({type:"page",number:l,current:l===e});else{const l=Math.floor((c-3)/2);t.push({type:"page",number:1,current:e===1});let b,r;e<=l+2?(b=2,r=Math.min(c-1,a-1)):e>=a-l-1?(b=Math.max(2,a-c+2),r=a-1):(b=e-l,r=e+l),b>2&&t.push({type:"ellipsis"});for(let S=b;S<=r;S++)t.push({type:"page",number:S,current:S===e});r<a-1&&t.push({type:"ellipsis"}),a>1&&t.push({type:"page",number:a,current:e===a})}return t}),I=f(()=>{const t=parseInt(m.value);return t>=1&&t<=o.value.lastPage&&t!==o.value.currentPage}),Y=(t,e)=>{t&&(D.value[e]=t)},d=t=>{if(t<1||t>o.value.lastPage||t===o.value.currentPage)return;B("page-change",t),B("update:currentPage",t);let e=!1;if(n.links&&n.links.length>0){const a=n.links.find(c=>parseInt(c.label)===t);a!=null&&a.url&&(z.get(a.url),e=!0)}if(!e){const a=window.location.pathname,c=new URLSearchParams(window.location.search);c.set("page",t);const l=`${a}?${c.toString()}`;z.get(l)}},V=()=>{o.value.hasPrevious&&(o.value.previousUrl?z.get(o.value.previousUrl):d(o.value.currentPage-1))},T=()=>{o.value.hasNext&&(o.value.nextUrl?z.get(o.value.nextUrl):d(o.value.currentPage+1))},Z=()=>{B("page-size-change",y.value),B("update:perPage",y.value),d(1)},K=()=>{I.value&&(d(parseInt(m.value)),m.value="")},_=t=>{t.key==="Enter"&&(t.preventDefault(),K())},ee=()=>{I.value||(m.value="")},k=(t,e)=>{switch(t.key){case"Enter":case" ":t.preventDefault(),d(e);break;case"ArrowLeft":t.preventDefault(),o.value.hasPrevious&&V();break;case"ArrowRight":t.preventDefault(),o.value.hasNext&&T();break;case"Home":t.preventDefault(),d(1);break;case"End":t.preventDefault(),d(o.value.lastPage);break}},ae=t=>["pagination-page-button",{"pagination-page-button--current":t.current,"pagination-page-button--hover":!t.current}];return te(()=>n.perPage,t=>{y.value=t}),$({goToPage:d,goToPrevious:V,goToNext:T,focusCurrentPage:async()=>{await se();const t=D.value[o.value.currentPage];t&&t.focus()}}),(t,e)=>(u(),i("nav",{class:J(["pagination",n.class]),role:"navigation","aria-label":"Pagination Navigation",ref_key:"paginationNav",ref:A},[s.showInfo?(u(),i("div",ie,[g("p",ue,[e[8]||(e[8]=C(" Showing ")),g("span",re,x(H.value),1),e[9]||(e[9]=C(" to ")),g("span",ge,x(W.value),1),e[10]||(e[10]=C(" of ")),g("span",ce,x(Q.value),1),e[11]||(e[11]=C(" results "))])])):p("",!0),s.showPageSizeSelector?(u(),i("div",de,[e[12]||(e[12]=g("label",{for:"page-size-select",class:"pagination-page-size-label"}," Show: ",-1)),j(g("select",{id:"page-size-select","onUpdate:modelValue":e[0]||(e[0]=a=>y.value=a),onChange:Z,class:"pagination-page-size-select",disabled:s.loading},[(u(!0),i(U,null,G(s.pageSizeOptions,a=>(u(),i("option",{key:a,value:a},x(a),9,fe))),128))],40,pe),[[ne,y.value]]),e[13]||(e[13]=g("span",{class:"pagination-page-size-suffix"},"per page",-1))])):p("",!0),g("div",ve,[s.showFirstLast&&P.value>1?(u(),i("button",{key:0,onClick:e[1]||(e[1]=a=>d(1)),onKeydown:e[2]||(e[2]=a=>k(a,1)),class:"pagination-button pagination-button--first",disabled:s.loading||P.value===1,"aria-label":"Go to first page",ref_key:"firstButton",ref:E},[w(N,{name:"chevron-double-left",class:"pagination-icon"}),s.compact?p("",!0):(u(),i("span",me,"First"))],40,be)):p("",!0),g("button",{onClick:V,onKeydown:e[3]||(e[3]=a=>k(a,P.value-1)),class:"pagination-button pagination-button--previous",disabled:s.loading||!L.value,"aria-label":"Go to previous page",ref_key:"previousButton",ref:M},[w(N,{name:"chevron-left",class:"pagination-icon"}),s.compact?p("",!0):(u(),i("span",ye,"Previous"))],40,Pe),g("div",he,[(u(!0),i(U,null,G(X.value,(a,c)=>(u(),i(U,{key:a.label||c},[a.type==="page"?(u(),i("button",{key:0,onClick:l=>d(a.number),onKeydown:l=>k(l,a.number),class:J(ae(a)),disabled:s.loading||a.current,"aria-label":a.current?`Current page, page ${a.number}`:`Go to page ${a.number}`,"aria-current":a.current?"page":void 0,ref_for:!0,ref:l=>Y(l,a.number)},x(a.number),43,ke)):a.type==="ellipsis"?(u(),i("span",xe," ... ")):p("",!0)],64))),128))]),g("button",{onClick:T,onKeydown:e[4]||(e[4]=a=>k(a,P.value+1)),class:"pagination-button pagination-button--next",disabled:s.loading||!O.value,"aria-label":"Go to next page",ref_key:"nextButton",ref:q},[s.compact?p("",!0):(u(),i("span",Ne,"Next")),w(N,{name:"chevron-right",class:"pagination-icon"})],40,we),s.showFirstLast&&P.value<h.value?(u(),i("button",{key:1,onClick:e[5]||(e[5]=a=>d(h.value)),onKeydown:e[6]||(e[6]=a=>k(a,h.value)),class:"pagination-button pagination-button--last",disabled:s.loading||P.value===h.value,"aria-label":"Go to last page",ref_key:"lastButton",ref:R},[s.compact?p("",!0):(u(),i("span",Se,"Last")),w(N,{name:"chevron-double-right",class:"pagination-icon"})],40,Be)):p("",!0)]),s.showJumpToPage?(u(),i("div",Ce,[e[14]||(e[14]=g("label",{for:"jump-to-page",class:"pagination-jump-label"}," Go to page: ",-1)),j(g("input",{id:"jump-to-page","onUpdate:modelValue":e[7]||(e[7]=a=>m.value=a),onKeydown:_,onBlur:ee,type:"number",min:1,max:h.value,class:"pagination-jump-input",disabled:s.loading,placeholder:"Page"},null,40,ze),[[oe,m.value,void 0,{number:!0}]]),g("button",{onClick:K,class:"pagination-jump-button",disabled:s.loading||!I.value,"aria-label":"Jump to specified page"}," Go ",8,Ie)])):p("",!0),s.loading?(u(),i("div",Ve,[w(N,{name:"spinner",class:"pagination-loading-icon animate-spin"}),e[15]||(e[15]=g("span",{class:"pagination-loading-text"},"Loading...",-1))])):p("",!0)],2))}},Ge=le(Te,[["__scopeId","data-v-142fee9f"]]);export{Ge as P};
