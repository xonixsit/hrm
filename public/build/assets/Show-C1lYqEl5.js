import{f as c,Q as g,H as h,g as w,o as m,h as i,k as r,a as t,i as P,t as a,u as _,c as x,F as W,r as V}from"./app-CMYvAn_Q.js";import{u as F}from"./useAuth-BHg-4lj4.js";import{a as Q,A as q}from"./AuthenticatedLayout-DV7mFEC5.js";import{P as z}from"./PageLayout-vN-iEnlU.js";import{C as f}from"./ContentCard-CsnQSfsV.js";import{S as b}from"./StatsCard-CEENO33s.js";import{n as G,p as J}from"./icons-8Gns_ewk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-DmL5p68O.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-CEGgQyHB.js";import"./PageHeader-CPC_bqDN.js";import"./Icon-CqIYkydc.js";/* empty css                                                                   */import"./ArrowTrendingUpIcon-DPrttdnk.js";import"./ArrowTrendingDownIcon-BSYBOkyd.js";import"./ArrowTopRightOnSquareIcon-CQjsGa5c.js";import"./ChartBarIcon-tA7p0iR2.js";const K={class:"space-y-8"},X={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6"},Y={class:"text-xs text-gray-500 mt-1"},Z={class:"text-xs text-gray-500 mt-1"},tt={class:"text-xs text-gray-500 mt-1"},et={class:"text-xs text-gray-500 mt-1"},st={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8"},nt={class:"space-y-1"},ot={class:"flex justify-between items-center py-3 px-4 bg-gray-50 rounded-lg"},at={class:"flex items-center space-x-2"},rt={class:"text-sm font-semibold text-gray-900"},it={class:"flex justify-between items-center py-3 px-4 bg-green-50 rounded-lg"},ct={class:"flex items-center space-x-2"},lt={class:"text-sm font-semibold text-green-900"},dt={class:"flex justify-between items-center py-3 px-4 bg-red-50 rounded-lg"},ut={class:"flex items-center space-x-2"},mt={class:"text-sm font-semibold text-red-900"},xt={class:"flex justify-between items-center py-3 px-4 bg-blue-50 rounded-lg border-2 border-blue-200"},ft={class:"flex items-center space-x-2"},bt={class:"text-lg font-bold text-blue-900"},kt={key:0,class:"text-center py-12"},gt={key:1,class:"space-y-3"},ht={class:"flex items-center space-x-3"},_t={class:"w-8 h-8 bg-orange-200 rounded-full flex items-center justify-center"},yt={class:"text-xs font-bold text-orange-700"},pt={class:"text-sm font-semibold text-orange-900"},vt={class:"text-xs text-orange-700"},wt={class:"text-right"},Dt={class:"text-sm font-medium text-neutral-900"},St={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ct={class:"space-y-4"},At={class:"flex justify-between items-center py-2 border-b border-neutral-200"},It={class:"text-sm text-neutral-900"},jt={class:"flex justify-between items-center py-2 border-b border-neutral-200"},Nt={class:"text-sm text-neutral-900"},Ot={class:"flex justify-between items-center py-2"},Lt={class:"text-sm text-neutral-900"},Rt={class:"space-y-4"},Bt={class:"flex justify-between items-center py-2 border-b border-neutral-200"},Tt={class:"text-sm text-neutral-900"},$t={class:"flex justify-between items-center py-2 border-b border-neutral-200"},Et={class:"text-sm text-neutral-900"},Mt={class:"flex justify-between items-center py-2"},Ut={class:"text-sm text-neutral-900"},Ht={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},Pt={class:"flex items-center space-x-2"},Wt={class:"text-sm text-yellow-700"},re={__name:"Show",props:{attendance:Object,workDuration:String,breakDuration:String,totalMinutes:Number,breakSessions:Array},setup(o){const n=o,{hasRole:D,hasAnyRole:S}=F(),C=c(()=>S(["Admin","HR"])),A=c(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Attendance Management",href:route("attendances.index")},{label:"Details",current:!0}]),I=c(()=>{const s=[];return C.value&&s.push({id:"edit",label:"Edit Record",variant:"primary",handler:()=>g.visit(route("attendances.edit",n.attendance.id))},{id:"export",label:"Export",variant:"secondary",handler:()=>window.open(route("attendances.export",n.attendance.id),"_blank")}),D("Admin")&&s.push({id:"delete",label:"Delete",variant:"danger",handler:E}),s}),y=s=>s?new Date(s).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"N/A",l=s=>s?new Date(s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A",k=s=>s?new Date(s).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A",j=s=>({clocked_in:"Clocked In",clocked_out:"Clocked Out",on_break:"On Break"})[s]||s,N=s=>({clocked_in:"success",clocked_out:"secondary",on_break:"warning"})[s]||"secondary",O=c(()=>{if(!n.workDuration||n.workDuration==="0h 0m")return"0 hours";if(n.workDuration&&n.workDuration.includes("h"))return n.workDuration;const s=parseInt(n.workDuration);return isNaN(s)?"0 hours":`${s}h 0m`}),L=c(()=>{if(!n.attendance.clock_in)return"No clock in recorded";const s=l(n.attendance.clock_in),e=n.attendance.clock_out?l(n.attendance.clock_out):"Still working";return`${s} - ${e}`}),R=c(()=>!n.breakDuration||n.breakDuration==="-"||n.breakDuration==="0h 0m"?"0 minutes":(n.breakDuration&&(n.breakDuration.includes("h")||n.breakDuration.includes("m")),n.breakDuration)),B=c(()=>{const s=n.breakSessions.length;return s===0?"No breaks taken":s===1?"1 break session":`${s} break sessions`}),T=c(()=>{const s=n.breakSessions.length;return s===0?"Continuous work":s===1?"Single break taken":"Multiple breaks"}),$=c(()=>{switch(n.attendance.status){case"clocked_in":return n.attendance.clock_in?`Since ${l(n.attendance.clock_in)}`:"Currently working";case"clocked_out":return n.attendance.clock_out?`At ${l(n.attendance.clock_out)}`:"Work completed";case"on_break":return"Currently on break";default:return"Status unknown"}}),E=()=>{confirm("Are you sure you want to delete this attendance record? This action cannot be undone.")&&g.delete(route("attendances.destroy",n.attendance.id),{onSuccess:()=>{g.visit(route("attendances.index"))}})};return(s,e)=>{const M=h("CalendarIcon"),U=h("ArrowRightOnRectangleIcon"),H=h("ArrowLeftOnRectangleIcon");return m(),w(q,null,{default:i(()=>{var p,v;return[r(z,{title:"Attendance Details",subtitle:`${((v=(p=o.attendance.employee)==null?void 0:p.user)==null?void 0:v.name)||"Employee"} - ${y(o.attendance.date)}`,breadcrumbs:A.value,actions:I.value},{default:i(()=>[t("div",K,[t("div",X,[r(b,{label:"Work Duration",value:O.value,format:"text",icon:"ClockIcon",iconColor:"info",class:"transform hover:scale-105 transition-transform duration-200"},{default:i(()=>[t("div",Y,a(L.value),1)]),_:1},8,["value"]),r(b,{label:"Break Duration",value:R.value,format:"text",icon:"PauseIcon",iconColor:"warning",class:"transform hover:scale-105 transition-transform duration-200"},{default:i(()=>[t("div",Z,a(B.value),1)]),_:1},8,["value"]),r(b,{label:"Break Sessions",value:o.breakSessions.length.toString(),icon:"ListBulletIcon",iconColor:"success",class:"transform hover:scale-105 transition-transform duration-200"},{default:i(()=>[t("div",tt,a(T.value),1)]),_:1},8,["value"]),r(b,{label:"Status",value:j(o.attendance.status),icon:"CheckCircleIcon",iconColor:N(o.attendance.status),class:"transform hover:scale-105 transition-transform duration-200"},{default:i(()=>[t("div",et,a($.value),1)]),_:1},8,["value","iconColor"])]),t("div",st,[r(f,{title:"Time Details",class:"shadow-sm hover:shadow-md transition-shadow duration-200"},{default:i(()=>[t("div",nt,[t("div",ot,[t("div",at,[r(M,{class:"w-4 h-4 text-gray-500"}),e[0]||(e[0]=t("span",{class:"text-sm font-medium text-gray-700"},"Date",-1))]),t("span",rt,a(y(o.attendance.date)),1)]),t("div",it,[t("div",ct,[r(U,{class:"w-4 h-4 text-green-600"}),e[1]||(e[1]=t("span",{class:"text-sm font-medium text-green-700"},"Clock In",-1))]),t("span",lt,a(o.attendance.clock_in?l(o.attendance.clock_in):"—"),1)]),t("div",dt,[t("div",ut,[r(H,{class:"w-4 h-4 text-red-600"}),e[2]||(e[2]=t("span",{class:"text-sm font-medium text-red-700"},"Clock Out",-1))]),t("span",mt,a(o.attendance.clock_out?l(o.attendance.clock_out):"—"),1)]),t("div",xt,[t("div",ft,[r(_(G),{class:"w-4 h-4 text-blue-600"}),e[3]||(e[3]=t("span",{class:"text-sm font-medium text-blue-700"},"Total Work Time",-1))]),t("span",bt,a(o.workDuration||"0h 0m"),1)])])]),_:1}),r(f,{title:"Break Sessions",class:"shadow-sm hover:shadow-md transition-shadow duration-200"},{default:i(()=>[o.breakSessions.length===0?(m(),x("div",kt,[r(_(Q),{class:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e[4]||(e[4]=t("p",{class:"text-gray-500 font-medium"},"No break sessions recorded",-1)),e[5]||(e[5]=t("p",{class:"text-sm text-gray-400 mt-1"},"All work time was continuous",-1))])):(m(),x("div",gt,[(m(!0),x(W,null,V(o.breakSessions,(d,u)=>(m(),x("div",{key:u,class:"flex justify-between items-center p-4 bg-orange-50 rounded-lg border border-orange-200 hover:bg-orange-100 transition-colors duration-150"},[t("div",ht,[t("div",_t,[t("span",yt,a(u+1),1)]),t("div",null,[t("p",pt,"Break "+a(u+1),1),t("p",vt,a(l(d.start))+" - "+a(d.end?l(d.end):"Ongoing"),1)])]),t("div",wt,[t("p",Dt,a(d.duration_minutes?`${d.duration_minutes}m`:"—"),1)])]))),128))]))]),_:1})]),r(f,{title:"Additional Information"},{default:i(()=>{var d,u;return[t("div",St,[t("div",Ct,[t("div",At,[e[6]||(e[6]=t("span",{class:"text-sm font-medium text-neutral-600"},"Employee",-1)),t("span",It,a(((u=(d=o.attendance.employee)==null?void 0:d.user)==null?void 0:u.name)||"Unknown"),1)]),t("div",jt,[e[7]||(e[7]=t("span",{class:"text-sm font-medium text-neutral-600"},"IP Address",-1)),t("span",Nt,a(o.attendance.ip_address||"—"),1)]),t("div",Ot,[e[8]||(e[8]=t("span",{class:"text-sm font-medium text-neutral-600"},"Location",-1)),t("span",Lt,a(o.attendance.location||"—"),1)])]),t("div",Rt,[t("div",Bt,[e[9]||(e[9]=t("span",{class:"text-sm font-medium text-neutral-600"},"Created",-1)),t("span",Tt,a(k(o.attendance.created_at)),1)]),t("div",$t,[e[10]||(e[10]=t("span",{class:"text-sm font-medium text-neutral-600"},"Last Updated",-1)),t("span",Et,a(k(o.attendance.updated_at)),1)]),t("div",Mt,[e[11]||(e[11]=t("span",{class:"text-sm font-medium text-neutral-600"},"Notes",-1)),t("span",Ut,a(o.attendance.notes||"—"),1)])])])]}),_:1}),o.attendance.editor?(m(),w(f,{key:0,title:"Edit History"},{default:i(()=>[t("div",Ht,[t("div",Pt,[r(_(J),{class:"w-5 h-5 text-yellow-600"}),t("div",null,[e[12]||(e[12]=t("p",{class:"text-sm font-medium text-yellow-800"},"This record has been edited",-1)),t("p",Wt," Last edited by "+a(o.attendance.editor.name)+" on "+a(k(o.attendance.updated_at)),1)])])])]),_:1})):P("",!0)])]),_:1},8,["subtitle","breadcrumbs","actions"])]}),_:1})}}};export{re as default};
