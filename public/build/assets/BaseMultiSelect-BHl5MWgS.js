import{e as g,f as h,z as S,B,c as o,o as r,a as n,i as f,k as C,n as z,t as d,h as L,F as M,r as j,l as N,d as D,T as E}from"./app-SQaiLtfw.js";/* empty css                                                                        */import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"relative"},A=["disabled","aria-expanded"],F={key:0,class:"text-neutral-500"},R={key:1},q={key:0,class:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md ring-1 ring-black ring-opacity-5 max-h-60 overflow-auto"},I={role:"listbox",class:"py-1 text-sm text-neutral-700"},U=["onClick"],$=["checked"],G={key:0,class:"error-message"},H={key:1,class:"hint-message"},J={__name:"BaseMultiSelect",props:{id:{type:String,default:""},modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},placeholder:{type:String,default:"Select options..."},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},error:{type:String,default:""},hint:{type:String,default:""},size:{type:String,default:"md",validator:a=>["sm","md","lg"].includes(a)},variant:{type:String,default:"default",validator:a=>["default","filled"].includes(a)}},emits:["update:modelValue"],setup(a,{emit:x}){const t=a,k=x,i=g(!1),u=g(null),w=h(()=>["base-multiselect-input","w-full border rounded-md transition-colors focus:outline-none focus:ring-2 text-left flex items-center justify-between px-3 py-2",{"text-sm":t.size==="sm","text-base":t.size==="md","text-lg":t.size==="lg","border-neutral-300 focus:border-primary-500 focus:ring-primary-500":!t.error&&!t.disabled,"border-red-500 focus:border-red-500 focus:ring-red-500":t.error,"bg-neutral-100 border-neutral-200 cursor-not-allowed opacity-50":t.disabled,"bg-white":t.variant==="default","bg-neutral-50":t.variant==="filled"}]),m=h(()=>t.modelValue.map(e=>{const s=t.options.find(l=>c(l)===e);return s?p(s):""}).filter(Boolean)),c=e=>typeof e=="object"?e.value:e,p=e=>typeof e=="object"?e.label:e,v=e=>t.modelValue.includes(c(e)),_=()=>{t.disabled||(i.value=!i.value)},V=e=>{const s=c(e),l=v(e)?t.modelValue.filter(b=>b!==s):[...t.modelValue,s];k("update:modelValue",l)},y=e=>{u.value&&!u.value.contains(e.target)&&(i.value=!1)};return S(()=>{document.addEventListener("click",y)}),B(()=>{document.removeEventListener("click",y)}),(e,s)=>(r(),o("div",{class:"base-multiselect",ref_key:"dropdownRef",ref:u},[n("div",T,[n("button",{type:"button",class:z(w.value),disabled:a.disabled,onClick:_,"aria-haspopup":"listbox","aria-expanded":i.value},[m.value.length===0?(r(),o("span",F,d(a.placeholder),1)):(r(),o("span",R,d(m.value.join(", ")),1)),s[1]||(s[1]=n("span",{class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},[n("svg",{class:"h-5 w-5 text-neutral-400",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))],10,A),C(E,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:L(()=>[i.value?(r(),o("div",q,[n("ul",I,[(r(!0),o(M,null,j(a.options,l=>(r(),o("li",{key:c(l),class:"px-3 py-2 hover:bg-neutral-100 cursor-pointer flex items-center",onClick:b=>V(l)},[n("input",{type:"checkbox",checked:v(l),class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded mr-2",onClick:s[0]||(s[0]=D(()=>{},["stop"]))},null,8,$),N(" "+d(p(l)),1)],8,U))),128))])])):f("",!0)]),_:1})]),a.error?(r(),o("div",G,d(a.error),1)):f("",!0),a.hint?(r(),o("div",H,d(a.hint),1)):f("",!0)],512))}},W=O(J,[["__scopeId","data-v-12313bf4"]]);export{W as B};
