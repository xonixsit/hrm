import{r as p}from"./DocumentIcon-Cb359GIH.js";import{h as U}from"./Icon-DNSos6Wh.js";import{r as w}from"./ArrowTopRightOnSquareIcon-Dvn98G6F.js";import{r as y}from"./ArrowDownTrayIcon-COlpXu5a.js";import{e as C,f as d,y as I,g as F,o as n,h as i,k as o,u as s,a as e,l as m,t as f,c as u}from"./app-DE21yRJa.js";import{Y as S,h as b,G as V,V as P,S as E}from"./transition-DQBHSiNn.js";const G={class:"fixed inset-0 z-10 overflow-y-auto"},T={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},B={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},M={class:"sm:flex sm:items-start"},Y={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10"},$={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left flex-1"},J={class:"mt-2"},L={class:"text-sm text-gray-500"},O={class:"mt-3 sm:mt-0 sm:ml-4"},q={class:"px-4 pb-4 sm:px-6 sm:pb-6"},z={class:"bg-gray-50 rounded-lg p-4",style:{height:"500px"}},W={key:0,class:"w-full h-full"},X=["src"],A={class:"flex flex-col items-center justify-center h-full text-center"},H=["href"],K={key:1,class:"flex justify-center items-center h-full"},Q=["src","alt"],R={key:2,class:"bg-white p-4 rounded border h-full overflow-auto"},Z={class:"whitespace-pre-wrap text-sm text-gray-800 font-mono"},ee={key:3,class:"flex flex-col items-center justify-center h-full text-center"},te={class:"text-gray-500 mb-6 max-w-md"},se=["href"],oe={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},le=["href"],ae=["href"],fe={__name:"FileViewerModal",props:{show:{type:Boolean,default:!1},fileName:{type:String,required:!0},fileUrl:{type:String,required:!0}},emits:["close"],setup(l,{emit:v}){const c=l,_=v,g=C(""),a=d(()=>{var r;return((r=c.fileName.split(".").pop())==null?void 0:r.toLowerCase())||""}),j=d(()=>["jpg","jpeg","png","gif","bmp","webp","svg"].includes(a.value)),k=d(()=>a.value==="pdf"),x=d(()=>["txt","md","json","xml","csv","log"].includes(a.value));I(()=>c.show,async r=>{if(r&&x.value)try{const t=await fetch(c.fileUrl);g.value=await t.text()}catch{g.value="Error loading file content."}});const h=()=>{_("close")},D=()=>{console.error("Failed to load image:",c.fileUrl)},N=()=>({pdf:"PDF Document",jpg:"JPEG Image",jpeg:"JPEG Image",png:"PNG Image",gif:"GIF Image",bmp:"Bitmap Image",webp:"WebP Image",svg:"SVG Vector Image",txt:"Text Document",md:"Markdown Document",json:"JSON Data",xml:"XML Document",csv:"CSV Spreadsheet",log:"Log File"})[a.value]||`${a.value.toUpperCase()} File`;return(r,t)=>(n(),F(s(E),{as:"template",show:l.show},{default:i(()=>[o(s(S),{as:"div",class:"relative z-50",onClose:h},{default:i(()=>[o(s(b),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>t[0]||(t[0]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1,__:[0]}),e("div",G,[e("div",T,[o(s(b),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:i(()=>[o(s(V),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl"},{default:i(()=>[e("div",B,[e("div",M,[e("div",Y,[o(s(p),{class:"h-6 w-6 text-blue-600","aria-hidden":"true"})]),e("div",$,[o(s(P),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:i(()=>[m(f(l.fileName),1)]),_:1}),e("div",J,[e("p",L,f(N()),1)])]),e("div",O,[e("button",{onClick:h,class:"rounded-md bg-white text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"},[o(s(U),{class:"h-6 w-6"})])])])]),e("div",q,[e("div",z,[k.value?(n(),u("div",W,[e("iframe",{src:l.fileUrl,class:"w-full h-full border-0 rounded"},[e("div",A,[o(s(p),{class:"h-16 w-16 text-gray-400 mb-4"}),t[2]||(t[2]=e("p",{class:"text-gray-600 mb-4"},"Your browser does not support PDF viewing.",-1)),e("a",{href:l.fileUrl,target:"_blank",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[o(s(w),{class:"mr-2 h-4 w-4"}),t[1]||(t[1]=m(" Open in New Tab "))],8,H)])],8,X)])):j.value?(n(),u("div",K,[e("img",{src:l.fileUrl,alt:l.fileName,class:"max-w-full max-h-full object-contain rounded shadow-sm",onError:D},null,40,Q)])):x.value?(n(),u("div",R,[e("pre",Z,f(g.value),1)])):(n(),u("div",ee,[o(s(p),{class:"h-16 w-16 text-gray-400 mb-4"}),t[4]||(t[4]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Preview not available",-1)),e("p",te," This file type ("+f(a.value.toUpperCase())+") cannot be previewed in the browser. You can download it to view with the appropriate application. ",1),e("a",{href:l.fileUrl,download:"",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[o(s(y),{class:"mr-2 h-4 w-4"}),t[3]||(t[3]=m(" Download File "))],8,se)]))])]),e("div",oe,[e("a",{href:l.fileUrl,download:"",class:"inline-flex w-full justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 sm:ml-3 sm:w-auto"},[o(s(y),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=m(" Download "))],8,le),e("a",{href:l.fileUrl,target:"_blank",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:ml-3"},[o(s(w),{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=m(" Open in New Tab "))],8,ae),e("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:h}," Close ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}};export{fe as _};
