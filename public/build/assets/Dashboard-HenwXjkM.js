import{c as m,o as d,a as e,i as w,m as fe,n as x,d as Ae,u as o,A as ee,t as r,F as q,g as F,s as ye,E as Se,f as T,Q as ge,e as N,r as K,y as Te,z as Ce,B as Re,k as g,l as L,q as ue,D as Me,C as qe,h as z,w as Fe,b as Ke,G as Q}from"./app-BbJU_wD7.js";import{u as Ne}from"./useAuth-D7uIN5nA.js";import{b as Ee,a as Ge,r as Qe,A as Xe}from"./AuthenticatedLayout-BIlda9XR.js";/* empty css                                                                  *//* empty css                                                                      */import{_ as Oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{w as Be,m as be,q as Ye,p as he,O as $e,n as te,A as Je,l as Ze,f as je,k as X,a as De}from"./icons-B8QNX4JI.js";import{r as _e}from"./BookOpenIcon-D91i1vfE.js";import{r as se}from"./ChartBarIcon-DYCieEYx.js";import{A as et}from"./ApplicationLogo-BdNBLvH4.js";import{r as me}from"./AcademicCapIcon-QxN9MR8V.js";import{r as tt}from"./ArrowTrendingUpIcon-DCycfvKA.js";import{r as Pe}from"./CogIcon-Cnod9_6c.js";import{r as st}from"./ArrowPathIcon-CdEO_lh-.js";function at(t,R){return d(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])}const nt=["role","tabindex"],ot={key:0,class:"flex items-center justify-between mb-4"},it={class:"flex items-center space-x-3"},rt={key:0,class:"flex items-center space-x-2"},lt={class:"flex-1"},dt={key:2,class:x(["absolute inset-0 flex items-center justify-center rounded-2xl transition-all duration-200"])},ct={class:"flex items-center space-x-3"},ve={__name:"UnifiedCard",props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:[String,Object],default:null},iconVariant:{type:String,default:null,validator:t=>["primary","success","warning","danger","info"].includes(t)},variant:{type:String,default:"default",validator:t=>["default","elevated"].includes(t)},size:{type:String,default:"default",validator:t=>["small","default"].includes(t)},clickable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},status:{type:String,default:null,validator:t=>["success","warning","error","info"].includes(t)},statusText:{type:String,default:null},className:{type:String,default:""}},emits:["click"],setup(t,{emit:R}){const{isDark:a}=Ee();return(k,l)=>(d(),m(q,null,[e("div",{class:x(["group relative transition-all duration-300",t.size==="small"?"rounded-lg":"rounded-2xl",t.clickable&&"cursor-pointer hover:scale-[1.02] hover:shadow-2xl",t.clickable&&(o(a)?"hover:bg-gray-700/60 hover:border-gray-600/60":"hover:bg-white/90 hover:border-gray-300/60"),t.size==="small"?"p-3":"p-4",t.className]),onClick:l[0]||(l[0]=S=>t.clickable&&k.$emit("click")),role:t.clickable?"button":void 0,tabindex:t.clickable?"0":void 0,onKeydown:[l[1]||(l[1]=fe(S=>t.clickable&&k.$emit("click"),["enter"])),l[2]||(l[2]=fe(Ae(S=>t.clickable&&k.$emit("click"),["prevent"]),["space"]))]},null,42,nt),k.$slots.header||t.title?(d(),m("div",ot,[e("div",it,[t.icon||k.$slots.icon?(d(),m("div",{key:0,class:x(["flex items-center justify-center rounded-xl transition-all duration-200",t.size==="small"?"w-10 h-10 p-2":"w-12 h-12 p-3",t.iconVariant==="primary"&&(o(a)?"bg-blue-600/20 text-blue-400 border border-blue-500/30":"bg-blue-50 text-blue-600 border border-blue-200/50"),t.iconVariant==="success"&&(o(a)?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-green-50 text-green-600 border border-green-200/50"),t.iconVariant==="warning"&&(o(a)?"bg-orange-600/20 text-orange-400 border border-orange-500/30":"bg-orange-50 text-orange-600 border border-orange-200/50"),t.iconVariant==="danger"&&(o(a)?"bg-red-600/20 text-red-400 border border-red-500/30":"bg-red-50 text-red-600 border border-red-200/50"),t.iconVariant==="info"&&(o(a)?"bg-purple-600/20 text-purple-400 border border-purple-500/30":"bg-purple-50 text-purple-600 border border-purple-200/50"),!t.iconVariant&&(o(a)?"bg-gray-700/50 text-gray-300 border border-gray-600/50":"bg-gray-100 text-gray-600 border border-gray-200/50")])},[ee(k.$slots,"icon",{},()=>[t.icon?(d(),F(ye(t.icon),{key:0,class:x(t.size==="small"?"w-4 h-4":"w-5 h-5")},null,8,["class"])):w("",!0)])],2)):w("",!0),e("div",null,[t.title?(d(),m("h3",{key:0,class:x(["font-semibold transition-colors duration-200",t.size==="small"?"text-base":"text-lg",o(a)?"text-white":"text-gray-900"])},r(t.title),3)):w("",!0),t.description?(d(),m("p",{key:1,class:x(["transition-colors duration-200",t.size==="small"?"text-xs":"text-sm",o(a)?"text-gray-400":"text-gray-600"])},r(t.description),3)):w("",!0),ee(k.$slots,"header")])]),k.$slots.headerActions?(d(),m("div",rt,[ee(k.$slots,"headerActions")])):w("",!0)])):w("",!0),e("div",lt,[ee(k.$slots,"default",{},()=>[l[3]||(l[3]=Se('<div class="text-center py-12"><div class="w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><h3 class="text-lg font-medium text-gray-900 mb-2">No Content Available</h3><p class="text-sm text-gray-500">This section will display content when data is available.</p></div>',1))])]),k.$slots.footer?(d(),m("div",{key:1,class:x(["mt-6 pt-4 border-t transition-colors duration-200",o(a)?"border-gray-700/50":"border-gray-200/50"])},[ee(k.$slots,"footer")],2)):w("",!0),t.loading?(d(),m("div",dt,[e("div",ct,[e("div",{class:x(["animate-spin rounded-full border-2 border-t-transparent",t.size==="small"?"w-5 h-5":"w-6 h-6",o(a)?"border-gray-400":"border-gray-600"])},null,2),e("span",{class:x(["text-sm font-medium",o(a)?"text-gray-300":"text-gray-600"])}," Loading... ",2)])])):w("",!0),t.status?(d(),m("div",{key:3,class:x(["absolute top-4 right-4 flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium",t.status==="success"&&(o(a)?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-green-50 text-green-700 border border-green-200"),t.status==="warning"&&(o(a)?"bg-orange-600/20 text-orange-400 border border-orange-500/30":"bg-orange-50 text-orange-700 border border-orange-200"),t.status==="error"&&(o(a)?"bg-red-600/20 text-red-400 border border-red-500/30":"bg-red-50 text-red-700 border border-red-200"),t.status==="info"&&(o(a)?"bg-blue-600/20 text-blue-400 border border-blue-500/30":"bg-blue-50 text-blue-700 border border-blue-200")])},[e("div",{class:x(["w-1.5 h-1.5 rounded-full",t.status==="success"&&"bg-green-400",t.status==="warning"&&"bg-orange-400",t.status==="error"&&"bg-red-400",t.status==="info"&&"bg-blue-400"])},null,2),e("span",null,r(t.statusText||t.status),1)],2)):w("",!0)],64))}},ut=["role","tabindex","onKeydown"],mt={class:"flex items-start justify-between mb-4"},vt={key:0,class:"flex items-center space-x-1"},gt={key:0,class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ht={key:1,class:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ft={class:"space-y-1 mb-3"},bt={class:"flex items-center gap-2"},yt={key:2,class:"absolute z-20 -top-2 -right-2"},W={__name:"UnifiedStatsCard",props:{value:{type:[Number,String],required:!0},label:{type:String,required:!0},description:{type:String,default:""},icon:{type:[String,Object],required:!0},variant:{type:String,default:"primary",validator:t=>["primary","success","warning","info","neutral"].includes(t)},trend:{type:Number,default:null},trendSuffix:{type:String,default:"%"},status:{type:String,default:null,validator:t=>["excellent","good","warning","critical"].includes(t)},statusText:{type:String,default:null},loading:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},route:{type:String,default:null},urgent:{type:Boolean,default:!1},prefix:{type:String,default:""},suffix:{type:String,default:""}},emits:["click"],setup(t,{emit:R}){const a=t,k=R,{isDark:l}=Ee(),S=T(()=>{if(a.loading)return"...";let I=a.value;return typeof I=="number"&&(I=I.toLocaleString()),`${a.prefix}${I}${a.suffix}`}),j=()=>{!a.clickable||a.loading||(a.route&&ge.visit(route(a.route)),k("click"))};return(I,f)=>(d(),m("div",{class:x(["group relative transition-all duration-300",t.clickable&&"cursor-pointer",o(l)?"bg-gray-800/50 border border-gray-700/50 backdrop-blur-sm":"bg-white border border-gray-100 shadow-sm backdrop-blur-sm","hover:shadow-md hover:-translate-y-0.5","rounded-2xl p-5 sm:p-6"]),onClick:j,role:t.clickable?"button":void 0,tabindex:t.clickable?"0":void 0,onKeydown:[fe(j,["enter"]),fe(Ae(j,["prevent"]),["space"])]},[e("div",mt,[e("div",{class:x(["flex items-center justify-center w-12 h-12 rounded-xl flex-shrink-0 shadow-sm",t.variant==="primary"&&(o(l)?"bg-blue-600/20 text-blue-400":"bg-blue-500 text-white shadow-blue-100"),t.variant==="success"&&(o(l)?"bg-green-600/20 text-green-400":"bg-green-500 text-white shadow-green-100"),t.variant==="warning"&&(o(l)?"bg-orange-600/20 text-orange-400":"bg-orange-500 text-white shadow-orange-100"),t.variant==="info"&&(o(l)?"bg-purple-600/20 text-purple-400":"bg-purple-500 text-white shadow-purple-100"),t.variant==="neutral"&&(o(l)?"bg-gray-700/50 text-gray-300":"bg-gray-500 text-white shadow-gray-100")])},[(d(),F(ye(t.icon),{class:"w-6 h-6"}))],2),t.trend!==null&&!t.loading?(d(),m("div",vt,[t.trend>0?(d(),m("svg",gt,f[0]||(f[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):t.trend<0?(d(),m("svg",ht,f[1]||(f[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))):w("",!0),e("span",{class:x(["text-sm font-medium",t.trend>0&&"text-green-600",t.trend<0&&"text-red-600",t.trend===0&&"text-gray-500"])},r(t.trend>0?"+":"")+r(t.trend)+r(t.trendSuffix),3)])):t.status&&!t.loading?(d(),m("div",{key:1,class:x(["flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",t.status==="excellent"&&(o(l)?"bg-green-600/20 text-green-400":"bg-green-50 text-green-700 border border-green-100"),t.status==="good"&&(o(l)?"bg-blue-600/20 text-blue-400":"bg-blue-50 text-blue-700 border border-blue-100"),t.status==="warning"&&(o(l)?"bg-orange-600/20 text-orange-400":"bg-orange-50 text-orange-700 border border-orange-100"),t.status==="critical"&&(o(l)?"bg-red-600/20 text-red-400":"bg-red-50 text-red-700 border border-red-100")])},[e("span",{class:x(["w-1.5 h-1.5 rounded-full",t.status==="excellent"&&"bg-green-500",t.status==="good"&&"bg-blue-500",t.status==="warning"&&"bg-orange-500",t.status==="critical"&&"bg-red-500"])},null,2),e("span",null,r(t.statusText||t.status),1)],2)):w("",!0)]),e("div",ft,[e("div",{class:x(["text-3xl font-semibold tracking-tight transition-colors duration-200",o(l)?"text-white":"text-gray-900",t.variant==="success"&&!o(l)&&"text-green-600",t.variant==="warning"&&!o(l)&&"text-orange-600"])},r(t.loading?"...":S.value),3),e("div",{class:x(["text-sm font-medium transition-colors duration-200",o(l)?"text-gray-400":"text-gray-600"])},r(t.label),3)]),t.description?(d(),m("div",{key:0,class:x(["text-sm leading-relaxed transition-colors duration-200",(o(l),"text-gray-500")])},r(t.description),3)):w("",!0),t.loading?(d(),m("div",{key:1,class:x(["absolute inset-0 z-10 flex items-center justify-center rounded-2xl backdrop-blur-sm",o(l)?"bg-gray-800/80":"bg-white/80"])},[e("div",bt,[e("div",{class:x(["animate-spin rounded-full w-5 h-5 border-2 border-t-transparent",o(l)?"border-gray-400":"border-gray-600"])},null,2),e("span",{class:x(["text-sm font-medium",o(l)?"text-gray-300":"text-gray-600"])}," Loading... ",2)])],2)):w("",!0),t.urgent&&!t.loading?(d(),m("div",yt,f[2]||(f[2]=[e("div",{class:"relative"},[e("div",{class:"w-4 h-4 bg-red-500 rounded-full animate-pulse"}),e("div",{class:"absolute inset-0 w-4 h-4 bg-red-500 rounded-full animate-ping opacity-75"})],-1)]))):w("",!0)],42,ut))}},xt={key:0,class:"space-y-4"},pt={key:0,class:"bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-200 rounded-lg p-4"},kt={class:"space-y-2"},wt={class:"flex items-center space-x-3"},$t={class:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center"},St={class:"text-sm font-semibold text-pink-700"},Tt={class:"font-medium text-gray-900"},At={class:"text-sm text-gray-500"},Ct={class:"text-right"},It={key:0,class:"text-xs text-gray-500"},Mt={key:1,class:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4"},Bt={class:"flex items-center justify-between mb-3"},jt={class:"space-y-2"},Dt={class:"flex items-center space-x-3"},Pt={class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},Rt={class:"text-sm font-semibold text-blue-700"},Nt={class:"font-medium text-gray-900"},Et={class:"text-sm text-gray-500"},Ot={class:"text-right"},Ut={class:"text-sm font-medium text-gray-900"},Vt={class:"text-xs text-gray-500"},Lt={key:2,class:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4"},Ue={__name:"BirthdayNotifications",props:{todaysBirthdays:{type:Array,default:()=>[]},upcomingBirthdays:{type:Array,default:()=>[]},stats:{type:Object,default:null}},setup(t){const R=t,a=N(!1),k=T(()=>R.todaysBirthdays.length>0||R.upcomingBirthdays.length>0),l=T(()=>a.value?R.upcomingBirthdays:R.upcomingBirthdays.slice(0,3)),S=f=>f.split(" ").map(v=>v.charAt(0).toUpperCase()).join("").substring(0,2),j=f=>new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric"}),I=f=>f===0?"Today":f===1?"Tomorrow":`In ${f} days`;return(f,v)=>k.value?(d(),m("div",xt,[t.todaysBirthdays.length>0?(d(),m("div",pt,[v[2]||(v[2]=e("div",{class:"flex items-center space-x-3 mb-3"},[e("div",{class:"text-2xl"},"🎉"),e("div",null,[e("h3",{class:"text-lg font-semibold text-pink-800"},"Birthday Today!"),e("p",{class:"text-sm text-pink-600"},"Let's celebrate our team members")])],-1)),e("div",kt,[(d(!0),m(q,null,K(t.todaysBirthdays,$=>(d(),m("div",{key:$.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[e("div",wt,[e("div",$t,[e("span",St,r(S($.user.name)),1)]),e("div",null,[e("p",Tt,r($.user.name),1),e("p",At,r($.job_title||"Employee"),1)])]),e("div",Ct,[v[1]||(v[1]=e("div",{class:"text-lg"},"🎂",-1)),$.age?(d(),m("p",It,r($.age)+" years",1)):w("",!0)])]))),128))])])):w("",!0),t.upcomingBirthdays.length>0?(d(),m("div",Mt,[e("div",Bt,[v[3]||(v[3]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"text-2xl"},"🎂"),e("div",null,[e("h3",{class:"text-lg font-semibold text-blue-800"},"Upcoming Birthdays"),e("p",{class:"text-sm text-blue-600"},"Don't forget to wish them well!")])],-1)),e("button",{onClick:v[0]||(v[0]=$=>a.value=!a.value),class:"text-sm text-blue-600 hover:text-blue-800 font-medium"},r(a.value?"Show Less":"Show All"),1)]),e("div",jt,[(d(!0),m(q,null,K(l.value,($,c)=>(d(),m("div",{key:$.employee.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[e("div",Dt,[e("div",Pt,[e("span",Rt,r(S($.employee.user.name)),1)]),e("div",null,[e("p",Nt,r($.employee.user.name),1),e("p",Et,r($.employee.job_title||"Employee"),1)])]),e("div",Ot,[e("p",Ut,r(j($.birthday_date)),1),e("p",Vt,r(I($.days_until)),1)])]))),128))])])):w("",!0),t.todaysBirthdays.length===0&&t.upcomingBirthdays.length===0&&t.stats&&t.stats.this_month===0?(d(),m("div",Lt,v[4]||(v[4]=[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"text-2xl"},"🎂"),e("div",null,[e("h3",{class:"text-lg font-semibold text-blue-800"},"No Birthdays This Month"),e("p",{class:"text-sm text-blue-600"},"No team birthdays to celebrate right now, but stay tuned!")])],-1)]))):w("",!0)])):w("",!0)}},zt={class:"employee-dashboard"},Ht={class:"motivation-block"},Wt={class:"motivation-content"},qt={class:"motivation-text"},Ft={class:"quick-clock-actions"},Kt=["disabled"],Gt=["disabled"],Qt=["disabled"],Xt={class:"time-tracking-section"},Yt={class:"real-time-clock"},Jt={class:"clock-display"},Zt={class:"current-time"},_t={class:"current-date"},es={class:"work-status"},ts={class:"status-text"},ss={class:"time-progress-block"},as={class:"duration-display"},ns={class:"duration-item"},os={class:"duration-value"},is={key:0,class:"duration-item"},rs={class:"duration-value"},ls={class:"duration-item"},ds={class:"duration-value"},cs={class:"horizontal-clock-container"},us={class:"time-markers"},ms={class:"marker-time"},vs={class:"time-progress-bar"},gs={key:0,class:"current-time-indicator"},hs={class:"time-tooltip"},fs={class:"time-progress-info"},bs={class:"progress-left"},ys={class:"progress-time"},xs={class:"progress-right"},ps={class:"progress-percentage"},ks={class:"journey-overview-section"},ws={class:"journey-milestones"},$s={class:"milestone-grid"},Ss={class:"milestone-card"},Ts={class:"milestone-icon"},As={class:"milestone-content"},Cs={class:"milestone-value"},Is={class:"milestone-sublabel"},Ms={class:"milestone-card"},Bs={class:"milestone-icon"},js={class:"milestone-content"},Ds={class:"milestone-value"},Ps={class:"milestone-card"},Rs={class:"milestone-icon"},Ns={class:"milestone-content"},Es={class:"milestone-value"},Os={class:"milestone-card"},Us={class:"milestone-icon"},Vs={class:"milestone-content"},Ls={class:"milestone-value"},zs={class:"performance-stats"},Hs={class:"stats-grid"},Ws={class:"stat-card primary"},qs={class:"stat-header"},Fs={class:"stat-value"},Ks={class:"stat-card success"},Gs={class:"stat-header"},Qs={class:"stat-value"},Xs={class:"stat-card info"},Ys={class:"stat-header"},Js={class:"stat-value"},Zs={class:"stat-card warning"},_s={class:"stat-header"},ea={class:"consistency-score"},ta={class:"stat-value"},sa={key:0,class:"achievements-section"},aa={class:"achievements-grid"},na={class:"achievement-summary"},oa={class:"achievement-count"},ia={class:"recent-achievements"},ra={class:"achievement-text"},la={class:"growth-progress"},da={class:"progress-items"},ca={class:"progress-item"},ua={class:"progress-header"},ma={class:"progress-value"},va={class:"progress-bar"},ga={class:"enhanced-dashboard-content"},ha={class:"content-grid"},fa={class:"activity-section"},ba={class:"activity-cards"},ya={class:"activity-card communication-card"},xa={class:"card-header"},pa={class:"card-icon communication-icon"},ka={class:"actions-section"},wa={class:"section-header"},$a={class:"header-content"},Sa={class:"quick-actions-grid"},Ta=["onClick"],Aa={class:"action-icon"},Ca={class:"action-content"},Ia={class:"action-title"},Ma={class:"action-description"},Ba={class:"birthday-section"},ja={__name:"EmployeeDashboard",props:{stats:{type:Object,default:()=>({hoursToday:0,tasksCompleted:0,leaveBalance:0,upcomingDeadlines:0,taskTrend:0,daysWithCompany:0,yearsOfService:0,monthsWithCompany:0,totalWorkHours:0,projectsContributed:0,performanceRank:"N/A",myAverageRating:"N/A",attendanceRate:0,myWorkReports:0,mySuccessfulCalls:0,consistencyScore:0,totalAchievements:0,recentAchievements:[],performanceTrend:0,attendanceTrend:0,productivityTrend:0,competencyProgress:0})},personalActivities:{type:Array,default:()=>[]},myTasks:{type:Array,default:()=>[]},recentFeedback:{type:Array,default:()=>[]},clockedIn:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},currentAttendance:{type:Object,default:()=>({clocked_in:!1,on_break:!1,clock_in_time:null,break_sessions:[],current_break_start:null,todays_summary:{total_hours:"0h 0m",break_time:"0h 0m",sessions:0,clock_ins:0},recent_activities:[],stats:{weekly_hours:"0h 0m",monthly_hours:"0h 0m",average_daily:"0h 0m"}})},birthdayNotifications:{type:Object,default:()=>({todaysBirthdays:[],upcomingBirthdays:[],stats:{}})}},emits:["clock-in-out","toggle-task","action","view-task"],setup(t,{emit:R}){const a=t,k=R;Ne();const l=N(new Date),S=N(""),j=N("0h 0m 0s"),I=N("0h 0m 0s"),f=N(null),v=N({clockedIn:!1,onBreak:!1,clockInTime:null,breakStartTime:null,lastUpdated:null});let $=null;const c=T(()=>{var s;const n=a.clockedIn||a.currentAttendance&&a.currentAttendance.clocked_in;return v.value.lastUpdated&&Date.now()-v.value.lastUpdated<15e3?(console.log("🔍 Using local state for immediate feedback:",v.value.clockedIn),v.value.clockedIn):(console.log("🔍 isCurrentlyClockedIn computed from props:",{propsClockedIn:a.clockedIn,currentAttendanceClockedIn:(s=a.currentAttendance)==null?void 0:s.clocked_in,result:n}),n)}),h=T(()=>v.value.lastUpdated&&Date.now()-v.value.lastUpdated<15e3?v.value.onBreak:a.currentAttendance&&a.currentAttendance.on_break),G=T(()=>c.value?"Clock Out":"Clock In"),M=T(()=>["inline-flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c.value?"text-white bg-error-600 border border-error-600 hover:bg-error-700 focus:ring-error-500":"text-white bg-success-600 border border-success-600 hover:bg-success-700 focus:ring-success-500"]),Y=T(()=>l.value.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})),H=T(()=>{var s;return!c.value||!((s=a.currentAttendance)==null?void 0:s.clock_in_time)?"before-work":"during-work"}),J=T(()=>{var V;if(!c.value)return console.log("🔍 Progress: Not clocked in, returning 0%"),0;const n=v.value.clockInTime||((V=a.currentAttendance)==null?void 0:V.clock_in_time);if(!n)return console.log("🔍 Progress: No clock in time, returning 0%"),0;const s=l.value,u=new Date(n);if(s<u)return console.log("🔍 Progress: Current time before clock in, returning 0%"),0;const A=(s.getTime()-u.getTime())/(1e3*60*60),P=A/8*100,p=Math.min(100,Math.max(0,P));return console.log("🔍 Progress calculation:",{clockInTime:n,now:s.toISOString(),workTimeElapsedHours:A.toFixed(2),percentage:P.toFixed(2),finalPercentage:p.toFixed(2)}),p}),xe=T(()=>{const n=Math.round(J.value);switch(H.value){case"before-work":return c.value?"Work session starting":"Ready to clock in";case"after-work":return"Workday complete!";case"during-work":return`${n}% of workday`;default:return`${n}% of workday`}}),Z=T(()=>{switch(H.value){case"before-work":return"Pre-work";case"after-work":return"Complete";case"during-work":return"Active";default:return"Active"}}),_=T(()=>[{label:"8 AM",isLunch:!1},{label:"9",isLunch:!1},{label:"10",isLunch:!1},{label:"11",isLunch:!1},{label:"12 PM",isLunch:!0},{label:"1",isLunch:!1},{label:"2",isLunch:!1},{label:"3",isLunch:!1},{label:"4",isLunch:!1},{label:"5 PM",isLunch:!1}]),pe=T(()=>{var V;if(!c.value)return 0;const n=v.value.clockInTime||((V=a.currentAttendance)==null?void 0:V.clock_in_time);if(!n)return 0;const s=l.value,u=new Date(s);u.setHours(8,0,0,0);const y=new Date(s);y.setHours(17,0,0,0);const A=new Date(n),O=y.getTime()-u.getTime(),P=A.getTime()-u.getTime(),p=Math.max(0,P/O*100);return Math.min(100,p)}),ae=T(()=>{var ce;if(!c.value)return console.log("🔍 ProgressWidth: Not clocked in, returning 0"),0;const n=v.value.clockInTime||((ce=a.currentAttendance)==null?void 0:ce.clock_in_time);if(!n)return console.log("🔍 ProgressWidth: No clock in time, returning 0"),0;const s=l.value,u=new Date(s);u.setHours(8,0,0,0);const y=new Date(s);y.setHours(17,0,0,0);const A=new Date(n),O=y.getTime()-u.getTime();if(s<A)return console.log("🔍 ProgressWidth: Current time before clock in, returning 0"),0;const P=s.getTime()-u.getTime(),p=Math.min(100,Math.max(0,P/O*100)),V=A.getTime()-u.getTime(),re=Math.max(0,V/O*100),le=p-re,de=Math.max(0,le);return console.log("🔍 ProgressWidth calculation:",{clockInTime:n,timelineStart:u.toISOString(),timelineEnd:y.toISOString(),currentPositionPercent:p.toFixed(2),clockInPositionPercent:re.toFixed(2),width:le.toFixed(2),finalWidth:de.toFixed(2)}),de}),ne=T(()=>{var V;if(!c.value)return 0;const n=v.value.clockInTime||((V=a.currentAttendance)==null?void 0:V.clock_in_time);if(!n)return 0;const s=l.value,u=new Date(s);u.setHours(8,0,0,0);const y=new Date(s);y.setHours(17,0,0,0);const A=new Date(n),O=y.getTime()-u.getTime(),P=A.getTime()-u.getTime(),p=Math.max(0,P/O*100);return Math.min(100,p)}),ke=T(()=>{var P;if(!c.value)return[];const n=l.value,s=new Date(n);s.setHours(8,0,0,0);const u=new Date(n);u.setHours(17,0,0,0);const y=u.getTime()-s.getTime(),A=[];if((((P=a.currentAttendance)==null?void 0:P.break_sessions)||[]).forEach(p=>{p.start&&A.push({start:p.start,end:p.end,isOngoing:!1})}),h.value&&(v.value.breakStartTime||f.value)){const p=v.value.breakStartTime||f.value;A.push({start:p,end:null,isOngoing:!0})}if(a.currentAttendance&&a.currentAttendance.on_break){let p=null;a.currentAttendance.current_break_start?p=a.currentAttendance.current_break_start:f.value&&(p=f.value),p&&A.push({start:p,end:null,isOngoing:!0})}return A.length===0?[]:A.map((p,V)=>{const re=new Date(p.start),le=p.end?new Date(p.end):n,de=re.getTime()-s.getTime(),ce=le.getTime()-s.getTime(),Ie=Math.max(0,de/y*100),He=Math.min(100,ce/y*100),We=Math.max(0,He-Ie);return{left:Ie,width:We,isOngoing:p.isOngoing}}).filter(p=>p.width>0)}),b=T(()=>[{id:"submit-work-report",label:"Submit Work Report",description:"Record your daily communication activities",icon:Be,variant:"primary",route:"work-reports.create"},{id:"my-assessments",label:"My Assessments",description:"View and complete competency assessments",icon:be,variant:"secondary",route:"competency-assessments.my-assessments"},{id:"request-leave",label:"Request Leave",description:"Submit a new leave request",icon:Ye,variant:"secondary",route:"leaves.create"},{id:"assessment-dashboard",label:"Assessment Dashboard",description:"View assessment overview and analytics",icon:he,variant:"success",route:"assessment-dashboard"},{id:"employee-handbook",label:"Employee Handbook",description:"Learn how to use the system effectively",icon:_e,variant:"info",route:"employee-handbook"}]),i=()=>{const n="text-xs font-medium px-2 py-1 rounded-full";switch(H.value){case"before-work":return`${n} bg-neutral-100 text-neutral-600`;case"after-work":return`${n} bg-success-100 text-success-700`;case"during-work":return`${n} bg-primary-100 text-primary-700`;default:return`${n} bg-primary-100 text-primary-700`}},B=()=>{const n="flex items-center space-x-2";switch(H.value){case"before-work":return`${n} text-neutral-600`;case"after-work":return`${n} text-success-700`;case"during-work":return a.currentAttendance&&a.currentAttendance.on_break?`${n} text-warning-700`:`${n} text-primary-700`;default:return`${n} text-primary-700`}},U=()=>{const n=new Date;l.value=n,S.value=n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},D=()=>{var s;const n=v.value.clockInTime||((s=a.currentAttendance)==null?void 0:s.clock_in_time);if(c.value&&n){const u=new Date(n),A=new Date-u,O=Math.floor(A/(1e3*60*60)),P=Math.floor(A%(1e3*60*60)/(1e3*60)),p=Math.floor(A%(1e3*60)/1e3);j.value=`${O}h ${P}m ${p}s`}else j.value="0h 0m 0s";if(a.currentAttendance&&a.currentAttendance.on_break){let u=null;if(a.currentAttendance.current_break_start)u=new Date(a.currentAttendance.current_break_start);else if(f.value)u=new Date(f.value);else if(a.currentAttendance.break_sessions&&a.currentAttendance.break_sessions.length>0){const y=a.currentAttendance.break_sessions[a.currentAttendance.break_sessions.length-1];y&&!y.end&&(u=new Date(y.start))}if(u&&!isNaN(u.getTime())){const A=Math.max(0,new Date-u),O=Math.floor(A/(1e3*60*60)),P=Math.floor(A%(1e3*60*60)/(1e3*60)),p=Math.floor(A%(1e3*60)/1e3);I.value=`${O}h ${P}m ${p}s`,f.value||(f.value=u.toISOString())}else f.value||(f.value=new Date().toISOString()),I.value="0h 0m 1s"}else I.value="0h 0m 0s",f.value=null},E=async()=>{var n;try{console.log("🔍 EmployeeDashboard: Clock in/out button clicked"),console.log("🔍 Current state:",{isCurrentlyClockedIn:c.value,clockedIn:a.clockedIn,currentAttendanceClockedIn:(n=a.currentAttendance)==null?void 0:n.clocked_in});const s=!c.value;v.value={clockedIn:s,onBreak:!1,clockInTime:s?new Date().toISOString():null,breakStartTime:null,lastUpdated:Date.now()},console.log("🚀 Updated local state for immediate feedback:",v.value),k("clock-in-out"),setTimeout(()=>{const u=new CustomEvent("attendance-state-changed",{detail:{clockedIn:s,onBreak:!1,clockInTime:s?new Date().toISOString():null,breakStartTime:null,timestamp:Date.now()}});window.dispatchEvent(u)},100)}catch(s){console.error("Clock in/out failed:",s),v.value.lastUpdated=null}},C=async()=>{try{const n=new Date().toISOString();f.value=n,v.value={clockedIn:!0,onBreak:!0,clockInTime:a.currentAttendance&&a.currentAttendance.clock_in_time||v.value.clockInTime,breakStartTime:n,lastUpdated:Date.now()},k("action",{type:"take-break"}),setTimeout(()=>{const s=new CustomEvent("attendance-state-changed",{detail:{clockedIn:!0,onBreak:!0,clockInTime:a.currentAttendance&&a.currentAttendance.clock_in_time||null,breakStartTime:n,timestamp:Date.now()}});window.dispatchEvent(s)},100)}catch(n){console.error("Take break failed:",n),v.value.lastUpdated=null}},oe=async()=>{try{v.value={clockedIn:!0,onBreak:!1,clockInTime:a.currentAttendance&&a.currentAttendance.clock_in_time||v.value.clockInTime,breakStartTime:null,lastUpdated:Date.now()},f.value=null,k("action",{type:"end-break"}),setTimeout(()=>{const n=new CustomEvent("attendance-state-changed",{detail:{clockedIn:!0,onBreak:!1,clockInTime:a.currentAttendance&&a.currentAttendance.clock_in_time||null,breakStartTime:null,timestamp:Date.now()}});window.dispatchEvent(n)},100)}catch(n){console.error("End break failed:",n),v.value.lastUpdated=null}},Ve=(n,s)=>{const u=Number(n)||0,y=Number(s)||0;return u>0?`${u} year${u>1?"s":""}, ${y} month${y>1?"s":""}`:`${y} month${y>1?"s":""}`},ie=n=>{const s=Number(n)||0;return s>0?`+${s}%`:s<0?`${s}%`:"0%"},we=n=>{const s=Number(n)||0;return s===0?"neutral":s>0?"positive":"negative"},Le=n=>{k("action",n)},ze=async()=>{try{const s=(await window.axios.get("/api/attendance/current")).data;v.value={clockedIn:s.clocked_in,onBreak:s.on_break,clockInTime:s.clock_in_time,breakStartTime:s.break_start_time,lastUpdated:Date.now()},console.log("🔄 Fresh status fetched:",s)}catch(n){console.error("Failed to fetch fresh status:",n)}};return Te(()=>a.currentAttendance,n=>{n&&(v.value.lastUpdated=null,console.log("🔄 Props updated, clearing local state. New attendance:",n))},{deep:!0}),Te(()=>a.clockedIn,n=>{v.value.lastUpdated=null,console.log("🔄 clockedIn prop updated:",n)}),Ce(async()=>{U(),D(),await ze(),$=setInterval(()=>{U(),D()},1e3)}),Re(()=>{$&&clearInterval($)}),(n,s)=>(d(),m("div",zt,[e("div",Ht,[e("div",Wt,[e("p",qt,[g(o($e),{class:"w-5 h-5 inline-block mr-2 text-yellow-500"}),s[0]||(s[0]=L(" Ready to tackle today's challenges? "))])]),e("div",Ft,[e("button",{onClick:E,disabled:t.loading,class:x(M.value)},[g(o(te),{class:"w-4 h-4"}),L(" "+r(G.value),1)],10,Kt),c.value&&!h.value?(d(),m("button",{key:0,onClick:C,disabled:t.loading,class:"break-button"},[g(o(Ge),{class:"w-4 h-4"}),s[1]||(s[1]=L(" Take Break "))],8,Gt)):w("",!0),c.value&&h.value?(d(),m("button",{key:1,onClick:oe,disabled:t.loading,class:"end-break-button"},[g(o(Qe),{class:"w-4 h-4"}),s[2]||(s[2]=L(" End Break "))],8,Qt)):w("",!0)])]),e("div",Xt,[e("div",Yt,[e("div",Jt,[e("div",Zt,r(Y.value),1),e("div",_t,r(S.value),1)]),e("div",es,[e("div",{class:x(["status-indicator",B()])},[s[3]||(s[3]=e("div",{class:"status-dot"},null,-1)),e("span",ts,r(Z.value),1)],2)])]),e("div",ss,[e("div",as,[e("div",ns,[s[4]||(s[4]=e("div",{class:"duration-label"},"Work Time",-1)),e("div",os,r(j.value),1)]),h.value?(d(),m("div",is,[s[5]||(s[5]=e("div",{class:"duration-label"},"Break Time",-1)),e("div",rs,r(I.value),1)])):w("",!0),e("div",ls,[s[6]||(s[6]=e("div",{class:"duration-label"},"Progress",-1)),e("div",ds,r(Math.round(J.value))+"%",1)])]),e("div",cs,[e("div",us,[(d(!0),m(q,null,K(_.value,(u,y)=>(d(),m("div",{key:y,class:x(["time-marker",{"start-marker":y===0,"end-marker":y===_.value.length-1,"lunch-marker":u.isLunch,"regular-marker":!u.isLunch&&y!==0&&y!==_.value.length-1}])},[s[7]||(s[7]=e("div",{class:"marker-line"},null,-1)),e("span",ms,r(u.label),1)],2))),128))]),e("div",vs,[s[9]||(s[9]=e("div",{class:"progress-bar-shimmer"},null,-1)),c.value&&ne.value>0?(d(),m("div",{key:0,class:"pre-work-fill",style:ue({width:`${ne.value}%`,transition:"width 0.5s ease-out"})},null,4)):w("",!0),c.value&&ae.value>0?(d(),m("div",{key:1,class:"work-progress-fill",style:ue({left:`${pe.value}%`,width:`${ae.value}%`,transition:"width 0.5s ease-out, left 0.5s ease-out"})},[H.value==="during-work"?(d(),m("div",gs,[s[8]||(s[8]=e("div",{class:"time-dot"},null,-1)),e("div",hs,r(Y.value),1)])):w("",!0)],4)):w("",!0),(d(!0),m(q,null,K(ke.value,(u,y)=>(d(),m("div",{key:`break-${y}`,class:x(["break-time-fill",{"ongoing-break":u.isOngoing}]),style:ue({left:`${u.left}%`,width:`${u.width}%`})},null,6))),128))]),e("div",fs,[e("div",bs,[e("span",ys,r(Y.value),1),e("span",{class:x(["progress-status",i()])},r(Z.value),3)]),e("div",xs,[e("span",ps,r(xe.value),1)])])])])]),e("div",ks,[e("div",ws,[s[17]||(s[17]=e("h3",{class:"section-title"},"Your Journey",-1)),e("div",$s,[e("div",Ss,[e("div",Ts,[g(o(Je),{class:"w-6 h-6 text-blue-600"})]),e("div",As,[e("div",Cs,r(Math.floor(t.stats.daysWithCompany||0)),1),s[10]||(s[10]=e("div",{class:"milestone-label"},"Days with Company",-1)),e("div",Is,r(Ve(Math.floor(t.stats.yearsOfService||0),Math.floor(t.stats.monthsWithCompany||0))),1)])]),e("div",Ms,[e("div",Bs,[g(o(te),{class:"w-6 h-6 text-green-600"})]),e("div",js,[e("div",Ds,r(t.stats.totalWorkHours||0)+"h",1),s[11]||(s[11]=e("div",{class:"milestone-label"},"Total Work Hours",-1)),s[12]||(s[12]=e("div",{class:"milestone-sublabel"},"Lifetime contribution",-1))])]),e("div",Ps,[e("div",Rs,[g(o(se),{class:"w-6 h-6 text-purple-600"})]),e("div",Ns,[e("div",Es,r(t.stats.projectsContributed||0),1),s[13]||(s[13]=e("div",{class:"milestone-label"},"Projects",-1)),s[14]||(s[14]=e("div",{class:"milestone-sublabel"},"Cross-functional work",-1))])]),e("div",Os,[e("div",Us,[g(o(Ze),{class:"w-6 h-6 text-yellow-600"})]),e("div",Vs,[e("div",Ls,r(t.stats.performanceRank||"N/A"),1),s[15]||(s[15]=e("div",{class:"milestone-label"},"Performance Rank",-1)),s[16]||(s[16]=e("div",{class:"milestone-sublabel"},"Among peers",-1))])])])]),e("div",zs,[s[22]||(s[22]=e("h3",{class:"section-title"},"Performance & Growth",-1)),e("div",Hs,[e("div",Ws,[e("div",qs,[g(o(be),{class:"w-5 h-5"}),e("span",{class:x(["stat-trend",we(t.stats.performanceTrend)])},r(ie(t.stats.performanceTrend)),3)]),e("div",Fs,r(t.stats.myAverageRating||"N/A"),1),s[18]||(s[18]=e("div",{class:"stat-label"},"Avg Rating",-1))]),e("div",Ks,[e("div",Gs,[g(o(Be),{class:"w-5 h-5"}),e("span",{class:x(["stat-trend",we(t.stats.attendanceTrend)])},r(ie(t.stats.attendanceTrend)),3)]),e("div",Qs,r(isNaN(t.stats.attendanceRate)?"N/A":Math.round(t.stats.attendanceRate||0)+"%"),1),s[19]||(s[19]=e("div",{class:"stat-label"},"Attendance Rate",-1))]),e("div",Xs,[e("div",Ys,[g(o(se),{class:"w-5 h-5"}),e("span",{class:x(["stat-trend",we(t.stats.productivityTrend)])},r(ie(t.stats.productivityTrend)),3)]),e("div",Js,r(t.stats.myWorkReports||0),1),s[20]||(s[20]=e("div",{class:"stat-label"},"Work Reports",-1))]),e("div",Zs,[e("div",_s,[g(o($e),{class:"w-5 h-5"}),e("span",ea,r(Math.round(t.stats.consistencyScore||0))+"%",1)]),e("div",ta,r(t.stats.mySuccessfulCalls||0),1),s[21]||(s[21]=e("div",{class:"stat-label"},"Successful Calls",-1))])])]),t.stats.totalAchievements>0?(d(),m("div",sa,[s[25]||(s[25]=e("h3",{class:"section-title"},"Achievements & Recognition",-1)),e("div",aa,[e("div",na,[e("div",oa,r(t.stats.totalAchievements),1),s[23]||(s[23]=e("div",{class:"achievement-label"},"Total Achievements",-1))]),e("div",ia,[(d(!0),m(q,null,K(t.stats.recentAchievements,u=>(d(),m("div",{key:u,class:"achievement-item"},[s[24]||(s[24]=e("div",{class:"achievement-badge"},"🏆",-1)),e("span",ra,r(u),1)]))),128))])])])):w("",!0),e("div",la,[s[27]||(s[27]=e("h3",{class:"section-title"},"Development Progress",-1)),e("div",da,[e("div",ca,[e("div",ua,[s[26]||(s[26]=e("span",{class:"progress-label"},"Competency Progress",-1)),e("span",ma,r(ie(t.stats.competencyProgress)),1)]),e("div",va,[e("div",{class:"progress-fill",style:ue({width:Math.abs(t.stats.competencyProgress||0)+"%"})},null,4)])])])])]),e("div",ga,[e("div",ha,[e("div",fa,[e("div",ba,[e("div",ya,[e("div",xa,[e("div",pa,[g(o(at),{class:"w-5 h-5"})]),s[28]||(s[28]=e("div",{class:"card-info"},[e("h4",{class:"card-title"},"Communication Tips"),e("p",{class:"card-count"},"Daily insights")],-1))]),s[29]||(s[29]=Se('<div class="tips-content" data-v-6c75f474><div class="tip-item" data-v-6c75f474><div class="tip-icon" data-v-6c75f474><svg class="w-4 h-4 text-blue-500" fill="currentColor" viewBox="0 0 20 20" data-v-6c75f474><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" data-v-6c75f474></path></svg></div><span class="tip-text" data-v-6c75f474>Active listening builds trust with clients</span></div><div class="tip-item" data-v-6c75f474><div class="tip-icon" data-v-6c75f474><svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20" data-v-6c75f474><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" data-v-6c75f474></path></svg></div><span class="tip-text" data-v-6c75f474>Ask open-ended questions to understand needs</span></div><div class="tip-item" data-v-6c75f474><div class="tip-icon" data-v-6c75f474><svg class="w-4 h-4 text-purple-500" fill="currentColor" viewBox="0 0 20 20" data-v-6c75f474><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" data-v-6c75f474></path></svg></div><span class="tip-text" data-v-6c75f474>Show empathy for client concerns</span></div></div>',1))]),s[30]||(s[30]=Se('<div class="activity-card callflow-card" data-v-6c75f474><div class="card-header" data-v-6c75f474><div class="card-icon callflow-icon" data-v-6c75f474><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" data-v-6c75f474><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" data-v-6c75f474></path></svg></div><div class="card-info" data-v-6c75f474><h4 class="card-title" data-v-6c75f474>Call Process</h4><p class="card-count" data-v-6c75f474>Best practices</p></div></div><div class="process-steps" data-v-6c75f474><div class="step-item" data-v-6c75f474><div class="step-number" data-v-6c75f474>1</div><span class="step-text" data-v-6c75f474>Warm greeting &amp; introduction</span></div><div class="step-item" data-v-6c75f474><div class="step-number" data-v-6c75f474>2</div><span class="step-text" data-v-6c75f474>Identify client needs &amp; pain points</span></div><div class="step-item" data-v-6c75f474><div class="step-number" data-v-6c75f474>3</div><span class="step-text" data-v-6c75f474>Present tailored tax solutions</span></div><div class="step-item" data-v-6c75f474><div class="step-number" data-v-6c75f474>4</div><span class="step-text" data-v-6c75f474>Handle objections professionally</span></div><div class="step-item" data-v-6c75f474><div class="step-number" data-v-6c75f474>5</div><span class="step-text" data-v-6c75f474>Close with clear next steps</span></div></div></div>',1))])]),e("div",ka,[e("div",wa,[e("div",$a,[g(o($e),{class:"w-6 h-6 text-purple-600"}),s[31]||(s[31]=e("div",null,[e("h3",{class:"section-title"},"Quick Actions"),e("p",{class:"section-subtitle"},"Fast access to common tasks")],-1))])]),e("div",Sa,[(d(!0),m(q,null,K(b.value,u=>(d(),m("button",{key:u.id,onClick:y=>Le(u),class:x(["action-button",u.variant])},[e("div",Aa,[(d(),F(ye(u.icon),{class:"w-6 h-6"}))]),e("div",Ca,[e("h4",Ia,r(u.label),1),e("p",Ma,r(u.description),1)]),s[32]||(s[32]=e("div",{class:"action-arrow"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))],10,Ta))),128))])]),e("div",Ba,[g(Ue,{"todays-birthdays":t.birthdayNotifications.todaysBirthdays,"upcoming-birthdays":t.birthdayNotifications.upcomingBirthdays,stats:t.birthdayNotifications.stats},null,8,["todays-birthdays","upcoming-birthdays","stats"])])])])]))}},Da=Oe(ja,[["__scopeId","data-v-6c75f474"]]),Pa={class:"p-6 text-center"},Ra={class:"mb-4"},Na={class:"w-20 h-20 bg-gradient-to-br from-pink-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-3"},Ea={class:"text-2xl font-bold text-purple-700"},Oa={class:"text-xl font-semibold text-gray-900 mb-1"},Ua={class:"text-gray-600 text-sm"},Va={class:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg p-4 mb-6"},La={class:"flex items-center justify-center space-x-2 text-purple-700"},za={class:"font-medium"},Ha={class:"bg-gray-50 px-6 py-4 text-center border-t border-gray-100"},Wa={class:"flex justify-center"},qa={__name:"BirthdayPopup",props:{show:{type:Boolean,default:!1},employee:{type:Object,required:!0}},emits:["close"],setup(t,{emit:R}){const a=t,k=R,l=N(null);let S=null;const j=$=>$.split(" ").map(c=>c.charAt(0).toUpperCase()).join("").substring(0,2),I=()=>{f()},f=()=>{k("close")};class v{constructor(c){this.canvas=c,this.ctx=c.getContext("2d"),this.particles=[],this.colors=["#ff6b9d","#c44569","#f8b500","#feca57","#ff9ff3","#54a0ff","#5f27cd","#00d2d3"],this.isRunning=!1,this.resize(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}createParticle(c,h){return{x:c||Math.random()*this.canvas.width,y:h||-10,vx:(Math.random()-.5)*8,vy:Math.random()*-8-2,gravity:.3,friction:.99,size:Math.random()*8+4,color:this.colors[Math.floor(Math.random()*this.colors.length)],rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*10,life:1,decay:Math.random()*.02+.01,shape:Math.random()>.5?"circle":"square"}}burst(){const c=this.canvas.width/2,h=this.canvas.height/2;for(let G=0;G<50;G++){const M=this.createParticle(c+(Math.random()-.5)*100,h+(Math.random()-.5)*100);M.vx=(Math.random()-.5)*15,M.vy=(Math.random()-.5)*15,this.particles.push(M)}}start(){this.isRunning=!0,this.burst(),this.particleInterval=setInterval(()=>{if(this.particles.length<100)for(let c=0;c<3;c++)this.particles.push(this.createParticle())},100),this.animate()}stop(){this.isRunning=!1,this.particleInterval&&clearInterval(this.particleInterval)}animate(){if(this.isRunning){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let c=this.particles.length-1;c>=0;c--){const h=this.particles[c];if(h.vy+=h.gravity,h.vx*=h.friction,h.vy*=h.friction,h.x+=h.vx,h.y+=h.vy,h.rotation+=h.rotationSpeed,h.life-=h.decay,h.life<=0||h.y>this.canvas.height+50||h.x<-50||h.x>this.canvas.width+50){this.particles.splice(c,1);continue}this.ctx.save(),this.ctx.translate(h.x,h.y),this.ctx.rotate(h.rotation*Math.PI/180),this.ctx.globalAlpha=h.life,this.ctx.fillStyle=h.color,h.shape==="circle"?(this.ctx.beginPath(),this.ctx.arc(0,0,h.size/2,0,Math.PI*2),this.ctx.fill()):this.ctx.fillRect(-h.size/2,-h.size/2,h.size,h.size),this.ctx.restore()}requestAnimationFrame(()=>this.animate())}}}return Ce(async()=>{a.show&&(await Me(),l.value&&(S=new v(l.value),S.start()))}),Re(()=>{S&&S.stop()}),Te(()=>a.show,async $=>{$?(await Me(),l.value&&!S?(S=new v(l.value),S.start()):S&&S.start()):S&&S.stop()}),($,c)=>(d(),F(qe,{to:"body"},[t.show?(d(),m("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",onClick:I},[e("canvas",{ref_key:"confettiCanvas",ref:l,class:"absolute inset-0 w-full h-full pointer-events-none"},null,512),e("div",{class:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden transform transition-all duration-300 scale-100",onClick:c[0]||(c[0]=Ae(()=>{},["stop"]))},[c[4]||(c[4]=e("div",{class:"bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 p-6 text-center text-white relative"},[e("div",{class:"absolute inset-0 bg-gradient-to-r from-pink-400/20 via-purple-400/20 to-indigo-400/20"}),e("div",{class:"relative z-10"},[e("div",{class:"text-6xl mb-2 animate-bounce"},"🎉"),e("h2",{class:"text-2xl font-bold mb-1"},"Happy Birthday!"),e("p",{class:"text-pink-100 text-sm"},"Wishing you a wonderful day from the team")])],-1)),e("div",Pa,[e("div",Ra,[e("div",Na,[e("span",Ea,r(j(t.employee.user.name)),1)]),e("h3",Oa,r(t.employee.user.name),1),e("p",Ua,r(t.employee.job_title||"Team Member"),1)]),e("div",Va,[e("div",La,[c[1]||(c[1]=e("span",{class:"text-2xl"},"🎂",-1)),e("span",za,r(t.employee.age?`Turning ${t.employee.age} today!`:"Celebrating another year!"),1)])]),c[2]||(c[2]=e("div",{class:"text-gray-600 text-sm mb-6 leading-relaxed"}," Hope your special day is filled with happiness, laughter, and all your favorite things! Thank you for being such an amazing part of our Xonobics family. 🌟 ",-1)),c[3]||(c[3]=e("div",{class:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 mb-6 border border-blue-100"},[e("div",{class:"flex items-center justify-center space-x-2 text-blue-700 mb-2"},[e("span",{class:"text-lg"},"🎊"),e("span",{class:"font-semibold text-sm"},"From all of us at Xonobics")]),e("p",{class:"text-xs text-blue-600 text-center"}," May this new year of your life bring you joy, success, and wonderful memories! ")],-1)),e("div",{class:"flex justify-center"},[e("button",{onClick:f,class:"bg-gradient-to-r from-pink-500 to-purple-500 text-white px-8 py-3 rounded-lg font-medium hover:from-pink-600 hover:to-purple-600 transition-all duration-200 shadow-lg"}," Thank You! 🎉 ")])]),e("div",Ha,[e("div",Wa,[g(et,{class:"h-12 w-auto opacity-80"})])]),c[5]||(c[5]=e("div",{class:"absolute top-4 left-4 text-yellow-400 animate-pulse"},"✨",-1)),c[6]||(c[6]=e("div",{class:"absolute top-6 right-6 text-pink-400 animate-pulse"},"🎈",-1)),c[7]||(c[7]=e("div",{class:"absolute bottom-4 left-6 text-purple-400 animate-pulse"},"🎁",-1)),c[8]||(c[8]=e("div",{class:"absolute bottom-6 right-4 text-indigo-400 animate-pulse"},"🌟",-1))])])):w("",!0)]))}},Fa=Oe(qa,[["__scopeId","data-v-fbfd257d"]]),Ka={class:"flex space-x-3"},Ga=["onClick","disabled"],Qa={key:0,class:"space-y-6"},Xa={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Ya={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Ja={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Za={class:"lg:col-span-2 space-y-4"},_a={class:"grid grid-cols-3 gap-4 text-center"},en={class:"p-4 bg-yellow-50 rounded-lg"},tn={class:"text-2xl font-bold text-yellow-600"},sn={class:"p-4 bg-blue-50 rounded-lg"},an={class:"text-2xl font-bold text-blue-600"},nn={class:"p-4 bg-purple-50 rounded-lg"},on={class:"text-2xl font-bold text-purple-600"},rn={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},ln={class:"text-center p-4 bg-green-50 rounded-xl border border-green-100"},dn={class:"text-2xl font-bold text-green-600"},cn={class:"text-center p-4 bg-orange-50 rounded-xl border border-orange-100"},un={class:"text-2xl font-bold text-orange-600"},mn={class:"text-center p-4 bg-purple-50 rounded-xl border border-purple-100"},vn={class:"text-2xl font-bold text-purple-600"},gn={class:"text-center p-4 bg-blue-50 rounded-xl border border-blue-100"},hn={class:"text-2xl font-bold text-blue-600"},fn={class:"lg:col-span-1 space-y-4"},bn={class:"space-y-3"},yn={class:"flex items-center"},xn={class:"flex items-center"},pn={class:"flex items-center"},kn={class:"flex items-center"},wn={class:"flex items-center"},$n={class:"space-y-3"},Sn={class:"flex items-center justify-between"},Tn={class:"text-sm font-medium text-gray-900"},An={key:1,class:"employee-layout"},Cn={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},In={class:"lg:col-span-3"},Mn={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},Bn={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},jn={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Dn={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Pn={class:"sm:flex sm:items-start"},Rn={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},Nn={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1"},En={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},On={class:"space-y-4"},Un={class:"text-sm text-gray-600 mb-2"},Vn={class:"text-sm text-gray-600 mb-4"},Ln={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},zn=["disabled"],so={__name:"Dashboard",props:{adminStats:{type:Object,default:()=>({})},managerStats:{type:Object,default:()=>({})},employeeStats:{type:Object,default:()=>({})},pendingApprovals:{type:Array,default:()=>[]},teamMembers:{type:Array,default:()=>[]},teamPerformance:{type:Object,default:()=>({})},teamActivities:{type:Array,default:()=>[]},personalActivities:{type:Array,default:()=>[]},myTasks:{type:Array,default:()=>[]},recentFeedback:{type:Array,default:()=>[]},clockedIn:{type:Boolean,default:!1},currentAttendance:{type:Object,default:null},birthdayData:{type:Object,default:()=>({todaysBirthdays:[],upcomingBirthdays:[],stats:{}})}},setup(t){const R=t,{user:a,roles:k}=Ne(),l=N(!1),S=N(!1),j=N(null),I=N(""),f=N(!1),v=T(()=>{const b=Array.isArray(k.value)&&k.value.includes("Admin");return console.log("Dashboard - User:",a.value),console.log("Dashboard - Roles:",k.value),console.log("Dashboard - Is Admin:",b),b}),$=T(()=>Array.isArray(k.value)&&(k.value.includes("Manager")||k.value.includes("HR"))&&!v.value),c=T(()=>v.value?"Admin Dashboard":$.value?"Manager Dashboard":"My Dashboard"),h=T(()=>v.value?"System overview and administrative management tools":$.value?"Team management and performance overview":"Your personal workspace and activities");T(()=>new Date().toLocaleTimeString());const G=T(()=>{const b=[{id:"refresh",label:"Refresh",icon:"ArrowPathIcon",handler:H,disabled:l.value}];return v.value&&b.unshift({id:"settings",label:"System Settings",icon:"CogIcon",handler:()=>M("admin.roles.index")},{id:"reports",label:"View Reports",icon:"ChartBarIcon",handler:()=>M("reports.index"),primary:!0}),b}),M=b=>{try{ge.visit(route(b))}catch(i){console.error("Navigation error:",i)}},Y=b=>({ArrowPathIcon:st,CogIcon:Pe,ChartBarIcon:se,ClockIcon:te})[b]||te,H=async()=>{l.value=!0;try{await ge.reload({only:["adminStats","managerStats","employeeStats","pendingApprovals"]})}catch(b){console.error("Refresh error:",b)}finally{l.value=!1}},J=()=>{S.value=!1,j.value=null,I.value=""},xe=async()=>{var b,i,B,U;l.value=!0;try{const E=(await Q.get("/api/attendance/current")).data;if(!E||typeof E!="object")throw new Error("Invalid attendance status response");let C;E.clocked_in?C="/api/attendance/clock-out":C="/api/attendance/clock-in";const oe=await Q.post(C,{},{headers:{"X-CSRF-TOKEN":(b=document.querySelector('meta[name="csrf-token"]'))==null?void 0:b.getAttribute("content"),Accept:"application/json","Content-Type":"application/json"}});oe.data.success&&(console.log("🎯 Clock in/out successful, response:",oe.data),await Z())}catch(D){console.error("Clock in/out error:",D);let E="Clock in/out failed. Please try again.";if(D.message==="Invalid attendance status response")E="Unable to get attendance status. Please ensure you have an employee profile.";else if(((i=D.response)==null?void 0:i.status)===419){window.location.reload();return}else(U=(B=D.response)==null?void 0:B.data)!=null&&U.message&&(E=D.response.data.message);alert(E)}finally{l.value=!1}},Z=async()=>{try{const b=await Q.get("/api/attendance/current");console.log("🔍 API status check before reload:",b.data),await ge.reload({only:["currentAttendance","clockedIn","employeeStats"],preserveScroll:!0,preserveState:!0}),console.log("✅ Attendance status updated via Inertia reload")}catch(b){console.error("Failed to update attendance status:",b),window.location.reload()}},_=async b=>{var i,B,U;if(b.route)M(b.route);else if(b.type)try{l.value=!0,b.type==="take-break"?await Q.post("/api/attendance/break-start",{},{headers:{"X-CSRF-TOKEN":(i=document.querySelector('meta[name="csrf-token"]'))==null?void 0:i.getAttribute("content"),Accept:"application/json","Content-Type":"application/json"}}):b.type==="end-break"&&await Q.post("/api/attendance/break-end",{},{headers:{"X-CSRF-TOKEN":(B=document.querySelector('meta[name="csrf-token"]'))==null?void 0:B.getAttribute("content"),Accept:"application/json","Content-Type":"application/json"}}),await Z()}catch(D){console.error("Break action failed:",D),((U=D.response)==null?void 0:U.status)===419&&window.location.reload()}finally{l.value=!1}},pe=async b=>{try{await Q.patch(route("tasks.toggle",b.id)),await H()}catch(i){console.error("Task toggle error:",i)}},ae=b=>{M("tasks.show",{task:b.id})},ne=()=>{var b;(b=R.birthdayData)!=null&&b.currentUserBirthday&&setTimeout(()=>{f.value=!0},1e3)},ke=()=>{f.value=!1};return Ce(()=>{ne()}),(b,i)=>(d(),F(Xe,null,{header:z(()=>[L(r(c.value),1)]),subtitle:z(()=>[L(r(h.value),1)]),headerActions:z(()=>[e("div",Ka,[(d(!0),m(q,null,K(G.value,B=>(d(),m("button",{key:B.id,onClick:B.handler,disabled:B.disabled,class:x(["inline-flex items-center px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",B.primary?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-500/25":"bg-white/60 text-gray-700 border border-gray-200 hover:bg-white hover:shadow-sm","disabled:opacity-50 disabled:cursor-not-allowed"])},[(d(),F(ye(Y(B.icon)),{class:"w-4 h-4 mr-2"})),L(" "+r(B.label),1)],10,Ga))),128))])]),default:z(()=>{var B,U,D,E;return[v.value?(d(),m("div",Qa,[e("div",Xa,[g(W,{value:t.adminStats.totalEmployees,label:"Total Employees",description:"Active workforce",icon:o(je),variant:"primary",trend:t.adminStats.employeeTrend,route:"employees.index",loading:l.value},null,8,["value","icon","trend","loading"]),g(W,{value:t.adminStats.pendingLeaves,label:"Pending Approvals",description:"Requires attention",icon:o(he),variant:"warning",status:t.adminStats.pendingLeaves>10?"critical":"warning",statusText:t.adminStats.pendingLeaves>10?"High":"Normal",route:"approvals.index",urgent:t.adminStats.pendingLeaves>15,loading:l.value},null,8,["value","icon","status","statusText","urgent","loading"]),g(W,{value:t.adminStats.pendingAssessments,label:"Pending Assessments",description:"Review status",icon:o(me),variant:"info",status:t.adminStats.pendingAssessments>5?"warning":"good",statusText:t.adminStats.pendingAssessments>5?"Review":"On Track",route:"assessment-dashboard",loading:l.value},null,8,["value","icon","status","statusText","loading"]),g(W,{value:t.adminStats.systemHealth+"%",label:"System Health",description:"Uptime",icon:o(be),variant:"success",status:t.adminStats.systemHealth>95?"excellent":t.adminStats.systemHealth>85?"good":"warning",statusText:t.adminStats.systemHealth>95?"Excellent":t.adminStats.systemHealth>85?"Good":"Needs Attention",clickable:!1,loading:l.value},null,8,["value","icon","status","statusText","loading"])]),e("div",Ya,[g(W,{value:(t.adminStats.attendanceRate||0)+"%",label:"Attendance Rate",description:"This month",icon:o(te),variant:"info",trend:t.adminStats.attendanceTrend||0,status:(t.adminStats.attendanceRate||0)>95?"excellent":(t.adminStats.attendanceRate||0)>85?"good":"warning",statusText:(t.adminStats.attendanceRate||0)>95?"Excellent":(t.adminStats.attendanceRate||0)>85?"Good":"Needs Attention",route:"attendance.reports",loading:l.value},null,8,["value","icon","trend","status","statusText","loading"]),g(W,{value:t.adminStats.workReportsCount||0,label:"Work Reports",description:"This month",icon:o(se),variant:"primary",trend:t.adminStats.workReportsTrend||0,status:(t.adminStats.workReportsCount||0)>50?"excellent":(t.adminStats.workReportsCount||0)>20?"good":"warning",statusText:(t.adminStats.workReportsCount||0)>50?"High Activity":(t.adminStats.workReportsCount||0)>20?"Active":"Low Activity",route:"work-reports.index",loading:l.value},null,8,["value","icon","trend","status","statusText","loading"]),g(W,{value:t.adminStats.successfulCalls||0,label:"Successful Calls",description:"This month",icon:o(tt),variant:"success",trend:t.adminStats.successfulCallsTrend||0,status:(t.adminStats.successfulCalls||0)>100?"excellent":(t.adminStats.successfulCalls||0)>50?"good":"warning",statusText:(t.adminStats.successfulCalls||0)>100?"Excellent":(t.adminStats.successfulCalls||0)>50?"Good":"Needs Focus",route:"work-reports.leaderboard",loading:l.value},null,8,["value","icon","trend","status","statusText","loading"]),g(W,{value:(t.adminStats.avgPerformanceScore||0)+"%",label:"Avg Performance",description:"Team score",icon:o(me),variant:"info",trend:t.adminStats.performanceTrend||0,status:(t.adminStats.avgPerformanceScore||0)>85?"excellent":(t.adminStats.avgPerformanceScore||0)>70?"good":"warning",statusText:(t.adminStats.avgPerformanceScore||0)>85?"Excellent":(t.adminStats.avgPerformanceScore||0)>70?"Good":"Needs Improvement",route:"performance.reports",loading:l.value},null,8,["value","icon","trend","status","statusText","loading"])]),e("div",Ja,[e("div",Za,[t.pendingApprovals.length>0?(d(),F(ve,{key:0,title:"Pending Approvals Overview",description:"Items requiring your attention",icon:o(he),iconVariant:"info",variant:"elevated"},{headerActions:z(()=>[e("button",{onClick:i[0]||(i[0]=C=>M("leaves.index")),class:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700"}," Manage All Approvals ")]),default:z(()=>[e("div",_a,[e("div",en,[e("div",tn,r(t.pendingApprovals.filter(C=>C.type==="leave").length),1),i[9]||(i[9]=e("div",{class:"text-sm text-gray-600"},"Leave Requests",-1))]),e("div",sn,[e("div",an,r(t.pendingApprovals.filter(C=>C.type==="timesheet").length),1),i[10]||(i[10]=e("div",{class:"text-sm text-gray-600"},"Timesheets",-1))]),e("div",nn,[e("div",on,r(t.pendingApprovals.filter(C=>C.type==="competency-assessment").length),1),i[11]||(i[11]=e("div",{class:"text-sm text-gray-600"},"Assessments",-1))])])]),_:1},8,["icon"])):w("",!0),g(ve,{title:"Competency Management",description:"Track and manage employee competencies",icon:o(me),iconVariant:"primary",variant:"elevated"},{headerActions:z(()=>[e("button",{onClick:i[1]||(i[1]=C=>M("assessment-dashboard")),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/25"},[i[12]||(i[12]=L(" View Details ")),g(o(X),{class:"w-4 h-4 ml-1"})])]),default:z(()=>[e("div",rn,[e("div",ln,[e("div",dn,r(t.adminStats.completedAssessmentsThisMonth||0),1),i[13]||(i[13]=e("div",{class:"text-xs text-gray-600 mt-1"},"Completed",-1))]),e("div",cn,[e("div",un,r(t.adminStats.pendingAssessments||0),1),i[14]||(i[14]=e("div",{class:"text-xs text-gray-600 mt-1"},"Pending",-1))]),e("div",mn,[e("div",vn,r(t.adminStats.activeAssessmentCycles||0),1),i[15]||(i[15]=e("div",{class:"text-xs text-gray-600 mt-1"},"Active Cycles",-1))]),e("div",gn,[e("div",hn,r(t.adminStats.averageRating||"-"),1),i[16]||(i[16]=e("div",{class:"text-xs text-gray-600 mt-1"},"Avg Rating",-1))])])]),_:1},8,["icon"])]),e("div",fn,[g(ve,{title:"Quick Actions",description:"Common tasks",icon:o(De),iconVariant:"primary"},{default:z(()=>[e("div",bn,[e("button",{onClick:i[2]||(i[2]=C=>M("competencies.create")),class:"w-full flex items-center justify-between px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all group shadow-lg shadow-blue-500/25"},[e("div",yn,[g(o(me),{class:"w-5 h-5 mr-3"}),i[17]||(i[17]=e("span",{class:"font-medium"},"Add Competency",-1))]),g(o(X),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:i[3]||(i[3]=C=>M("employees.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",xn,[g(o(je),{class:"w-5 h-5 mr-3"}),i[18]||(i[18]=e("span",{class:"font-medium"},"Manage Employees",-1))]),g(o(X),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:i[4]||(i[4]=C=>M("assessment-cycles.create")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",pn,[g(o(De),{class:"w-5 h-5 mr-3"}),i[19]||(i[19]=e("span",{class:"font-medium"},"New Assessment Cycle",-1))]),g(o(X),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:i[5]||(i[5]=C=>M("reports.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",kn,[g(o(se),{class:"w-5 h-5 mr-3"}),i[20]||(i[20]=e("span",{class:"font-medium"},"View Reports",-1))]),g(o(X),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:i[6]||(i[6]=C=>M("admin.roles.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",wn,[g(o(Pe),{class:"w-5 h-5 mr-3"}),i[21]||(i[21]=e("span",{class:"font-medium"},"Role Management",-1))]),g(o(X),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})])])]),_:1},8,["icon"]),g(Ue,{"todays-birthdays":t.birthdayData.todaysBirthdays,"upcoming-birthdays":t.birthdayData.upcomingBirthdays,stats:t.birthdayData.stats},null,8,["todays-birthdays","upcoming-birthdays","stats"]),g(ve,{title:"System Status",description:"All systems operational",icon:o(be),iconVariant:"success"},{default:z(()=>[e("div",$n,[i[23]||(i[23]=e("div",{class:"flex items-center justify-between"},[e("span",{class:"text-sm text-gray-600"},"Database"),e("div",{class:"flex items-center"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm font-medium text-green-600"},"Healthy")])],-1)),i[24]||(i[24]=e("div",{class:"flex items-center justify-between"},[e("span",{class:"text-sm text-gray-600"},"API Services"),e("div",{class:"flex items-center"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm font-medium text-green-600"},"Online")])],-1)),e("div",Sn,[i[22]||(i[22]=e("span",{class:"text-sm text-gray-600"},"Uptime",-1)),e("span",Tn,r(t.adminStats.systemUptime)+"%",1)])])]),_:1},8,["icon"])])])])):(d(),m("div",An,[e("div",Cn,[e("div",In,[g(Da,{stats:t.employeeStats,"personal-activities":t.personalActivities,"my-tasks":t.myTasks,"recent-feedback":t.recentFeedback,"clocked-in":t.clockedIn,"current-attendance":t.currentAttendance,"birthday-notifications":t.birthdayData,loading:l.value,onClockInOut:xe,onAction:_,onToggleTask:pe,onViewTask:ae},null,8,["stats","personal-activities","my-tasks","recent-feedback","clocked-in","current-attendance","birthday-notifications","loading"])])])])),S.value?(d(),m("div",Mn,[e("div",Bn,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:J}),e("div",jn,[e("div",Dn,[e("div",Pn,[e("div",Rn,[g(o(he),{class:"h-6 w-6 text-red-600"})]),e("div",Nn,[e("h3",En," Reject "+r(((B=j.value)==null?void 0:B.title)||"Request"),1),e("div",On,[e("div",null,[e("p",Un,[i[25]||(i[25]=e("strong",null,"Requester:",-1)),L(" "+r((U=j.value)==null?void 0:U.requester),1)]),e("p",Vn,[i[26]||(i[26]=e("strong",null,"Request:",-1)),L(" "+r((D=j.value)==null?void 0:D.description),1)])]),e("div",null,[i[27]||(i[27]=e("label",{for:"rejection-reason",class:"block text-sm font-medium text-gray-700 mb-2"},[L(" Reason for rejection "),e("span",{class:"text-red-500"},"*")],-1)),Fe(e("textarea",{id:"rejection-reason","onUpdate:modelValue":i[7]||(i[7]=C=>I.value=C),rows:"4",class:"w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-red-500 focus:border-red-500",placeholder:"Please provide a clear reason for rejecting this request...",required:""},null,512),[[Ke,I.value]]),i[28]||(i[28]=e("p",{class:"text-xs text-gray-500 mt-1"}," This reason will be sent to the employee and recorded in the system. ",-1))])])])])]),e("div",Ln,[e("button",{onClick:i[8]||(i[8]=(...C)=>b.confirmRejection&&b.confirmRejection(...C)),disabled:!I.value.trim(),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"}," Reject Request ",8,zn),e("button",{onClick:J,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):w("",!0),(E=t.birthdayData)!=null&&E.currentUserBirthday?(d(),F(Fa,{key:3,show:f.value,employee:t.birthdayData.currentUserBirthday,onClose:ke},null,8,["show","employee"])):w("",!0)]}),_:1}))}};export{so as default};
