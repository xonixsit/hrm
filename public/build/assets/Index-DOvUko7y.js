import{c as _,a as y,b as a,w as m,p as t,e as r,y as c,u as i,f as n,F as w,t as b,g as d,n as k,s as C,E as $,Q as L}from"./app-DAzcyEvr.js";import{_ as q}from"./AuthenticatedLayout-CFGOHXJK.js";import{A,d as B,m as E,w as Q,s as V}from"./Icon-B-rWLZbN.js";import"./useAuth-4HHi2Jc_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-DkJ980bm.js";import"./useAccessibility-jP7VLpRx.js";const D={class:"flex justify-between items-center"},N={class:"flex space-x-3"},S={class:"py-12"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},I={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},M={class:"p-6"},R={class:"flex items-center"},j={class:"flex-shrink-0"},z={class:"ml-4"},U={class:"text-2xl font-semibold text-gray-900"},G={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},H={class:"p-6"},J={class:"flex items-center"},K={class:"flex-shrink-0"},O={class:"ml-4"},W={class:"text-2xl font-semibold text-gray-900"},X={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Y={class:"p-6"},Z={class:"flex items-center"},T={class:"flex-shrink-0"},tt={class:"ml-4"},st={class:"text-2xl font-semibold text-gray-900"},et={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ot={class:"p-6"},it={class:"flex items-center"},at={class:"flex-shrink-0"},nt={class:"ml-4"},dt={class:"text-2xl font-semibold text-gray-900"},rt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ct={class:"p-6"},lt={class:"overflow-x-auto"},xt={class:"min-w-full divide-y divide-gray-200"},ut={class:"bg-white divide-y divide-gray-200"},_t={class:"px-6 py-4 whitespace-nowrap"},mt={class:"text-sm font-medium text-gray-900"},pt={key:0,class:"text-sm text-gray-500"},ht={class:"px-6 py-4 whitespace-nowrap"},gt={class:"text-sm text-gray-900"},vt={key:0,class:"text-xs text-green-600"},ft={class:"px-6 py-4 whitespace-nowrap"},yt={class:"space-y-1"},wt={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},bt={key:1,class:"text-xs text-gray-600"},kt={key:2,class:"text-xs text-gray-600"},Ct={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},$t={class:"px-6 py-4 whitespace-nowrap"},Lt=["onClick"],qt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},At={class:"flex items-center space-x-2"},Bt=["onClick"],Et=["onClick"],Qt=["onClick"],Mt={__name:"Index",props:{leaveTypes:Array,canCreate:Boolean},setup(l){const x=l,p=_(()=>x.leaveTypes.filter(o=>o.is_active).length),h=_(()=>x.leaveTypes.reduce((o,s)=>o+s.quota,0)),g=_(()=>x.leaveTypes.reduce((o,s)=>o+s.leaves_count,0)),v=async o=>{try{if((await $.post(route("leave-types.toggle-status",o.id))).data.success){o.is_active=!o.is_active;const e=o.is_active?"activated":"deactivated";console.log(`Leave type ${e} successfully`)}}catch(s){console.error("Error toggling status:",s)}},f=o=>{confirm(`Are you sure you want to delete "${o.name}"? This action cannot be undone.`)&&L.delete(route("leave-types.destroy",o.id),{onSuccess:()=>{},onError:s=>{console.error("Delete failed:",s)}})};return(o,s)=>(a(),y(q,null,{header:m(()=>[t("div",D,[s[2]||(s[2]=t("div",null,[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Leave Policies "),t("p",{class:"text-sm text-gray-600 mt-1"}," Manage leave types, quotas, and approval policies ")],-1)),t("div",N,[l.canCreate?(a(),n("button",{key:0,onClick:s[0]||(s[0]=e=>o.$inertia.visit(o.route("leave-types.create"))),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},[r(c(V),{class:"w-4 h-4 mr-2"}),s[1]||(s[1]=C(" Add Leave Type "))])):d("",!0)])])]),default:m(()=>[t("div",S,[t("div",P,[t("div",F,[t("div",I,[t("div",M,[t("div",R,[t("div",j,[r(c(A),{class:"h-8 w-8 text-blue-500"})]),t("div",z,[s[3]||(s[3]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Leave Types",-1)),t("p",U,i(l.leaveTypes.length),1)])])])]),t("div",G,[t("div",H,[t("div",J,[t("div",K,[r(c(B),{class:"h-8 w-8 text-green-500"})]),t("div",O,[s[4]||(s[4]=t("p",{class:"text-sm font-medium text-gray-500"},"Active Policies",-1)),t("p",W,i(p.value),1)])])])]),t("div",X,[t("div",Y,[t("div",Z,[t("div",T,[r(c(E),{class:"h-8 w-8 text-purple-500"})]),t("div",tt,[s[5]||(s[5]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Quota Days",-1)),t("p",st,i(h.value),1)])])])]),t("div",et,[t("div",ot,[t("div",it,[t("div",at,[r(c(Q),{class:"h-8 w-8 text-orange-500"})]),t("div",nt,[s[6]||(s[6]=t("p",{class:"text-sm font-medium text-gray-500"},"Leave Requests",-1)),t("p",dt,i(g.value),1)])])])])]),t("div",rt,[t("div",ct,[t("div",lt,[t("table",xt,[s[7]||(s[7]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Leave Type "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Quota "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Policies "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Usage "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"relative px-6 py-3"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",ut,[(a(!0),n(w,null,b(l.leaveTypes,e=>(a(),n("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",_t,[t("div",null,[t("div",mt,i(e.name),1),e.description?(a(),n("div",pt,i(e.description),1)):d("",!0)])]),t("td",ht,[t("div",gt,i(e.quota)+" days ",1),e.carry_forward?(a(),n("div",vt," Carry forward enabled ")):d("",!0)]),t("td",ft,[t("div",yt,[e.requires_approval?(a(),n("div",wt," Requires Approval ")):d("",!0),e.max_consecutive_days?(a(),n("div",bt," Max "+i(e.max_consecutive_days)+" consecutive days ",1)):d("",!0),e.min_notice_days?(a(),n("div",kt,i(e.min_notice_days)+" days notice required ",1)):d("",!0)])]),t("td",Ct,i(e.leaves_count)+" requests ",1),t("td",$t,[t("button",{onClick:u=>v(e),class:k([{"bg-green-100 text-green-800":e.is_active,"bg-red-100 text-red-800":!e.is_active},"inline-flex px-2 py-1 text-xs font-semibold rounded-full cursor-pointer hover:opacity-80"])},i(e.is_active?"Active":"Inactive"),11,Lt)]),t("td",qt,[t("div",At,[t("button",{onClick:u=>o.$inertia.visit(o.route("leave-types.show",e.id)),class:"text-indigo-600 hover:text-indigo-900"}," View ",8,Bt),t("button",{onClick:u=>o.$inertia.visit(o.route("leave-types.edit",e.id)),class:"text-indigo-600 hover:text-indigo-900"}," Edit ",8,Et),e.leaves_count===0?(a(),n("button",{key:0,onClick:u=>f(e),class:"text-red-600 hover:text-red-900"}," Delete ",8,Qt)):d("",!0)])])]))),128))])])])])])])])]),_:1}))}};export{Mt as default};
