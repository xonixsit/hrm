import{e as q,f as N,g as w,o as r,h as x,k as f,a as e,n as b,c as o,i as _,w as h,F as d,r as u,t as l,v as k,b as G,u as g,S as v,l as A,Q as J}from"./app-D1LatT9m.js";import{A as K}from"./AuthenticatedLayout-B1pMDlq2.js";import{P as W}from"./PageLayout-peQLKKNQ.js";import{l as X}from"./icons-BHT3WEa0.js";import"./useAuth-tboKV0fA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAccessibility-0tlT-9b6.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-CLIUepvG.js";import"./PageHeader-BGAusEPs.js";import"./Icon-OVgQ1p9r.js";/* empty css                                                                   */const Y={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Z={class:"p-6 text-gray-900"},$={class:"bg-gray-50 rounded-lg border border-gray-200 mb-6"},ee={class:"p-6"},te={key:0},se=["value"],re=["value"],ae=["value"],oe={class:"bg-white rounded-lg shadow-sm border border-gray-200"},le={class:"overflow-x-auto"},ne={class:"min-w-full divide-y divide-gray-200"},ie={class:"bg-white divide-y divide-gray-200"},de={class:"px-6 py-4 whitespace-nowrap"},ue={class:"flex items-center"},ce={class:"flex-shrink-0 h-10 w-10"},me={class:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center"},pe={class:"text-sm font-medium text-blue-600"},ye={class:"ml-4"},xe={class:"px-6 py-4 whitespace-nowrap"},ge={class:"text-sm text-gray-900"},fe={class:"px-6 py-4 whitespace-nowrap"},be={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},he={class:"px-6 py-4 whitespace-nowrap"},ve={key:0,class:"flex items-center"},we={class:"flex"},_e={class:"ml-2 text-sm text-gray-600"},ke={key:1,class:"text-sm text-gray-400"},Ae={class:"px-6 py-4 whitespace-nowrap"},Se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ce={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Te={class:"flex items-center justify-end space-x-2"},je={key:0,class:"px-6 py-3 border-t border-gray-200"},Be={class:"flex items-center justify-between"},Fe={class:"text-sm text-gray-700"},Ue={class:"flex space-x-1"},Re={__name:"Index",props:{assessments:Object,employees:Array,competencies:Array,assessmentCycles:Array,assessors:Array,assessmentTypes:Array,statusOptions:Array,filters:Object,stats:Object,canFilterByEmployee:Boolean,canFilterByAssessor:Boolean},setup(n){var j,B,F,U,V;const c=n,i=q({employee_id:((j=c.filters)==null?void 0:j.employee_id)||"",competency_id:((B=c.filters)==null?void 0:B.competency_id)||"",assessment_type:((F=c.filters)==null?void 0:F.assessment_type)||"",status:((U=c.filters)==null?void 0:U.status)||"",search:((V=c.filters)==null?void 0:V.search)||""});let S=null;const O=N(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Competency Management",href:route("competency-assessments.index")},{label:"Assessments",current:!0}]),I=N(()=>[{id:"new-assessment",label:"New Assessment",icon:"plus",variant:"primary",href:route("competency-assessments.create")}]),m=()=>{J.get(route("competency-assessments.index"),i.value,{preserveState:!0,preserveScroll:!0})},P=()=>{clearTimeout(S),S=setTimeout(()=>{m()},300)},H=()=>{i.value={employee_id:"",competency_id:"",assessment_type:"",status:"",search:""},m()},C=a=>({self:"Self Assessment",manager:"Manager Assessment",peer:"Peer Assessment",360:"360Â° Feedback"})[a]||a,T=a=>({draft:"Draft",submitted:"Submitted",approved:"Approved",rejected:"Rejected"})[a]||a,Q=a=>({draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",R=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),z=a=>a.split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2);return(a,s)=>(r(),w(K,null,{default:x(()=>[f(W,{title:"Competency Assessments",subtitle:"Manage and review competency assessments",breadcrumbs:O.value,actions:I.value},{default:x(()=>[e("div",Y,[e("div",Z,[e("div",$,[e("div",ee,[e("div",{class:b(["grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",{"lg:grid-cols-5":n.canFilterByEmployee}])},[n.canFilterByEmployee?(r(),o("div",te,[s[5]||(s[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Employee",-1)),h(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>i.value.employee_id=t),onChange:m,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[4]||(s[4]=e("option",{value:""},"All Employees",-1)),(r(!0),o(d,null,u(n.employees,t=>{var p;return r(),o("option",{key:t.id,value:t.id},l(((p=t.user)==null?void 0:p.name)||"Unknown"),9,se)}),128))],544),[[k,i.value.employee_id]])])):_("",!0),e("div",null,[s[7]||(s[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),h(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>i.value.status=t),onChange:m,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[6]||(s[6]=e("option",{value:""},"All Statuses",-1)),(r(!0),o(d,null,u(n.statusOptions,t=>(r(),o("option",{key:t,value:t},l(T(t)),9,re))),128))],544),[[k,i.value.status]])]),e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),h(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>i.value.assessment_type=t),onChange:m,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[8]||(s[8]=e("option",{value:""},"All Types",-1)),(r(!0),o(d,null,u(n.assessmentTypes,t=>(r(),o("option",{key:t,value:t},l(C(t)),9,ae))),128))],544),[[k,i.value.assessment_type]])]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),h(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>i.value.search=t),onInput:P,type:"text",placeholder:"Search assessments...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,544),[[G,i.value.search]])]),e("div",{class:"flex items-end"},[e("button",{onClick:H,class:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Clear Filters ")])],2)])])]),e("div",oe,[e("div",le,[e("table",ne,[s[13]||(s[13]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Employee "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Competency "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Rating "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",ie,[(r(!0),o(d,null,u(n.assessments.data,t=>{var p,D,E,M;return r(),o("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",de,[e("div",ue,[e("div",ce,[e("div",me,[e("span",pe,l(z(((D=(p=t.employee)==null?void 0:p.user)==null?void 0:D.name)||"Unknown")),1)])]),e("div",ye,[f(g(v),{href:a.route("competency-assessments.by-employee",(E=t.employee)==null?void 0:E.id),class:"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline"},{default:x(()=>{var y,L;return[A(l(((L=(y=t.employee)==null?void 0:y.user)==null?void 0:L.name)||"Unknown"),1)]}),_:2},1032,["href"])])])]),e("td",xe,[e("div",ge,l((M=t.competency)==null?void 0:M.name),1)]),e("td",fe,[e("span",be,l(C(t.assessment_type)),1)]),e("td",he,[t.rating?(r(),o("div",ve,[e("div",we,[(r(),o(d,null,u(5,y=>f(g(X),{key:y,class:b([y<=t.rating?"text-yellow-400":"text-gray-300","h-4 w-4"])},null,8,["class"])),64))]),e("span",_e,l(t.rating)+"/5",1)])):(r(),o("span",ke,"Not rated"))]),e("td",Ae,[e("span",{class:b([Q(t.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},l(T(t.status)),3)]),e("td",Se,l(R(t.created_at)),1),e("td",Ce,[e("div",Te,[f(g(v),{href:a.route("competency-assessments.show",t.id),class:"text-blue-600 hover:text-blue-900"},{default:x(()=>s[11]||(s[11]=[A(" View ")])),_:2,__:[11]},1032,["href"]),t.status==="draft"?(r(),w(g(v),{key:0,href:a.route("competency-assessments.evaluate",t.id),class:"text-green-600 hover:text-green-900"},{default:x(()=>s[12]||(s[12]=[A(" Edit ")])),_:2,__:[12]},1032,["href"])):_("",!0)])])])}),128))])])]),n.assessments.links?(r(),o("div",je,[e("div",Be,[e("div",Fe," Showing "+l(n.assessments.from)+" to "+l(n.assessments.to)+" of "+l(n.assessments.total)+" results ",1),e("div",Ue,[(r(!0),o(d,null,u(n.assessments.links,t=>(r(),w(g(v),{key:t.label,href:t.url,class:b(["px-3 py-2 text-sm font-medium rounded-md",t.active?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))])])])):_("",!0)])])]),_:1},8,["breadcrumbs","actions"])]),_:1}))}};export{Re as default};
