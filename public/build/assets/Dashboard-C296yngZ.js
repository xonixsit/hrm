import{c as r,o as s,a as e,i as y,m as ke,n as x,d as Ve,u as i,A as K,t as a,F as W,g as z,s as X,f as $,Q as we,e as L,h as N,r as q,l as F,z as Ne,k as m,q as ee,B as Je,w as Ye,b as Xe,G as oe}from"./app-DE5mUKWj.js";import{u as Me}from"./useAuth-BUHvKS6I.js";import{b as Le,a as Ze,r as et,A as tt}from"./AuthenticatedLayout-BkBSWhbt.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as Se}from"./StatsCard-ph9Z2NQS.js";import{A as st}from"./ApprovalModal-CQGlhFkR.js";import{a as Ce,H as De,q as Oe,n as te,w as Ee,f as Te,G as He,b as nt,m as ne,e as We,h as Fe,p as se,O as _e,l as Pe,k as re}from"./icons-lFkwCsYn.js";import{r as ie}from"./ChartBarIcon-BhzOfmPQ.js";import{r as xe}from"./AcademicCapIcon-DlKxcwUC.js";import{r as at}from"./ArrowTrendingUpIcon-DE96F2Jd.js";import{r as Re}from"./ArrowPathIcon-CMSY0In4.js";import{r as Be}from"./CogIcon-CXLvYGeb.js";import"./useAccessibility-DbhZstUt.js";import"./ArrowTrendingDownIcon-CcCUsbfd.js";import"./ArrowTopRightOnSquareIcon-DUs8fFAB.js";function qe(t,C){return s(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])}const ot=["role","tabindex"],rt={key:0,class:"flex items-center justify-between mb-4"},it={class:"flex items-center space-x-3"},lt={key:0,class:"flex items-center space-x-2"},ct={class:"flex-1"},dt={class:"flex items-center space-x-3"},pe={__name:"UnifiedCard",props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:[String,Object],default:null},iconVariant:{type:String,default:null,validator:t=>["primary","success","warning","danger","info"].includes(t)},variant:{type:String,default:"default",validator:t=>["default","elevated"].includes(t)},size:{type:String,default:"default",validator:t=>["small","default"].includes(t)},clickable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},status:{type:String,default:null,validator:t=>["success","warning","error","info"].includes(t)},statusText:{type:String,default:null},className:{type:String,default:""}},emits:["click"],setup(t,{emit:C}){const{isDark:o}=Le();return(g,d)=>(s(),r(W,null,[e("div",{class:x(["group relative transition-all duration-300",i(o)?"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50":"bg-white/80 backdrop-blur-sm border border-gray-200/60",t.variant==="elevated"?i(o)?"shadow-xl shadow-gray-900/30":"shadow-xl shadow-gray-900/15":i(o)?"shadow-lg shadow-gray-900/20":"shadow-lg shadow-gray-900/10",t.size==="small"?"rounded-lg":"rounded-2xl",t.clickable&&"cursor-pointer hover:scale-[1.02] hover:shadow-2xl",t.clickable&&(i(o)?"hover:bg-gray-700/60 hover:border-gray-600/60":"hover:bg-white/90 hover:border-gray-300/60"),t.size==="small"?"p-3":"p-4",t.className]),onClick:d[0]||(d[0]=I=>t.clickable&&g.$emit("click")),role:t.clickable?"button":void 0,tabindex:t.clickable?"0":void 0,onKeydown:[d[1]||(d[1]=ke(I=>t.clickable&&g.$emit("click"),["enter"])),d[2]||(d[2]=ke(Ve(I=>t.clickable&&g.$emit("click"),["prevent"]),["space"]))]},null,42,ot),g.$slots.header||t.title?(s(),r("div",rt,[e("div",it,[t.icon||g.$slots.icon?(s(),r("div",{key:0,class:x(["flex items-center justify-center rounded-xl transition-all duration-200",t.size==="small"?"w-10 h-10 p-2":"w-12 h-12 p-3",t.iconVariant==="primary"&&(i(o)?"bg-blue-600/20 text-blue-400 border border-blue-500/30":"bg-blue-50 text-blue-600 border border-blue-200/50"),t.iconVariant==="success"&&(i(o)?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-green-50 text-green-600 border border-green-200/50"),t.iconVariant==="warning"&&(i(o)?"bg-orange-600/20 text-orange-400 border border-orange-500/30":"bg-orange-50 text-orange-600 border border-orange-200/50"),t.iconVariant==="danger"&&(i(o)?"bg-red-600/20 text-red-400 border border-red-500/30":"bg-red-50 text-red-600 border border-red-200/50"),t.iconVariant==="info"&&(i(o)?"bg-purple-600/20 text-purple-400 border border-purple-500/30":"bg-purple-50 text-purple-600 border border-purple-200/50"),!t.iconVariant&&(i(o)?"bg-gray-700/50 text-gray-300 border border-gray-600/50":"bg-gray-100 text-gray-600 border border-gray-200/50")])},[K(g.$slots,"icon",{},()=>[t.icon?(s(),z(X(t.icon),{key:0,class:x(t.size==="small"?"w-4 h-4":"w-5 h-5")},null,8,["class"])):y("",!0)])],2)):y("",!0),e("div",null,[t.title?(s(),r("h3",{key:0,class:x(["font-semibold transition-colors duration-200",t.size==="small"?"text-base":"text-lg",i(o)?"text-white":"text-gray-900"])},a(t.title),3)):y("",!0),t.description?(s(),r("p",{key:1,class:x(["transition-colors duration-200",t.size==="small"?"text-xs":"text-sm",i(o)?"text-gray-400":"text-gray-600"])},a(t.description),3)):y("",!0),K(g.$slots,"header")])]),g.$slots.headerActions?(s(),r("div",lt,[K(g.$slots,"headerActions")])):y("",!0)])):y("",!0),e("div",ct,[K(g.$slots,"default")]),g.$slots.footer?(s(),r("div",{key:1,class:x(["mt-6 pt-4 border-t transition-colors duration-200",i(o)?"border-gray-700/50":"border-gray-200/50"])},[K(g.$slots,"footer")],2)):y("",!0),t.loading?(s(),r("div",{key:2,class:x(["absolute inset-0 flex items-center justify-center rounded-2xl transition-all duration-200",i(o)?"bg-gray-800/80 backdrop-blur-sm":"bg-white/80 backdrop-blur-sm"])},[e("div",dt,[e("div",{class:x(["animate-spin rounded-full border-2 border-t-transparent",t.size==="small"?"w-5 h-5":"w-6 h-6",i(o)?"border-gray-400":"border-gray-600"])},null,2),e("span",{class:x(["text-sm font-medium",i(o)?"text-gray-300":"text-gray-600"])}," Loading... ",2)])],2)):y("",!0),t.status?(s(),r("div",{key:3,class:x(["absolute top-4 right-4 flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium",t.status==="success"&&(i(o)?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-green-50 text-green-700 border border-green-200"),t.status==="warning"&&(i(o)?"bg-orange-600/20 text-orange-400 border border-orange-500/30":"bg-orange-50 text-orange-700 border border-orange-200"),t.status==="error"&&(i(o)?"bg-red-600/20 text-red-400 border border-red-500/30":"bg-red-50 text-red-700 border border-red-200"),t.status==="info"&&(i(o)?"bg-blue-600/20 text-blue-400 border border-blue-500/30":"bg-blue-50 text-blue-700 border border-blue-200")])},[e("div",{class:x(["w-1.5 h-1.5 rounded-full",t.status==="success"&&"bg-green-400",t.status==="warning"&&"bg-orange-400",t.status==="error"&&"bg-red-400",t.status==="info"&&"bg-blue-400"])},null,2),e("span",null,a(t.statusText||t.status),1)],2)):y("",!0)],64))}},ut=["role","tabindex","onKeydown"],mt={class:"flex items-start justify-between mb-4"},gt={key:0,class:"flex items-center space-x-1"},vt={key:0,class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},bt={key:1,class:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ht={class:"space-y-1 mb-3"},ft={class:"flex items-center gap-2"},yt={key:2,class:"absolute z-20 -top-2 -right-2"},Z={__name:"UnifiedStatsCard",props:{value:{type:[Number,String],required:!0},label:{type:String,required:!0},description:{type:String,default:""},icon:{type:[String,Object],required:!0},variant:{type:String,default:"primary",validator:t=>["primary","success","warning","info","neutral"].includes(t)},trend:{type:Number,default:null},trendSuffix:{type:String,default:"%"},status:{type:String,default:null,validator:t=>["excellent","good","warning","critical"].includes(t)},statusText:{type:String,default:null},loading:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},route:{type:String,default:null},urgent:{type:Boolean,default:!1},prefix:{type:String,default:""},suffix:{type:String,default:""}},emits:["click"],setup(t,{emit:C}){const o=t,g=C,{isDark:d}=Le(),I=$(()=>{if(o.loading)return"...";let S=o.value;return typeof S=="number"&&(S=S.toLocaleString()),`${o.prefix}${S}${o.suffix}`}),T=()=>{!o.clickable||o.loading||(o.route&&we.visit(route(o.route)),g("click"))};return(S,h)=>(s(),r("div",{class:x(["group relative transition-all duration-300",t.clickable&&"cursor-pointer",i(d)?"bg-gray-800/50 border border-gray-700/50 backdrop-blur-sm":"bg-white border border-gray-100 shadow-sm backdrop-blur-sm","hover:shadow-md hover:-translate-y-0.5","rounded-2xl p-5 sm:p-6"]),onClick:T,role:t.clickable?"button":void 0,tabindex:t.clickable?"0":void 0,onKeydown:[ke(T,["enter"]),ke(Ve(T,["prevent"]),["space"])]},[e("div",mt,[e("div",{class:x(["flex items-center justify-center w-12 h-12 rounded-xl flex-shrink-0 shadow-sm",t.variant==="primary"&&(i(d)?"bg-blue-600/20 text-blue-400":"bg-blue-500 text-white shadow-blue-100"),t.variant==="success"&&(i(d)?"bg-green-600/20 text-green-400":"bg-green-500 text-white shadow-green-100"),t.variant==="warning"&&(i(d)?"bg-orange-600/20 text-orange-400":"bg-orange-500 text-white shadow-orange-100"),t.variant==="info"&&(i(d)?"bg-purple-600/20 text-purple-400":"bg-purple-500 text-white shadow-purple-100"),t.variant==="neutral"&&(i(d)?"bg-gray-700/50 text-gray-300":"bg-gray-500 text-white shadow-gray-100")])},[(s(),z(X(t.icon),{class:"w-6 h-6"}))],2),t.trend!==null&&!t.loading?(s(),r("div",gt,[t.trend>0?(s(),r("svg",vt,h[0]||(h[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)]))):t.trend<0?(s(),r("svg",bt,h[1]||(h[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)]))):y("",!0),e("span",{class:x(["text-sm font-medium",t.trend>0&&"text-green-600",t.trend<0&&"text-red-600",t.trend===0&&"text-gray-500"])},a(t.trend>0?"+":"")+a(t.trend)+a(t.trendSuffix),3)])):t.status&&!t.loading?(s(),r("div",{key:1,class:x(["flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",t.status==="excellent"&&(i(d)?"bg-green-600/20 text-green-400":"bg-green-50 text-green-700 border border-green-100"),t.status==="good"&&(i(d)?"bg-blue-600/20 text-blue-400":"bg-blue-50 text-blue-700 border border-blue-100"),t.status==="warning"&&(i(d)?"bg-orange-600/20 text-orange-400":"bg-orange-50 text-orange-700 border border-orange-100"),t.status==="critical"&&(i(d)?"bg-red-600/20 text-red-400":"bg-red-50 text-red-700 border border-red-100")])},[e("span",{class:x(["w-1.5 h-1.5 rounded-full",t.status==="excellent"&&"bg-green-500",t.status==="good"&&"bg-blue-500",t.status==="warning"&&"bg-orange-500",t.status==="critical"&&"bg-red-500"])},null,2),e("span",null,a(t.statusText||t.status),1)],2)):y("",!0)]),e("div",ht,[e("div",{class:x(["text-3xl font-semibold tracking-tight transition-colors duration-200",i(d)?"text-white":"text-gray-900",t.variant==="success"&&!i(d)&&"text-green-600",t.variant==="warning"&&!i(d)&&"text-orange-600"])},a(t.loading?"...":I.value),3),e("div",{class:x(["text-sm font-medium transition-colors duration-200",i(d)?"text-gray-400":"text-gray-600"])},a(t.label),3)]),t.description?(s(),r("div",{key:0,class:x(["text-sm leading-relaxed transition-colors duration-200",(i(d),"text-gray-500")])},a(t.description),3)):y("",!0),t.loading?(s(),r("div",{key:1,class:x(["absolute inset-0 z-10 flex items-center justify-center rounded-2xl backdrop-blur-sm",i(d)?"bg-gray-800/80":"bg-white/80"])},[e("div",ft,[e("div",{class:x(["animate-spin rounded-full w-5 h-5 border-2 border-t-transparent",i(d)?"border-gray-400":"border-gray-600"])},null,2),e("span",{class:x(["text-sm font-medium",i(d)?"text-gray-300":"text-gray-600"])}," Loading... ",2)])],2)):y("",!0),t.urgent&&!t.loading?(s(),r("div",yt,h[2]||(h[2]=[e("div",{class:"relative"},[e("div",{class:"w-4 h-4 bg-red-500 rounded-full animate-pulse"}),e("div",{class:"absolute inset-0 w-4 h-4 bg-red-500 rounded-full animate-ping opacity-75"})],-1)]))):y("",!0)],42,ut))}},xt={key:0,class:"widget-header"},pt={class:"flex items-center justify-between"},wt={class:"widget-title"},kt={key:0,class:"widget-actions"},$t={class:"widget-content"},At={key:1,class:"widget-footer"},St={__name:"DashboardWidget",props:{title:{type:String,default:""},size:{type:String,default:"md",validator:t=>["sm","md","lg","xl"].includes(t)},padding:{type:String,default:"md",validator:t=>["none","sm","md","lg"].includes(t)},background:{type:String,default:"white",validator:t=>["white","neutral","gradient"].includes(t)},interactive:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},error:{type:Boolean,default:!1},class:{type:[String,Array,Object],default:""}},setup(t){const C=t,o=$(()=>["dashboard-widget","relative","overflow-hidden","transition-all","duration-200",{"cursor-pointer":C.interactive,"hover:shadow-lg":C.interactive,"opacity-50":C.loading,"border-error-200":C.error,"bg-error-50":C.error}]),g=$(()=>({sm:"min-h-[120px]",md:"min-h-[160px]",lg:"min-h-[200px]",xl:"min-h-[240px]"})[C.size]),d=$(()=>({none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"})[C.padding]),I=$(()=>({white:"bg-white border border-neutral-200 shadow-sm",neutral:"bg-neutral-50 border border-neutral-200",gradient:"bg-gradient-to-br from-white to-neutral-50 border border-neutral-200 shadow-sm"})[C.background]),T=$(()=>"rounded-xl"),S=$(()=>[...o.value,g.value,d.value,I.value,T.value,C.class]);return(h,_)=>(s(),r("div",{class:x(S.value)},[h.$slots.header||t.title?(s(),r("div",xt,[K(h.$slots,"header",{},()=>[e("div",pt,[e("h3",wt,a(t.title),1),h.$slots.actions?(s(),r("div",kt,[K(h.$slots,"actions",{},void 0,!0)])):y("",!0)])],!0)])):y("",!0),e("div",$t,[K(h.$slots,"default",{},void 0,!0)]),h.$slots.footer?(s(),r("div",At,[K(h.$slots,"footer",{},void 0,!0)])):y("",!0)],2))}},le=ce(St,[["__scopeId","data-v-0708b2c1"]]),Ct={class:"timeline-container"},Tt={key:0,class:"timeline-empty"},Mt={class:"empty-state"},It={class:"text-neutral-500 text-center"},jt={key:1,class:"timeline-list"},Dt={class:"timeline-line"},_t={class:"timeline-content"},Pt={class:"activity-header"},Rt={class:"activity-main"},Bt={class:"activity-title"},Vt={key:0,class:"activity-description"},Nt={class:"activity-meta"},Lt=["datetime"],Ot={key:0,class:"activity-details"},Et={class:"detail-label"},Ht={class:"detail-value"},Wt={key:1,class:"activity-actions"},Ft=["onClick"],qt={key:2,class:"timeline-footer"},zt=["disabled"],Ut={__name:"ActivityTimeline",props:{activities:{type:Array,default:()=>[]},title:{type:String,default:"Recent Activity"},maxItems:{type:Number,default:10},showLoadMore:{type:Boolean,default:!0},emptyMessage:{type:String,default:"No recent activity"},emptyIcon:{type:[String,Object],default:null},loading:{type:Boolean,default:!1},timeFormat:{type:String,default:"relative",validator:t=>["relative","absolute","both"].includes(t)}},emits:["load-more","action"],setup(t,{emit:C}){const o=t,g=C,d=L(!1),I=L(o.maxItems),T=$(()=>o.activities.slice(0,I.value)),S=$(()=>o.showLoadMore&&o.activities.length>I.value),h=async()=>{if(!d.value){d.value=!0;try{await g("load-more"),I.value+=o.maxItems}finally{d.value=!1}}},_=(j,R)=>{g("action",{action:j,activity:R})},p=j=>{const R=new Date(j),H=Math.floor((new Date-R)/(1e3*60));if(o.timeFormat==="absolute")return R.toLocaleString();if(o.timeFormat==="relative"||H<60){if(H<1)return"Just now";if(H<60)return`${H}m ago`;const G=Math.floor(H/60);if(G<24)return`${G}h ago`;const Y=Math.floor(G/24);return Y<7?`${Y}d ago`:R.toLocaleDateString()}const E=p(j),U=R.toLocaleString();return`${E} (${U})`},D=j=>{const R="timeline-dot w-3 h-3 rounded-full border-2 border-white shadow-sm",M={success:"bg-success-500",warning:"bg-warning-500",error:"bg-error-500",info:"bg-info-500",default:"bg-neutral-400"},H=M[j.status]||M.default;return`${R} ${H}`},V=j=>{const R="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",M={create:"bg-success-100 text-success-800",update:"bg-info-100 text-info-800",delete:"bg-error-100 text-error-800",approve:"bg-success-100 text-success-800",reject:"bg-error-100 text-error-800",pending:"bg-warning-100 text-warning-800",default:"bg-neutral-100 text-neutral-800"};return`${R} ${M[j]||M.default}`},k=j=>{const R="inline-flex items-center space-x-1 px-3 py-1 text-sm font-medium rounded-md transition-colors",M={primary:"bg-primary-100 text-primary-700 hover:bg-primary-200",secondary:"bg-neutral-100 text-neutral-700 hover:bg-neutral-200",success:"bg-success-100 text-success-700 hover:bg-success-200",warning:"bg-warning-100 text-warning-700 hover:bg-warning-200",error:"bg-error-100 text-error-700 hover:bg-error-200",default:"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"};return`${R} ${M[j]||M.default}`};return(j,R)=>(s(),z(le,{title:t.title,loading:t.loading,class:"activity-timeline",padding:"md"},{actions:N(()=>[K(j.$slots,"actions",{},void 0,!0)]),default:N(()=>[e("div",Ct,[t.activities.length===0?(s(),r("div",Tt,[e("div",Mt,[t.emptyIcon?(s(),z(X(t.emptyIcon),{key:0,class:"w-12 h-12 text-neutral-400 mx-auto mb-3"})):y("",!0),e("p",It,a(t.emptyMessage),1)])])):(s(),r("div",jt,[(s(!0),r(W,null,q(T.value,(M,H)=>(s(),r("div",{key:M.id||H,class:x(["timeline-item",{"timeline-item--last":H===T.value.length-1}])},[e("div",Dt,[e("div",{class:x(D(M))},null,2)]),e("div",_t,[e("div",Pt,[e("div",Rt,[e("h4",Bt,a(M.title),1),M.description?(s(),r("p",Vt,a(M.description),1)):y("",!0)]),e("div",Nt,[e("time",{class:"activity-time",datetime:M.timestamp},a(p(M.timestamp)),9,Lt),M.type?(s(),r("span",{key:0,class:x(V(M.type))},a(M.type),3)):y("",!0)])]),M.details?(s(),r("div",Ot,[(s(!0),r(W,null,q(M.details,(E,U)=>(s(),r("div",{key:U,class:"detail-item"},[e("span",Et,a(U)+":",1),e("span",Ht,a(E),1)]))),128))])):y("",!0),M.actions?(s(),r("div",Wt,[(s(!0),r(W,null,q(M.actions,E=>(s(),r("button",{key:E.label,onClick:U=>_(E,M),class:x(["action-button",k(E.type)])},[E.icon?(s(),z(X(E.icon),{key:0,class:"w-4 h-4"})):y("",!0),F(" "+a(E.label),1)],10,Ft))),128))])):y("",!0)])],2))),128))])),S.value&&!t.loading?(s(),r("div",qt,[e("button",{onClick:h,class:"load-more-button",disabled:d.value},[d.value?(s(),z(X("LoadingIcon"),{key:0,class:"w-4 h-4 animate-spin"})):y("",!0),F(" "+a(d.value?"Loading...":"Load More"),1)],8,zt)])):y("",!0)])]),_:3},8,["title","loading"]))}},Qt=ce(Ut,[["__scopeId","data-v-20cefea4"]]),Gt={class:"actions-grid"},Kt=["onClick","disabled"],Jt={class:"action-icon"},Yt={class:"action-content"},Xt={class:"action-label"},Zt={key:0,class:"action-description"},es={key:0,class:"actions-footer"},ts={__name:"QuickActions",props:{actions:{type:Array,default:()=>[]},title:{type:String,default:"Quick Actions"},maxVisible:{type:Number,default:6},layout:{type:String,default:"grid",validator:t=>["grid","list"].includes(t)},loading:{type:Boolean,default:!1}},emits:["action"],setup(t,{emit:C}){const o=t,g=C,d=L(!1),I=$(()=>d.value||o.actions.length<=o.maxVisible?o.actions:o.actions.slice(0,o.maxVisible)),T=D=>{D.disabled||(g("action",D),D.href&&(D.external?window.open(D.href,"_blank"):window.location.href=D.href),D.route&&window.route&&(window.location.href=window.route(D.route,D.params||{})))},S=()=>{d.value=!d.value},h=D=>{const V=["group relative flex items-center p-4 rounded-xl border transition-all duration-200","hover:shadow-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"];D.disabled?V.push("opacity-50 cursor-not-allowed"):V.push("cursor-pointer hover:border-primary-200 hover:bg-primary-50");const k={primary:"border-primary-200 bg-primary-50 text-primary-900",secondary:"border-neutral-200 bg-white text-neutral-900",success:"border-success-200 bg-success-50 text-success-900",warning:"border-warning-200 bg-warning-50 text-warning-900",error:"border-error-200 bg-error-50 text-error-900",default:"border-neutral-200 bg-white text-neutral-900"},j=D.variant||"default";return V.push(k[j]),V},_=D=>{const V="w-6 h-6",k={primary:"text-primary-600",secondary:"text-neutral-600",success:"text-success-600",warning:"text-warning-600",error:"text-error-600",default:"text-neutral-600"},j=D.variant||"default";return`${V} ${k[j]}`},p=D=>{const V="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",k={primary:"bg-primary-100 text-primary-800",secondary:"bg-neutral-100 text-neutral-800",success:"bg-success-100 text-success-800",warning:"bg-warning-100 text-warning-800",error:"bg-error-100 text-error-800",info:"bg-info-100 text-info-800",default:"bg-neutral-100 text-neutral-800"},j=D.variant||"default";return`${V} ${k[j]}`};return(D,V)=>(s(),z(le,{title:t.title,loading:t.loading,class:"quick-actions",padding:"md"},{actions:N(()=>[K(D.$slots,"actions",{},void 0,!0)]),default:N(()=>[e("div",Gt,[(s(!0),r(W,null,q(I.value,k=>(s(),r("button",{key:k.id||k.label,onClick:j=>T(k),disabled:k.disabled||t.loading,class:x([h(k),"action-item"])},[e("div",Jt,[k.icon?(s(),z(X(k.icon),{key:0,class:x(_(k))},null,8,["class"])):y("",!0)]),e("div",Yt,[e("h4",Xt,a(k.label),1),k.description?(s(),r("p",Zt,a(k.description),1)):y("",!0),k.badge?(s(),r("span",{key:1,class:x(p(k.badge))},a(k.badge.text),3)):y("",!0)]),V[0]||(V[0]=e("div",{class:"action-arrow"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))],10,Kt))),128))]),t.actions.length>t.maxVisible?(s(),r("div",es,[e("button",{onClick:S,class:"toggle-button"},[F(a(d.value?"Show Less":`Show ${t.actions.length-t.maxVisible} More`)+" ",1),(s(),r("svg",{class:x(["w-4 h-4 transition-transform",{"rotate-180":d.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},V[1]||(V[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])])):y("",!0)]),_:3},8,["title","loading"]))}},ze=ce(ts,[["__scopeId","data-v-d61ca03f"]]),ss={class:"manager-dashboard"},ns={class:"welcome-section"},as={class:"welcome-content"},os={class:"welcome-title"},rs={class:"welcome-actions"},is=["disabled"],ls={class:"stats-grid"},cs={class:"dashboard-content"},ds={class:"left-column"},us={class:"performance-metrics"},ms={class:"metric-item"},gs={class:"metric-header"},vs={class:"metric-value"},bs={class:"metric-bar"},hs={class:"metric-item"},fs={class:"metric-header"},ys={class:"metric-value"},xs={class:"metric-bar"},ps={class:"metric-item"},ws={class:"metric-header"},ks={class:"metric-value"},$s={class:"metric-bar"},As={class:"right-column"},Ss={class:"team-members"},Cs={class:"member-avatar"},Ts=["src","alt"],Ms={key:1,class:"avatar-placeholder"},Is={class:"member-info"},js={class:"member-name"},Ds={class:"member-role"},_s={class:"member-status"},Ps={key:0,class:"member-task"},Rs={class:"member-actions"},Bs=["onClick"],Vs=["onClick"],Ns={class:"approval-count"},Ls={key:0,class:"empty-state"},Os={key:1,class:"approvals-container"},Es={class:"approvals-scroll"},Hs=["data-approval-id"],Ws={class:"approval-content"},Fs={class:"approval-header"},qs={class:"approval-title"},zs={class:"approval-requester"},Us={class:"approval-date"},Qs={key:0,class:"approval-stats"},Gs={class:"stats-row"},Ks={class:"stat-item"},Js={class:"stat-value"},Ys={class:"stat-item"},Xs={class:"stat-value"},Zs={key:0,class:"stats-row"},en={class:"stat-item overtime"},tn={class:"stat-value"},sn={key:1,class:"approval-feedback"},nn={class:"approval-actions"},an=["onClick","disabled","title"],on={key:0,class:"w-4 h-4 animate-spin"},rn=["onClick","disabled","title"],ln={key:0,class:"w-4 h-4 animate-spin"},cn={key:0,class:"view-all-section"},dn={__name:"ManagerDashboard",props:{stats:{type:Object,default:()=>({teamSize:0,activeProjects:0,pendingTasks:0,teamAttendance:0,teamTrend:0,projectTrend:0,taskTrend:0,attendanceTrend:0})},teamActivities:{type:Array,default:()=>[]},teamPerformance:{type:Object,default:()=>({completionRate:85,taskVelocity:12,satisfaction:4.2})},teamMembers:{type:Array,default:()=>[]},pendingApprovals:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh","approve","reject","action","view-member","send-message"],setup(t,{emit:C}){const o=C,{user:g}=Me(),d=L(!1),I=L(!1),T=L(new Set),S=L({}),h=L(!1),_=L(null),p=L("approve"),D=$(()=>{var b;return((b=g.value)==null?void 0:b.name)||"Manager"}),V=$(()=>{const b=new Date().getHours();return b<12?"morning":b<17?"afternoon":"evening"}),k=$(()=>[{id:"create-project",label:"New Project",description:"Start a new team project",icon:Ce,variant:"primary",route:"projects.create"},{id:"assign-tasks",label:"Assign Tasks",description:"Delegate tasks to team members",icon:De,variant:"secondary",route:"tasks.create"},{id:"team-reports",label:"Team Reports",description:"View team performance analytics",icon:ie,variant:"info",route:"reports.team"},{id:"schedule-meeting",label:"Schedule Meeting",description:"Plan team meetings and reviews",icon:Oe,variant:"success",route:"meetings.create"},{id:"review-timesheets",label:"Review Timesheets",description:"Approve team time entries",icon:te,variant:"warning",route:"timesheets.review"},{id:"team-feedback",label:"Team Feedback",description:"Provide feedback to team members",icon:Ee,variant:"secondary",route:"feedback.create"}]),j=async()=>{d.value=!0;try{await o("refresh")}finally{d.value=!1}},R=b=>{o("action",{type:"timeline",data:b})},M=b=>{o("action",{type:"quick-action",data:b})},H=()=>{o("action",{type:"view-reports"})},E=b=>{o("view-member",b)},U=b=>{o("send-message",b)},G=(b,f)=>{_.value=b,p.value=f,h.value=!0},Y=async b=>{I.value=!0,delete S.value[b.approval.id];try{const f={...b.approval,comments:b.comments};b.action==="approve"?await o("approve",f):await o("reject",f),ae(b.approval.id,"success",`${b.action==="approve"?"Approved":"Rejected"} successfully`),setTimeout(()=>{delete S.value[b.approval.id]},3e3),h.value=!1}catch{ae(b.approval.id,"error",`Failed to ${b.action}. Please try again.`),setTimeout(()=>{delete S.value[b.approval.id]},5e3)}finally{I.value=!1}},de=()=>{o("action",{type:"view-all-approvals"})},ue=b=>{const f="absolute -bottom-0 -right-0 w-3 h-3 rounded-full border-2 border-white",u={online:"bg-success-500",away:"bg-warning-500",busy:"bg-error-500",offline:"bg-neutral-400"};return`${f} ${u[b]||u.offline}`},me=b=>{const f="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",u={online:"bg-success-100 text-success-800",away:"bg-warning-100 text-warning-800",busy:"bg-error-100 text-error-800",offline:"bg-neutral-100 text-neutral-800"};return`${f} ${u[b]||u.offline}`},ge=b=>{const f=new Date,u=new Date(b),O=Math.floor((f-u)/(1e3*60));if(O<1)return"Just now";if(O<60)return`${O}m ago`;const ve=Math.floor(O/60);return ve<24?`${ve}h ago`:`${Math.floor(ve/24)}d ago`},ae=(b,f,u)=>{S.value[b]={type:f,message:u}},w=b=>{const f="flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium",u={success:"bg-success-50 text-success-700 border border-success-200",error:"bg-error-50 text-error-700 border border-error-200",warning:"bg-warning-50 text-warning-700 border border-warning-200"};return`${f} ${u[b]||u.error}`},c=b=>({success:ne,error:se,warning:se})[b]||se;return Ne(()=>{}),(b,f)=>(s(),r("div",ss,[e("div",ns,[e("div",as,[e("h1",os," Good "+a(V.value)+", "+a(D.value)+"! ",1),f[1]||(f[1]=e("p",{class:"welcome-subtitle"}," Here's your team overview and management tools for today. ",-1))]),e("div",rs,[e("button",{onClick:j,disabled:d.value,class:"refresh-button"},[(s(),z(X(d.value?"LoadingIcon":"ArrowPathIcon"),{class:x(["w-4 h-4",{"animate-spin":d.value}])},null,8,["class"])),f[2]||(f[2]=F(" Refresh "))],8,is)])]),e("div",ls,[m(Se,{value:t.stats.teamSize,label:"Team Members",icon:i(Te),"icon-color":"primary",variant:"featured",trend:t.stats.teamTrend,loading:t.loading,clickable:!0,route:"employees.index"},null,8,["value","icon","trend","loading"]),m(Se,{value:t.stats.pendingTasks,label:"Pending Tasks",icon:i(De),"icon-color":"warning",trend:t.stats.taskTrend,loading:t.loading,clickable:!0,route:"tasks.index"},null,8,["value","icon","trend","loading"]),m(Se,{value:t.stats.teamAttendance,label:"Team Attendance",icon:i(He),"icon-color":"info",unit:"%",trend:t.stats.attendanceTrend,loading:t.loading,clickable:!0,route:"attendances.index"},null,8,["value","icon","trend","loading"])]),e("div",cs,[e("div",ds,[m(Qt,{activities:t.teamActivities,title:"Team Activity","max-items":8,loading:t.loading,onAction:R},null,8,["activities","loading"]),m(le,{title:"Team Performance",loading:t.loading,class:"team-performance"},{actions:N(()=>[e("button",{onClick:H,class:"text-sm text-primary-600 hover:text-primary-700"}," View Reports ")]),default:N(()=>[e("div",us,[e("div",ms,[e("div",gs,[f[3]||(f[3]=e("span",{class:"metric-label"},"Project Completion Rate",-1)),e("span",vs,a(t.teamPerformance.completionRate)+"%",1)]),e("div",bs,[e("div",{class:"metric-progress bg-success-500",style:ee({width:`${t.teamPerformance.completionRate}%`})},null,4)])]),e("div",hs,[e("div",fs,[f[4]||(f[4]=e("span",{class:"metric-label"},"Average Task Velocity",-1)),e("span",ys,a(t.teamPerformance.taskVelocity)+" tasks/week",1)]),e("div",xs,[e("div",{class:"metric-progress bg-info-500",style:ee({width:`${Math.min(t.teamPerformance.taskVelocity*10,100)}%`})},null,4)])]),e("div",ps,[e("div",ws,[f[5]||(f[5]=e("span",{class:"metric-label"},"Team Satisfaction",-1)),e("span",ks,a(t.teamPerformance.satisfaction)+"/5",1)]),e("div",$s,[e("div",{class:"metric-progress bg-warning-500",style:ee({width:`${t.teamPerformance.satisfaction/5*100}%`})},null,4)])])])]),_:1},8,["loading"])]),e("div",As,[m(ze,{actions:k.value,title:"Management Tools","max-visible":6,onAction:M},null,8,["actions"]),m(le,{title:"Team Status",loading:t.loading,class:"team-status"},{default:N(()=>[e("div",Ss,[(s(!0),r(W,null,q(t.teamMembers,u=>(s(),r("div",{key:u.id,class:"team-member"},[e("div",Cs,[u.avatar?(s(),r("img",{key:0,src:u.avatar,alt:u.name,class:"w-10 h-10 rounded-full"},null,8,Ts)):(s(),r("div",Ms,a(u.name.charAt(0)),1)),e("div",{class:x(ue(u.status))},null,2)]),e("div",Is,[e("h4",js,a(u.name),1),e("p",Ds,a(u.role),1),e("div",_s,[e("span",{class:x(me(u.status))},a(u.status),3),u.currentTask?(s(),r("span",Ps," Working on: "+a(u.currentTask),1)):y("",!0)])]),e("div",Rs,[e("button",{onClick:O=>E(u),class:"action-button",title:"View Details"},[m(i(nt),{class:"w-4 h-4"})],8,Bs),e("button",{onClick:O=>U(u),class:"action-button",title:"Send Message"},[m(i(qe),{class:"w-4 h-4"})],8,Vs)])]))),128))])]),_:1},8,["loading"]),m(le,{title:"Pending Approvals",loading:t.loading,class:"pending-approvals"},{actions:N(()=>[e("span",Ns,a(t.pendingApprovals.length),1)]),default:N(()=>[t.pendingApprovals.length===0?(s(),r("div",Ls,[m(i(ne),{class:"w-12 h-12 text-success-400 mx-auto mb-3"}),f[6]||(f[6]=e("p",{class:"text-neutral-500 text-center"},"All approvals handled!",-1))])):(s(),r("div",Os,[e("div",Es,[(s(!0),r(W,null,q(t.pendingApprovals,u=>(s(),r("div",{key:u.id,"data-approval-id":u.id,class:x(["approval-item",{"approval-processing":T.value.has(u.id)}])},[e("div",Ws,[e("div",Fs,[e("h4",qs,a(u.title),1)]),e("p",zs," Requested by "+a(u.requester),1),e("span",Us,a(ge(u.created_at)),1),u.type==="timesheet"&&u.stats?(s(),r("div",Qs,[e("div",Gs,[e("div",Ks,[f[7]||(f[7]=e("span",{class:"stat-label"},"Total Hours:",-1)),e("span",Js,a(u.stats.total_hours||"0h 0m"),1)]),e("div",Ys,[f[8]||(f[8]=e("span",{class:"stat-label"},"Days:",-1)),e("span",Xs,a(u.stats.days_count||0),1)])]),u.stats.overtime_hours?(s(),r("div",Zs,[e("div",en,[f[9]||(f[9]=e("span",{class:"stat-label"},"Overtime:",-1)),e("span",tn,a(u.stats.overtime_hours),1)])])):y("",!0)])):y("",!0),S.value[u.id]?(s(),r("div",sn,[e("div",{class:x(w(S.value[u.id].type))},[(s(),z(X(c(S.value[u.id].type)),{class:"w-4 h-4"})),e("span",null,a(S.value[u.id].message),1)],2)])):y("",!0)]),e("div",nn,[e("button",{onClick:O=>G(u,"approve"),class:"approve-button",disabled:I.value||T.value.has(u.id),title:T.value.has(u.id)?"Processing...":"Approve"},[T.value.has(u.id)?(s(),r("div",on,f[10]||(f[10]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):(s(),z(i(We),{key:1,class:"w-4 h-4"}))],8,an),e("button",{onClick:O=>G(u,"reject"),class:"reject-button",disabled:I.value||T.value.has(u.id),title:T.value.has(u.id)?"Processing...":"Reject"},[T.value.has(u.id)?(s(),r("div",ln,f[11]||(f[11]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):(s(),z(i(Fe),{key:1,class:"w-4 h-4"}))],8,rn)])],10,Hs))),128))]),t.pendingApprovals.length>3?(s(),r("div",cn,[e("button",{onClick:de,class:"view-all-link"},[e("span",null,"View All "+a(t.pendingApprovals.length)+" Approvals",1),f[12]||(f[12]=e("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])])):y("",!0)]))]),_:1},8,["loading"])])]),m(st,{show:h.value,approval:_.value,action:p.value,onClose:f[0]||(f[0]=u=>h.value=!1),onSubmit:Y},null,8,["show","approval","action"])]))}},un=ce(dn,[["__scopeId","data-v-539c5cb0"]]),mn={class:"employee-dashboard"},gn={class:"motivation-block"},vn={class:"motivation-content"},bn={class:"motivation-text"},hn={class:"quick-clock-actions"},fn=["disabled"],yn=["disabled"],xn=["disabled"],pn={key:0,class:"birthday-minimal-widget"},wn={class:"bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-200 rounded-lg p-3 mb-4"},kn={class:"flex items-center justify-between"},$n={class:"flex items-center space-x-2"},An={class:"text-sm font-medium text-pink-800"},Sn={class:"text-xs text-pink-600"},Cn={class:"time-tracking-section"},Tn={class:"real-time-clock"},Mn={class:"clock-display"},In={class:"current-time"},jn={class:"current-date"},Dn={class:"work-status"},_n={class:"status-text"},Pn={class:"time-progress-block"},Rn={class:"duration-display"},Bn={class:"duration-item"},Vn={class:"duration-value"},Nn={key:0,class:"duration-item"},Ln={class:"duration-value"},On={class:"duration-item"},En={class:"duration-value"},Hn={class:"horizontal-clock-container"},Wn={class:"time-markers"},Fn={class:"marker-time"},qn={class:"time-progress-bar"},zn={key:0,class:"current-time-indicator"},Un={class:"time-tooltip"},Qn={class:"time-progress-info"},Gn={class:"progress-left"},Kn={class:"progress-time"},Jn={class:"progress-right"},Yn={class:"progress-percentage"},Xn={class:"journey-overview-section"},Zn={class:"journey-milestones"},ea={class:"milestone-grid"},ta={class:"milestone-card"},sa={class:"milestone-icon"},na={class:"milestone-content"},aa={class:"milestone-value"},oa={class:"milestone-sublabel"},ra={class:"milestone-card"},ia={class:"milestone-icon"},la={class:"milestone-content"},ca={class:"milestone-value"},da={class:"milestone-card"},ua={class:"milestone-icon"},ma={class:"milestone-content"},ga={class:"milestone-value"},va={class:"milestone-card"},ba={class:"milestone-icon"},ha={class:"milestone-content"},fa={class:"milestone-value"},ya={class:"performance-stats"},xa={class:"stats-grid"},pa={class:"stat-card primary"},wa={class:"stat-header"},ka={class:"stat-value"},$a={class:"stat-card success"},Aa={class:"stat-header"},Sa={class:"stat-value"},Ca={class:"stat-card info"},Ta={class:"stat-header"},Ma={class:"stat-value"},Ia={class:"stat-card warning"},ja={class:"stat-header"},Da={class:"consistency-score"},_a={class:"stat-value"},Pa={key:0,class:"achievements-section"},Ra={class:"achievements-grid"},Ba={class:"achievement-summary"},Va={class:"achievement-count"},Na={class:"recent-achievements"},La={class:"achievement-text"},Oa={class:"growth-progress"},Ea={class:"progress-items"},Ha={class:"progress-item"},Wa={class:"progress-header"},Fa={class:"progress-value"},qa={class:"progress-bar"},za={class:"dashboard-content"},Ua={class:"left-column"},Qa={key:0,class:"empty-state"},Ga={key:1,class:"feedback-list"},Ka={class:"feedback-header"},Ja={class:"feedback-from"},Ya={class:"feedback-author"},Xa={class:"feedback-role"},Za={class:"feedback-rating"},eo={class:"rating-stars"},to={class:"feedback-comment"},so={class:"feedback-date"},no={class:"right-column"},ao={__name:"EmployeeDashboard",props:{stats:{type:Object,default:()=>({hoursToday:0,tasksCompleted:0,leaveBalance:0,upcomingDeadlines:0,taskTrend:0,daysWithCompany:0,yearsOfService:0,monthsWithCompany:0,totalWorkHours:0,projectsContributed:0,performanceRank:"N/A",myAverageRating:"N/A",attendanceRate:0,myWorkReports:0,mySuccessfulCalls:0,consistencyScore:0,totalAchievements:0,recentAchievements:[],performanceTrend:0,attendanceTrend:0,productivityTrend:0,competencyProgress:0})},personalActivities:{type:Array,default:()=>[]},myTasks:{type:Array,default:()=>[]},recentFeedback:{type:Array,default:()=>[]},clockedIn:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},currentAttendance:{type:Object,default:()=>({clocked_in:!1,on_break:!1,clock_in_time:null,break_sessions:[],current_break_start:null,todays_summary:{total_hours:"0h 0m",break_time:"0h 0m",sessions:0,clock_ins:0},recent_activities:[],stats:{weekly_hours:"0h 0m",monthly_hours:"0h 0m",average_daily:"0h 0m"}})},birthdayNotifications:{type:Object,default:()=>({todaysBirthdays:[],upcomingBirthdays:[],stats:{}})}},emits:["clock-in-out","toggle-task","action","view-task"],setup(t,{emit:C}){const o=t,g=C;Me();const d=L(new Date),I=L(""),T=L("0h 0m 0s"),S=L("0h 0m 0s"),h=L(null);let _=null;const p=$(()=>{const l=o.clockedIn||o.currentAttendance.clocked_in;return console.log("üîç isCurrentlyClockedIn computed:",{propsClockedIn:o.clockedIn,currentAttendanceClockedIn:o.currentAttendance.clocked_in,result:l}),l}),D=$(()=>p.value?"Clock Out":"Clock In"),V=$(()=>["inline-flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",p.value?"text-white bg-error-600 border border-error-600 hover:bg-error-700 focus:ring-error-500":"text-white bg-success-600 border border-success-600 hover:bg-success-700 focus:ring-success-500"]),k=$(()=>d.value.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})),j=$(()=>!p.value||!o.currentAttendance.clock_in_time?"before-work":"during-work"),R=$(()=>{if(!p.value)return console.log("üîç Progress: Not clocked in, returning 0%"),0;const l=o.currentAttendance.clock_in_time;if(!l)return console.log("üîç Progress: No clock in time, returning 0%"),0;const n=d.value,v=new Date(l);if(n<v)return console.log("üîç Progress: Current time before clock in, returning 0%"),0;const P=(n.getTime()-v.getTime())/(1e3*60*60),B=P/8*100,J=Math.min(100,Math.max(0,B));return console.log("üîç Progress calculation:",{clockInTime:l,now:n.toISOString(),workTimeElapsedHours:P.toFixed(2),percentage:B.toFixed(2),finalPercentage:J.toFixed(2)}),J}),M=$(()=>{const l=Math.round(R.value);switch(j.value){case"before-work":return p.value?"Work session starting":"Ready to clock in";case"after-work":return"Workday complete!";case"during-work":return`${l}% of workday`;default:return`${l}% of workday`}}),H=$(()=>{switch(j.value){case"before-work":return"Pre-work";case"after-work":return"Complete";case"during-work":return"Active";default:return"Active"}}),E=$(()=>[{label:"8 AM",isLunch:!1},{label:"9",isLunch:!1},{label:"10",isLunch:!1},{label:"11",isLunch:!1},{label:"12 PM",isLunch:!0},{label:"1",isLunch:!1},{label:"2",isLunch:!1},{label:"3",isLunch:!1},{label:"4",isLunch:!1},{label:"5 PM",isLunch:!1}]),U=$(()=>{if(!p.value)return 0;const l=o.currentAttendance.clock_in_time;if(!l)return 0;const n=d.value,v=new Date(n);v.setHours(8,0,0,0);const A=new Date(n);A.setHours(17,0,0,0);const P=new Date(l),Q=A.getTime()-v.getTime(),B=P.getTime()-v.getTime(),J=Math.max(0,B/Q*100);return Math.min(100,J)}),G=$(()=>{if(!p.value)return console.log("üîç ProgressWidth: Not clocked in, returning 0"),0;const l=o.currentAttendance.clock_in_time;if(!l)return console.log("üîç ProgressWidth: No clock in time, returning 0"),0;const n=d.value,v=new Date(n);v.setHours(8,0,0,0);const A=new Date(n);A.setHours(17,0,0,0);const P=new Date(l),Q=A.getTime()-v.getTime();if(n<P)return console.log("üîç ProgressWidth: Current time before clock in, returning 0"),0;const B=n.getTime()-v.getTime(),J=Math.min(100,Math.max(0,B/Q*100)),Ae=P.getTime()-v.getTime(),he=Math.max(0,Ae/Q*100),fe=J-he,ye=Math.max(0,fe);return console.log("üîç ProgressWidth calculation:",{clockInTime:l,timelineStart:v.toISOString(),timelineEnd:A.toISOString(),currentPositionPercent:J.toFixed(2),clockInPositionPercent:he.toFixed(2),width:fe.toFixed(2),finalWidth:ye.toFixed(2)}),ye}),Y=$(()=>{if(!p.value)return 0;const l=o.currentAttendance.clock_in_time;if(!l)return 0;const n=d.value,v=new Date(n);v.setHours(8,0,0,0);const A=new Date(n);A.setHours(17,0,0,0);const P=new Date(l),Q=A.getTime()-v.getTime(),B=P.getTime()-v.getTime(),J=Math.max(0,B/Q*100);return Math.min(100,J)}),de=$(()=>{if(!p.value)return[];const l=d.value,n=new Date(l);n.setHours(8,0,0,0);const v=new Date(l);v.setHours(17,0,0,0);const A=v.getTime()-n.getTime(),P=[];if((o.currentAttendance.break_sessions||[]).forEach(B=>{B.start&&P.push({start:B.start,end:B.end,isOngoing:!1})}),o.currentAttendance.on_break){let B=null;o.currentAttendance.current_break_start?B=o.currentAttendance.current_break_start:h.value&&(B=h.value),B&&P.push({start:B,end:null,isOngoing:!0})}return P.length===0?[]:P.map((B,J)=>{const Ae=new Date(B.start),he=B.end?new Date(B.end):l,fe=Ae.getTime()-n.getTime(),ye=he.getTime()-n.getTime(),je=Math.max(0,fe/A*100),Ge=Math.min(100,ye/A*100),Ke=Math.max(0,Ge-je);return{left:je,width:Ke,isOngoing:B.isOngoing}}).filter(B=>B.width>0)}),ue=$(()=>[{id:"my-assessments",label:"My Assessments",description:"View and complete competency assessments",icon:ne,variant:"primary",route:"competency-assessments.my-assessments"},{id:"request-leave",label:"Request Leave",description:"Submit a new leave request",icon:Oe,variant:"secondary",route:"leaves.create"},{id:"assessment-dashboard",label:"Assessment Dashboard",description:"View assessment overview and analytics",icon:se,variant:"success",route:"assessment-dashboard"}]),me=$(()=>{const l=o.birthdayNotifications||{},n=(l.todaysBirthdays||[]).length,v=(l.upcomingBirthdays||[]).length;return n>0||v>0}),ge=$(()=>{const l=o.birthdayNotifications||{},n=(l.todaysBirthdays||[]).length,v=(l.upcomingBirthdays||[]).length;return n>0?n===1?"Birthday today!":`${n} birthdays today!`:v>0?"Upcoming birthdays":""}),ae=$(()=>{const l=o.birthdayNotifications||{},n=(l.todaysBirthdays||[]).length,v=(l.upcomingBirthdays||[]).length;return n>0?`${n} today`:v>0?`${v} upcoming`:""}),w=()=>{const l="text-xs font-medium px-2 py-1 rounded-full";switch(j.value){case"before-work":return`${l} bg-neutral-100 text-neutral-600`;case"after-work":return`${l} bg-success-100 text-success-700`;case"during-work":return`${l} bg-primary-100 text-primary-700`;default:return`${l} bg-primary-100 text-primary-700`}},c=()=>{const l="flex items-center space-x-2";switch(j.value){case"before-work":return`${l} text-neutral-600`;case"after-work":return`${l} text-success-700`;case"during-work":return o.currentAttendance.on_break?`${l} text-warning-700`:`${l} text-primary-700`;default:return`${l} text-primary-700`}},b=()=>{const l=new Date;d.value=l,I.value=l.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},f=()=>{if(p.value&&o.currentAttendance.clock_in_time){const l=new Date(o.currentAttendance.clock_in_time),v=new Date-l,A=Math.floor(v/(1e3*60*60)),P=Math.floor(v%(1e3*60*60)/(1e3*60)),Q=Math.floor(v%(1e3*60)/1e3);T.value=`${A}h ${P}m ${Q}s`}else T.value="0h 0m 0s";if(o.currentAttendance.on_break){let l=null;if(o.currentAttendance.current_break_start)l=new Date(o.currentAttendance.current_break_start);else if(h.value)l=new Date(h.value);else if(o.currentAttendance.break_sessions&&o.currentAttendance.break_sessions.length>0){const n=o.currentAttendance.break_sessions[o.currentAttendance.break_sessions.length-1];n&&!n.end&&(l=new Date(n.start))}if(l&&!isNaN(l.getTime())){const v=Math.max(0,new Date-l),A=Math.floor(v/(1e3*60*60)),P=Math.floor(v%(1e3*60*60)/(1e3*60)),Q=Math.floor(v%(1e3*60)/1e3);S.value=`${A}h ${P}m ${Q}s`,h.value||(h.value=l.toISOString())}else h.value||(h.value=new Date().toISOString()),S.value="0h 0m 1s"}else S.value="0h 0m 0s",h.value=null},u=async()=>{try{console.log("üîç EmployeeDashboard: Clock in/out button clicked"),console.log("üîç Current state:",{isCurrentlyClockedIn:p.value,clockedIn:o.clockedIn,currentAttendanceClockedIn:o.currentAttendance.clocked_in}),g("clock-in-out"),setTimeout(()=>{const l=new CustomEvent("attendance-state-changed",{detail:{clockedIn:!p.value,onBreak:!1,clockInTime:p.value?null:new Date().toISOString(),breakStartTime:null,timestamp:Date.now()}});window.dispatchEvent(l)},100)}catch(l){console.error("Clock in/out failed:",l)}},O=async()=>{try{h.value=new Date().toISOString(),g("action",{type:"take-break"}),setTimeout(()=>{const l=new CustomEvent("attendance-state-changed",{detail:{clockedIn:!0,onBreak:!0,clockInTime:o.currentAttendance.clock_in_time,breakStartTime:h.value,timestamp:Date.now()}});window.dispatchEvent(l)},100)}catch(l){console.error("Take break failed:",l)}},ve=async()=>{try{g("action",{type:"end-break"}),setTimeout(()=>{const l=new CustomEvent("attendance-state-changed",{detail:{clockedIn:!0,onBreak:!1,clockInTime:o.currentAttendance.clock_in_time,breakStartTime:null,timestamp:Date.now()}});window.dispatchEvent(l)},100)}catch(l){console.error("End break failed:",l)}},Ie=(l,n)=>{const v=Number(l)||0,A=Number(n)||0;return v>0?`${v} year${v>1?"s":""}, ${A} month${A>1?"s":""}`:`${A} month${A>1?"s":""}`},be=l=>{const n=Number(l)||0;return n>0?`+${n}%`:n<0?`${n}%`:"0%"},$e=l=>{const n=Number(l)||0;return n===0?"neutral":n>0?"positive":"negative"},Ue=l=>{if(!l)return"Unknown";try{const n=new Date(l),A=new Date-n,P=Math.floor(A/(1e3*60*60*24));return P===0?"Today":P===1?"Yesterday":P<7?`${P} days ago`:P<30?`${Math.floor(P/7)} weeks ago`:`${Math.floor(P/30)} months ago`}catch{return"Unknown"}},Qe=l=>{g("action",l)};return Ne(()=>{b(),f(),_=setInterval(()=>{b(),f()},1e3)}),Je(()=>{_&&clearInterval(_)}),(l,n)=>(s(),r("div",mn,[e("div",gn,[e("div",vn,[e("p",bn,[m(i(_e),{class:"w-5 h-5 inline-block mr-2 text-yellow-500"}),n[0]||(n[0]=F(" Ready to tackle today's challenges? "))])]),e("div",hn,[e("button",{onClick:u,disabled:t.loading,class:x(V.value)},[m(i(te),{class:"w-4 h-4"}),F(" "+a(D.value),1)],10,fn),p.value&&!t.currentAttendance.on_break?(s(),r("button",{key:0,onClick:O,disabled:t.loading,class:"break-button"},[m(i(Ze),{class:"w-4 h-4"}),n[1]||(n[1]=F(" Take Break "))],8,yn)):y("",!0),p.value&&t.currentAttendance.on_break?(s(),r("button",{key:1,onClick:ve,disabled:t.loading,class:"end-break-button"},[m(i(et),{class:"w-4 h-4"}),n[2]||(n[2]=F(" End Break "))],8,xn)):y("",!0)])]),me.value?(s(),r("div",pn,[e("div",wn,[e("div",kn,[e("div",$n,[n[3]||(n[3]=e("span",{class:"text-lg"},"üéâ",-1)),e("div",null,[e("span",An,a(ge.value),1)])]),e("span",Sn,a(ae.value),1)])])])):y("",!0),e("div",Cn,[e("div",Tn,[e("div",Mn,[e("div",In,a(k.value),1),e("div",jn,a(I.value),1)]),e("div",Dn,[e("div",{class:x(["status-indicator",c()])},[n[4]||(n[4]=e("div",{class:"status-dot"},null,-1)),e("span",_n,a(H.value),1)],2)])]),e("div",Pn,[e("div",Rn,[e("div",Bn,[n[5]||(n[5]=e("div",{class:"duration-label"},"Work Time",-1)),e("div",Vn,a(T.value),1)]),t.currentAttendance.on_break?(s(),r("div",Nn,[n[6]||(n[6]=e("div",{class:"duration-label"},"Break Time",-1)),e("div",Ln,a(S.value),1)])):y("",!0),e("div",On,[n[7]||(n[7]=e("div",{class:"duration-label"},"Progress",-1)),e("div",En,a(Math.round(R.value))+"%",1)])]),e("div",Hn,[e("div",Wn,[(s(!0),r(W,null,q(E.value,(v,A)=>(s(),r("div",{key:A,class:x(["time-marker",{"start-marker":A===0,"end-marker":A===E.value.length-1,"lunch-marker":v.isLunch,"regular-marker":!v.isLunch&&A!==0&&A!==E.value.length-1}])},[n[8]||(n[8]=e("div",{class:"marker-line"},null,-1)),e("span",Fn,a(v.label),1)],2))),128))]),e("div",qn,[n[10]||(n[10]=e("div",{class:"progress-bar-shimmer"},null,-1)),p.value&&Y.value>0?(s(),r("div",{key:0,class:"pre-work-fill",style:ee({width:`${Y.value}%`,transition:"width 0.5s ease-out"})},null,4)):y("",!0),p.value&&G.value>0?(s(),r("div",{key:1,class:"work-progress-fill",style:ee({left:`${U.value}%`,width:`${G.value}%`,transition:"width 0.5s ease-out, left 0.5s ease-out"})},[j.value==="during-work"?(s(),r("div",zn,[n[9]||(n[9]=e("div",{class:"time-dot"},null,-1)),e("div",Un,a(k.value),1)])):y("",!0)],4)):y("",!0),(s(!0),r(W,null,q(de.value,(v,A)=>(s(),r("div",{key:`break-${A}`,class:x(["break-time-fill",{"ongoing-break":v.isOngoing}]),style:ee({left:`${v.left}%`,width:`${v.width}%`})},null,6))),128))]),e("div",Qn,[e("div",Gn,[e("span",Kn,a(k.value),1),e("span",{class:x(["progress-status",w()])},a(H.value),3)]),e("div",Jn,[e("span",Yn,a(M.value),1)])])])])]),e("div",Xn,[e("div",Zn,[n[18]||(n[18]=e("h3",{class:"section-title"},"Your Journey",-1)),e("div",ea,[e("div",ta,[e("div",sa,[m(i(He),{class:"w-6 h-6 text-blue-600"})]),e("div",na,[e("div",aa,a(Math.floor(t.stats.daysWithCompany||0)),1),n[11]||(n[11]=e("div",{class:"milestone-label"},"Days with Company",-1)),e("div",oa,a(Ie(Math.floor(t.stats.yearsOfService||0),Math.floor(t.stats.monthsWithCompany||0))),1)])]),e("div",ra,[e("div",ia,[m(i(te),{class:"w-6 h-6 text-green-600"})]),e("div",la,[e("div",ca,a(t.stats.totalWorkHours||0)+"h",1),n[12]||(n[12]=e("div",{class:"milestone-label"},"Total Work Hours",-1)),n[13]||(n[13]=e("div",{class:"milestone-sublabel"},"Lifetime contribution",-1))])]),e("div",da,[e("div",ua,[m(i(ie),{class:"w-6 h-6 text-purple-600"})]),e("div",ma,[e("div",ga,a(t.stats.projectsContributed||0),1),n[14]||(n[14]=e("div",{class:"milestone-label"},"Projects",-1)),n[15]||(n[15]=e("div",{class:"milestone-sublabel"},"Cross-functional work",-1))])]),e("div",va,[e("div",ba,[m(i(Pe),{class:"w-6 h-6 text-yellow-600"})]),e("div",ha,[e("div",fa,a(t.stats.performanceRank||"N/A"),1),n[16]||(n[16]=e("div",{class:"milestone-label"},"Performance Rank",-1)),n[17]||(n[17]=e("div",{class:"milestone-sublabel"},"Among peers",-1))])])])]),e("div",ya,[n[23]||(n[23]=e("h3",{class:"section-title"},"Performance & Growth",-1)),e("div",xa,[e("div",pa,[e("div",wa,[m(i(ne),{class:"w-5 h-5"}),e("span",{class:x(["stat-trend",$e(t.stats.performanceTrend)])},a(be(t.stats.performanceTrend)),3)]),e("div",ka,a(t.stats.myAverageRating||"N/A"),1),n[19]||(n[19]=e("div",{class:"stat-label"},"Avg Rating",-1))]),e("div",$a,[e("div",Aa,[m(i(Ee),{class:"w-5 h-5"}),e("span",{class:x(["stat-trend",$e(t.stats.attendanceTrend)])},a(be(t.stats.attendanceTrend)),3)]),e("div",Sa,a(isNaN(t.stats.attendanceRate)?"N/A":Math.round(t.stats.attendanceRate||0)+"%"),1),n[20]||(n[20]=e("div",{class:"stat-label"},"Attendance Rate",-1))]),e("div",Ca,[e("div",Ta,[m(i(ie),{class:"w-5 h-5"}),e("span",{class:x(["stat-trend",$e(t.stats.productivityTrend)])},a(be(t.stats.productivityTrend)),3)]),e("div",Ma,a(t.stats.myWorkReports||0),1),n[21]||(n[21]=e("div",{class:"stat-label"},"Work Reports",-1))]),e("div",Ia,[e("div",ja,[m(i(_e),{class:"w-5 h-5"}),e("span",Da,a(Math.round(t.stats.consistencyScore||0))+"%",1)]),e("div",_a,a(t.stats.mySuccessfulCalls||0),1),n[22]||(n[22]=e("div",{class:"stat-label"},"Successful Calls",-1))])])]),t.stats.totalAchievements>0?(s(),r("div",Pa,[n[26]||(n[26]=e("h3",{class:"section-title"},"Achievements & Recognition",-1)),e("div",Ra,[e("div",Ba,[e("div",Va,a(t.stats.totalAchievements),1),n[24]||(n[24]=e("div",{class:"achievement-label"},"Total Achievements",-1))]),e("div",Na,[(s(!0),r(W,null,q(t.stats.recentAchievements,v=>(s(),r("div",{key:v,class:"achievement-item"},[n[25]||(n[25]=e("div",{class:"achievement-badge"},"üèÜ",-1)),e("span",La,a(v),1)]))),128))])])])):y("",!0),e("div",Oa,[n[28]||(n[28]=e("h3",{class:"section-title"},"Development Progress",-1)),e("div",Ea,[e("div",Ha,[e("div",Wa,[n[27]||(n[27]=e("span",{class:"progress-label"},"Competency Progress",-1)),e("span",Fa,a(be(t.stats.competencyProgress)),1)]),e("div",qa,[e("div",{class:"progress-fill",style:ee({width:Math.abs(t.stats.competencyProgress||0)+"%"})},null,4)])])])])]),e("div",za,[e("div",Ua,[m(le,{title:"Recent Feedback",loading:t.loading,class:"recent-feedback"},{default:N(()=>[t.recentFeedback.length===0?(s(),r("div",Qa,[m(i(qe),{class:"w-12 h-12 text-neutral-400 mx-auto mb-3"}),n[29]||(n[29]=e("p",{class:"text-neutral-500 text-center"},"No recent feedback",-1))])):(s(),r("div",Ga,[(s(!0),r(W,null,q(t.recentFeedback.slice(0,3),v=>(s(),r("div",{key:v.id,class:"feedback-item"},[e("div",Ka,[e("div",Ja,[e("span",Ya,a(v.from.name),1),e("span",Xa,a(v.from.role),1)]),e("div",Za,[e("div",eo,[(s(),r(W,null,q(5,A=>m(i(Pe),{key:A,class:x(["w-4 h-4",A<=v.rating?"text-warning-400 fill-current":"text-neutral-300"])},null,8,["class"])),64))])])]),e("p",to,a(v.comment),1),e("span",so,a(Ue(v.created_at)),1)]))),128))]))]),_:1},8,["loading"])]),e("div",no,[m(ze,{actions:ue.value,title:"Quick Actions","max-visible":6,onAction:Qe},null,8,["actions"])])])]))}},oo=ce(ao,[["__scopeId","data-v-6b7a50b7"]]),ro={class:"pending-approvals-widget"},io={class:"widget-header"},lo={class:"approval-count"},co={key:0,class:"text-xs text-gray-500 ml-1"},uo={key:0,class:"empty-state"},mo={key:1,class:"approvals-list"},go={class:"approval-content"},vo={class:"approval-title"},bo={class:"approval-description"},ho={class:"approval-requester"},fo={class:"approval-actions"},yo=["onClick"],xo=["onClick"],po={__name:"PendingApprovalsWidget",props:{approvals:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["approve","reject","view-all"],setup(t){return(C,o)=>(s(),r("div",ro,[e("div",io,[o[1]||(o[1]=e("h3",{class:"widget-title"},"Pending Approvals",-1)),e("span",lo,a(Math.min(t.approvals.length,5)),1),t.approvals.length>5?(s(),r("span",co,"of "+a(t.approvals.length),1)):y("",!0)]),t.approvals.length===0?(s(),r("div",uo,[m(i(ne),{class:"w-12 h-12 text-green-500 mx-auto mb-3"}),o[2]||(o[2]=e("p",{class:"text-gray-600"},"No pending approvals",-1))])):(s(),r("div",mo,[(s(!0),r(W,null,q(t.approvals.slice(0,5),g=>(s(),r("div",{key:g.id,class:"approval-item"},[e("div",go,[e("h4",vo,a(g.title),1),e("p",bo,a(g.description),1),e("span",ho,a(g.requester),1)]),e("div",fo,[e("button",{onClick:d=>C.$emit("approve",g),class:"approve-button"},[m(i(We),{class:"w-4 h-4"})],8,yo),e("button",{onClick:d=>C.$emit("reject",g),class:"reject-button"},[m(i(Fe),{class:"w-4 h-4"})],8,xo)])]))),128))])),t.approvals.length>5?(s(),r("button",{key:2,onClick:o[0]||(o[0]=g=>C.$emit("view-all")),class:"view-all-button"}," View All "+a(t.approvals.length)+" Approvals ",1)):y("",!0)]))}},wo=ce(po,[["__scopeId","data-v-d3fae1f6"]]),ko={key:0,class:"space-y-4"},$o={key:0,class:"bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-200 rounded-lg p-4"},Ao={class:"space-y-2"},So={class:"flex items-center space-x-3"},Co={class:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center"},To={class:"text-sm font-semibold text-pink-700"},Mo={class:"font-medium text-gray-900"},Io={class:"text-sm text-gray-500"},jo={class:"text-right"},Do={key:0,class:"text-xs text-gray-500"},_o={key:1,class:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4"},Po={class:"flex items-center justify-between mb-3"},Ro={class:"space-y-2"},Bo={class:"flex items-center space-x-3"},Vo={class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},No={class:"text-sm font-semibold text-blue-700"},Lo={class:"font-medium text-gray-900"},Oo={class:"text-sm text-gray-500"},Eo={class:"text-right"},Ho={class:"text-sm font-medium text-gray-900"},Wo={class:"text-xs text-gray-500"},Fo={key:2,class:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4"},qo={__name:"BirthdayNotifications",props:{todaysBirthdays:{type:Array,default:()=>[]},upcomingBirthdays:{type:Array,default:()=>[]},stats:{type:Object,default:null}},setup(t){const C=t,o=L(!1),g=$(()=>C.todaysBirthdays.length>0||C.upcomingBirthdays.length>0),d=$(()=>o.value?C.upcomingBirthdays:C.upcomingBirthdays.slice(0,3)),I=h=>h.split(" ").map(_=>_.charAt(0).toUpperCase()).join("").substring(0,2),T=h=>new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric"}),S=h=>h===0?"Today":h===1?"Tomorrow":`In ${h} days`;return(h,_)=>g.value?(s(),r("div",ko,[t.todaysBirthdays.length>0?(s(),r("div",$o,[_[2]||(_[2]=e("div",{class:"flex items-center space-x-3 mb-3"},[e("div",{class:"text-2xl"},"üéâ"),e("div",null,[e("h3",{class:"text-lg font-semibold text-pink-800"},"Birthday Today!"),e("p",{class:"text-sm text-pink-600"},"Let's celebrate our team members")])],-1)),e("div",Ao,[(s(!0),r(W,null,q(t.todaysBirthdays,p=>(s(),r("div",{key:p.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[e("div",So,[e("div",Co,[e("span",To,a(I(p.user.name)),1)]),e("div",null,[e("p",Mo,a(p.user.name),1),e("p",Io,a(p.job_title||"Employee"),1)])]),e("div",jo,[_[1]||(_[1]=e("div",{class:"text-lg"},"üéÇ",-1)),p.age?(s(),r("p",Do,a(p.age)+" years",1)):y("",!0)])]))),128))])])):y("",!0),t.upcomingBirthdays.length>0?(s(),r("div",_o,[e("div",Po,[_[3]||(_[3]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"text-2xl"},"üéÇ"),e("div",null,[e("h3",{class:"text-lg font-semibold text-blue-800"},"Upcoming Birthdays"),e("p",{class:"text-sm text-blue-600"},"Don't forget to wish them well!")])],-1)),e("button",{onClick:_[0]||(_[0]=p=>o.value=!o.value),class:"text-sm text-blue-600 hover:text-blue-800 font-medium"},a(o.value?"Show Less":"Show All"),1)]),e("div",Ro,[(s(!0),r(W,null,q(d.value,(p,D)=>(s(),r("div",{key:p.employee.id,class:"flex items-center justify-between bg-white rounded-lg p-3 shadow-sm"},[e("div",Bo,[e("div",Vo,[e("span",No,a(I(p.employee.user.name)),1)]),e("div",null,[e("p",Lo,a(p.employee.user.name),1),e("p",Oo,a(p.employee.job_title||"Employee"),1)])]),e("div",Eo,[e("p",Ho,a(T(p.birthday_date)),1),e("p",Wo,a(S(p.days_until)),1)])]))),128))])])):y("",!0),t.todaysBirthdays.length===0&&t.upcomingBirthdays.length===0&&t.stats&&t.stats.this_month===0?(s(),r("div",Fo,_[4]||(_[4]=[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"text-2xl"},"üéÇ"),e("div",null,[e("h3",{class:"text-lg font-semibold text-blue-800"},"No Birthdays This Month"),e("p",{class:"text-sm text-blue-600"},"No team birthdays to celebrate right now, but stay tuned!")])],-1)]))):y("",!0)])):y("",!0)}},zo={class:"flex items-center text-gray-500 mr-6"},Uo={class:"flex items-center"},Qo={class:"text-sm"},Go={class:"flex space-x-3"},Ko=["onClick","disabled"],Jo={key:0,class:"space-y-6"},Yo={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Xo={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Zo={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},er={class:"lg:col-span-2 space-y-4"},tr={class:"flex items-center space-x-2"},sr={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800"},nr={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},ar={class:"text-center p-4 bg-green-50 rounded-xl border border-green-100"},or={class:"text-2xl font-bold text-green-600"},rr={class:"text-center p-4 bg-orange-50 rounded-xl border border-orange-100"},ir={class:"text-2xl font-bold text-orange-600"},lr={class:"text-center p-4 bg-purple-50 rounded-xl border border-purple-100"},cr={class:"text-2xl font-bold text-purple-600"},dr={class:"text-center p-4 bg-blue-50 rounded-xl border border-blue-100"},ur={class:"text-2xl font-bold text-blue-600"},mr={class:"lg:col-span-1 space-y-4"},gr={class:"space-y-3"},vr={class:"flex items-center"},br={class:"flex items-center"},hr={class:"flex items-center"},fr={class:"flex items-center"},yr={class:"flex items-center"},xr={class:"space-y-3"},pr={class:"flex items-center justify-between"},wr={class:"text-sm font-medium text-gray-900"},kr={key:1,class:"manager-layout"},$r={key:2,class:"employee-layout"},Ar={key:3,class:"fixed inset-0 z-50 overflow-y-auto"},Sr={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Cr={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Tr={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Mr={class:"sm:flex sm:items-start"},Ir={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},jr={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1"},Dr={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},_r={class:"space-y-4"},Pr={class:"text-sm text-gray-600 mb-2"},Rr={class:"text-sm text-gray-600 mb-4"},Br={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Vr=["disabled"],Xr={__name:"Dashboard",props:{adminStats:{type:Object,default:()=>({})},managerStats:{type:Object,default:()=>({})},employeeStats:{type:Object,default:()=>({})},pendingApprovals:{type:Array,default:()=>[]},teamMembers:{type:Array,default:()=>[]},teamPerformance:{type:Object,default:()=>({})},teamActivities:{type:Array,default:()=>[]},personalActivities:{type:Array,default:()=>[]},myTasks:{type:Array,default:()=>[]},recentFeedback:{type:Array,default:()=>[]},clockedIn:{type:Boolean,default:!1},currentAttendance:{type:Object,default:null},birthdayData:{type:Object,default:()=>({todaysBirthdays:[],upcomingBirthdays:[],stats:{}})}},setup(t){const{user:C,roles:o}=Me(),g=L(!1),d=L(!1),I=L(null),T=L(""),S=$(()=>{const w=Array.isArray(o.value)&&o.value.includes("Admin");return console.log("Dashboard - User:",C.value),console.log("Dashboard - Roles:",o.value),console.log("Dashboard - Is Admin:",w),w}),h=$(()=>Array.isArray(o.value)&&(o.value.includes("Manager")||o.value.includes("HR"))&&!S.value),_=$(()=>S.value?"Admin Dashboard":h.value?"Manager Dashboard":"My Dashboard"),p=$(()=>S.value?"System overview and administrative management tools":h.value?"Team management and performance overview":"Your personal workspace and activities"),D=$(()=>new Date().toLocaleTimeString()),V=$(()=>{const w=[{id:"refresh",label:"Refresh",icon:"ArrowPathIcon",handler:R,disabled:g.value}];return S.value&&w.unshift({id:"settings",label:"System Settings",icon:"CogIcon",handler:()=>k("admin.roles.index")},{id:"reports",label:"View Reports",icon:"ChartBarIcon",handler:()=>k("reports.index"),primary:!0}),w}),k=w=>{try{we.visit(route(w))}catch(c){console.error("Navigation error:",c)}},j=w=>({ArrowPathIcon:Re,CogIcon:Be,ChartBarIcon:ie,ClockIcon:te})[w]||te,R=async()=>{g.value=!0;try{await we.reload({only:["adminStats","managerStats","employeeStats","pendingApprovals"]})}catch(w){console.error("Refresh error:",w)}finally{g.value=!1}},M=async w=>{g.value=!0;try{await oe.post(route("approvals.approve",w.id)),await R()}catch(c){console.error("Approval error:",c)}finally{g.value=!1}},H=w=>{I.value=w,T.value="",d.value=!0},E=async()=>{if(T.value.trim()){g.value=!0;try{await oe.post(route("approvals.reject",I.value.id),{reason:T.value}),d.value=!1,await R()}catch(w){console.error("Rejection error:",w)}finally{g.value=!1}}},U=()=>{d.value=!1,I.value=null,T.value=""},G=w=>{k("employees.show",{employee:w.id})},Y=w=>{console.log("Send message to:",w)},de=async()=>{var w,c;g.value=!0;try{const f=(await oe.get("/api/attendance/current")).data;let u;f.clocked_in?u="/api/attendance/clock-out":u="/api/attendance/clock-in",(await oe.post(u,{},{headers:{"X-CSRF-TOKEN":(w=document.querySelector('meta[name="csrf-token"]'))==null?void 0:w.getAttribute("content"),Accept:"application/json","Content-Type":"application/json"}})).data.success&&await ue()}catch(b){console.error("Clock in/out error:",b),((c=b.response)==null?void 0:c.status)===419&&window.location.reload()}finally{g.value=!1}},ue=async()=>{try{const w=await oe.get("/api/attendance/current");currentAttendance.value&&Object.assign(currentAttendance.value,w.data),clockedIn.value=w.data.clocked_in}catch(w){console.error("Failed to update attendance status:",w)}},me=w=>{k(w.route)},ge=async w=>{try{await oe.patch(route("tasks.toggle",w.id)),await R()}catch(c){console.error("Task toggle error:",c)}},ae=w=>{k("tasks.show",{task:w.id})};return(w,c)=>(s(),z(tt,null,{header:N(()=>[F(a(_.value),1)]),subtitle:N(()=>[F(a(p.value),1)]),headerActions:N(()=>[e("div",zo,[c[8]||(c[8]=e("div",{class:"flex items-center mr-6"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm"},"System Online")],-1)),e("div",Uo,[m(i(te),{class:"w-4 h-4 mr-2"}),e("span",Qo,a(D.value),1)])]),e("div",Go,[(s(!0),r(W,null,q(V.value,b=>(s(),r("button",{key:b.id,onClick:b.handler,disabled:b.disabled,class:x(["inline-flex items-center px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",b.primary?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-500/25":"bg-white/60 text-gray-700 border border-gray-200 hover:bg-white hover:shadow-sm","disabled:opacity-50 disabled:cursor-not-allowed"])},[(s(),z(X(j(b.icon)),{class:"w-4 h-4 mr-2"})),F(" "+a(b.label),1)],10,Ko))),128))])]),default:N(()=>{var b,f,u;return[S.value?(s(),r("div",Jo,[e("div",Yo,[m(Z,{value:t.adminStats.totalEmployees,label:"Total Employees",description:"Active workforce",icon:i(Te),variant:"primary",trend:t.adminStats.employeeTrend,route:"employees.index",loading:g.value},null,8,["value","icon","trend","loading"]),m(Z,{value:t.adminStats.pendingLeaves,label:"Pending Approvals",description:"Requires attention",icon:i(se),variant:"warning",status:t.adminStats.pendingLeaves>10?"critical":"warning",statusText:t.adminStats.pendingLeaves>10?"High":"Normal",route:"approvals.index",urgent:t.adminStats.pendingLeaves>15,loading:g.value},null,8,["value","icon","status","statusText","urgent","loading"]),m(Z,{value:t.adminStats.pendingAssessments,label:"Pending Assessments",description:"Review status",icon:i(xe),variant:"info",status:t.adminStats.pendingAssessments>5?"warning":"good",statusText:t.adminStats.pendingAssessments>5?"Review":"On Track",route:"assessment-dashboard",loading:g.value},null,8,["value","icon","status","statusText","loading"]),m(Z,{value:t.adminStats.systemHealth+"%",label:"System Health",description:"Uptime",icon:i(ne),variant:"success",status:t.adminStats.systemHealth>95?"excellent":t.adminStats.systemHealth>85?"good":"warning",statusText:t.adminStats.systemHealth>95?"Excellent":t.adminStats.systemHealth>85?"Good":"Needs Attention",clickable:!1,loading:g.value},null,8,["value","icon","status","statusText","loading"])]),e("div",Xo,[m(Z,{value:(t.adminStats.attendanceRate||0)+"%",label:"Attendance Rate",description:"This month",icon:i(te),variant:"info",trend:t.adminStats.attendanceTrend||0,status:(t.adminStats.attendanceRate||0)>95?"excellent":(t.adminStats.attendanceRate||0)>85?"good":"warning",statusText:(t.adminStats.attendanceRate||0)>95?"Excellent":(t.adminStats.attendanceRate||0)>85?"Good":"Needs Attention",route:"attendance.reports",loading:g.value},null,8,["value","icon","trend","status","statusText","loading"]),m(Z,{value:t.adminStats.workReportsCount||0,label:"Work Reports",description:"This month",icon:i(ie),variant:"primary",trend:t.adminStats.workReportsTrend||0,status:(t.adminStats.workReportsCount||0)>50?"excellent":(t.adminStats.workReportsCount||0)>20?"good":"warning",statusText:(t.adminStats.workReportsCount||0)>50?"High Activity":(t.adminStats.workReportsCount||0)>20?"Active":"Low Activity",route:"work-reports.index",loading:g.value},null,8,["value","icon","trend","status","statusText","loading"]),m(Z,{value:t.adminStats.successfulCalls||0,label:"Successful Calls",description:"This month",icon:i(at),variant:"success",trend:t.adminStats.successfulCallsTrend||0,status:(t.adminStats.successfulCalls||0)>100?"excellent":(t.adminStats.successfulCalls||0)>50?"good":"warning",statusText:(t.adminStats.successfulCalls||0)>100?"Excellent":(t.adminStats.successfulCalls||0)>50?"Good":"Needs Focus",route:"work-reports.leaderboard",loading:g.value},null,8,["value","icon","trend","status","statusText","loading"]),m(Z,{value:(t.adminStats.avgPerformanceScore||0)+"%",label:"Avg Performance",description:"Team score",icon:i(xe),variant:"info",trend:t.adminStats.performanceTrend||0,status:(t.adminStats.avgPerformanceScore||0)>85?"excellent":(t.adminStats.avgPerformanceScore||0)>70?"good":"warning",statusText:(t.adminStats.avgPerformanceScore||0)>85?"Excellent":(t.adminStats.avgPerformanceScore||0)>70?"Good":"Needs Improvement",route:"performance.reports",loading:g.value},null,8,["value","icon","trend","status","statusText","loading"])]),e("div",Zo,[e("div",er,[t.pendingApprovals.length>0?(s(),z(pe,{key:0,title:"Action Required",description:"Items needing your immediate attention",icon:i(se),iconVariant:"danger",variant:"elevated"},{headerActions:N(()=>[e("div",tr,[e("span",sr,a(t.pendingApprovals.length)+" pending ",1),e("button",{onClick:R,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white rounded-lg transition-all"},[m(i(Re),{class:"w-4 h-4"})])])]),default:N(()=>[m(wo,{approvals:t.pendingApprovals,loading:g.value,onApprove:M,onReject:H,onViewAll:c[0]||(c[0]=()=>i(we).visit(w.route("approvals.index")))},null,8,["approvals","loading"])]),_:1},8,["icon"])):y("",!0),m(pe,{title:"Competency Management",description:"Track and manage employee competencies",icon:i(xe),iconVariant:"primary",variant:"elevated"},{headerActions:N(()=>[e("button",{onClick:c[1]||(c[1]=O=>k("assessment-dashboard")),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/25"},[c[9]||(c[9]=F(" View Details ")),m(i(re),{class:"w-4 h-4 ml-1"})])]),default:N(()=>[e("div",nr,[e("div",ar,[e("div",or,a(t.adminStats.completedAssessmentsThisMonth||0),1),c[10]||(c[10]=e("div",{class:"text-xs text-gray-600 mt-1"},"Completed",-1))]),e("div",rr,[e("div",ir,a(t.adminStats.pendingAssessments||0),1),c[11]||(c[11]=e("div",{class:"text-xs text-gray-600 mt-1"},"Pending",-1))]),e("div",lr,[e("div",cr,a(t.adminStats.activeAssessmentCycles||0),1),c[12]||(c[12]=e("div",{class:"text-xs text-gray-600 mt-1"},"Active Cycles",-1))]),e("div",dr,[e("div",ur,a(t.adminStats.averageRating||"-"),1),c[13]||(c[13]=e("div",{class:"text-xs text-gray-600 mt-1"},"Avg Rating",-1))])]),c[14]||(c[14]=e("div",{class:"space-y-3"},[e("h3",{class:"text-sm font-medium text-gray-900 mb-3"},"Recent Competency Activity"),e("div",{class:"space-y-2"},[e("div",{class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full"}),e("span",{class:"text-sm text-gray-700"},"Q4 Performance Review cycle started")]),e("span",{class:"text-xs text-gray-500"},"2 hours ago")]),e("div",{class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-2 h-2 bg-blue-400 rounded-full"}),e("span",{class:"text-sm text-gray-700"},"5 new assessments submitted")]),e("span",{class:"text-xs text-gray-500"},"4 hours ago")]),e("div",{class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-2 h-2 bg-purple-400 rounded-full"}),e("span",{class:"text-sm text-gray-700"},"Leadership competency updated")]),e("span",{class:"text-xs text-gray-500"},"1 day ago")])])],-1))]),_:1,__:[14]},8,["icon"])]),e("div",mr,[m(pe,{title:"Quick Actions",description:"Common tasks",icon:i(Ce),iconVariant:"primary"},{default:N(()=>[e("div",gr,[e("button",{onClick:c[2]||(c[2]=O=>k("competencies.create")),class:"w-full flex items-center justify-between px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all group shadow-lg shadow-blue-500/25"},[e("div",vr,[m(i(xe),{class:"w-5 h-5 mr-3"}),c[15]||(c[15]=e("span",{class:"font-medium"},"Add Competency",-1))]),m(i(re),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:c[3]||(c[3]=O=>k("employees.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",br,[m(i(Te),{class:"w-5 h-5 mr-3"}),c[16]||(c[16]=e("span",{class:"font-medium"},"Manage Employees",-1))]),m(i(re),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:c[4]||(c[4]=O=>k("assessment-cycles.create")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",hr,[m(i(Ce),{class:"w-5 h-5 mr-3"}),c[17]||(c[17]=e("span",{class:"font-medium"},"New Assessment Cycle",-1))]),m(i(re),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:c[5]||(c[5]=O=>k("reports.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",fr,[m(i(ie),{class:"w-5 h-5 mr-3"}),c[18]||(c[18]=e("span",{class:"font-medium"},"View Reports",-1))]),m(i(re),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]),e("button",{onClick:c[6]||(c[6]=O=>k("admin.roles.index")),class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all group"},[e("div",yr,[m(i(Be),{class:"w-5 h-5 mr-3"}),c[19]||(c[19]=e("span",{class:"font-medium"},"Role Management",-1))]),m(i(re),{class:"w-4 h-4 group-hover:translate-x-1 transition-transform"})])])]),_:1},8,["icon"]),m(qo,{"todays-birthdays":t.birthdayData.todaysBirthdays,"upcoming-birthdays":t.birthdayData.upcomingBirthdays,stats:t.birthdayData.stats},null,8,["todays-birthdays","upcoming-birthdays","stats"]),m(pe,{title:"System Status",description:"All systems operational",icon:i(ne),iconVariant:"success"},{default:N(()=>[e("div",xr,[c[21]||(c[21]=e("div",{class:"flex items-center justify-between"},[e("span",{class:"text-sm text-gray-600"},"Database"),e("div",{class:"flex items-center"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm font-medium text-green-600"},"Healthy")])],-1)),c[22]||(c[22]=e("div",{class:"flex items-center justify-between"},[e("span",{class:"text-sm text-gray-600"},"API Services"),e("div",{class:"flex items-center"},[e("div",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-sm font-medium text-green-600"},"Online")])],-1)),e("div",pr,[c[20]||(c[20]=e("span",{class:"text-sm text-gray-600"},"Uptime",-1)),e("span",wr,a(t.adminStats.systemUptime)+"%",1)])])]),_:1},8,["icon"])])])])):h.value?(s(),r("div",kr,[m(un,{stats:t.managerStats,"team-members":t.teamMembers,"team-performance":t.teamPerformance,"team-activities":t.teamActivities,loading:g.value,onViewMember:G,onSendMessage:Y},null,8,["stats","team-members","team-performance","team-activities","loading"])])):(s(),r("div",$r,[m(oo,{stats:t.employeeStats,"personal-activities":t.personalActivities,"my-tasks":t.myTasks,"recent-feedback":t.recentFeedback,"clocked-in":t.clockedIn,"current-attendance":t.currentAttendance,"birthday-notifications":t.birthdayData,loading:g.value,onClockInOut:de,onAction:me,onToggleTask:ge,onViewTask:ae},null,8,["stats","personal-activities","my-tasks","recent-feedback","clocked-in","current-attendance","birthday-notifications","loading"])])),d.value?(s(),r("div",Ar,[e("div",Sr,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:U}),e("div",Cr,[e("div",Tr,[e("div",Mr,[e("div",Ir,[m(i(se),{class:"h-6 w-6 text-red-600"})]),e("div",jr,[e("h3",Dr," Reject "+a(((b=I.value)==null?void 0:b.title)||"Request"),1),e("div",_r,[e("div",null,[e("p",Pr,[c[23]||(c[23]=e("strong",null,"Requester:",-1)),F(" "+a((f=I.value)==null?void 0:f.requester),1)]),e("p",Rr,[c[24]||(c[24]=e("strong",null,"Request:",-1)),F(" "+a((u=I.value)==null?void 0:u.description),1)])]),e("div",null,[c[25]||(c[25]=e("label",{for:"rejection-reason",class:"block text-sm font-medium text-gray-700 mb-2"},[F(" Reason for rejection "),e("span",{class:"text-red-500"},"*")],-1)),Ye(e("textarea",{id:"rejection-reason","onUpdate:modelValue":c[7]||(c[7]=O=>T.value=O),rows:"4",class:"w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-red-500 focus:border-red-500",placeholder:"Please provide a clear reason for rejecting this request...",required:""},null,512),[[Xe,T.value]]),c[26]||(c[26]=e("p",{class:"text-xs text-gray-500 mt-1"}," This reason will be sent to the employee and recorded in the system. ",-1))])])])])]),e("div",Br,[e("button",{onClick:E,disabled:!T.value.trim(),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"}," Reject Request ",8,Vr),e("button",{onClick:U,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):y("",!0)]}),_:1}))}};export{Xr as default};
