import{e as J,K as W,f,g as _,o as a,h as x,k as b,a as e,n as h,c as o,i as k,w as v,F as d,r as u,t as l,v as A,b as X,u as g,S as w,l as S,Q as Y}from"./app-D0rVIEKn.js";import{A as Z}from"./AuthenticatedLayout-DPqhkfSl.js";import{P as $}from"./PageLayout-CHKxu6CF.js";import{l as ee}from"./icons-BG5IDILW.js";import"./useAuth-DuwRIKEk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PageHeader.vue_vue_type_style_index_0_scoped_cac8c3e5_lang-CS3NQWxf.js";import"./PageHeader-BoUuI4ZJ.js";import"./Icon-lkFwmQHb.js";/* empty css                                                                   */const te={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},se={class:"p-6 text-gray-900"},re={class:"bg-gray-50 rounded-lg border border-gray-200 mb-6"},ae={class:"p-6"},oe={key:0},le=["value"],ne=["value"],ie=["value"],de={class:"bg-white rounded-lg shadow-sm border border-gray-200"},ue={class:"overflow-x-auto"},ce={class:"min-w-full divide-y divide-gray-200"},me={class:"bg-white divide-y divide-gray-200"},pe={class:"px-6 py-4 whitespace-nowrap"},ye={class:"flex items-center"},xe={class:"flex-shrink-0 h-10 w-10"},ge={class:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center"},fe={class:"text-sm font-medium text-blue-600"},be={class:"ml-4"},he={class:"px-6 py-4 whitespace-nowrap"},ve={class:"text-sm text-gray-900"},we={class:"px-6 py-4 whitespace-nowrap"},_e={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},ke={class:"px-6 py-4 whitespace-nowrap"},Ae={key:0,class:"flex items-center"},Se={class:"flex"},Ce={class:"ml-2 text-sm text-gray-600"},Te={key:1,class:"text-sm text-gray-400"},je={class:"px-6 py-4 whitespace-nowrap"},Be={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Fe={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ue={class:"flex items-center justify-end space-x-2"},Ve={key:0,class:"px-6 py-3 border-t border-gray-200"},De={class:"flex items-center justify-between"},Ee={class:"text-sm text-gray-700"},Me={class:"flex space-x-1"},qe={__name:"Index",props:{assessments:Object,employees:Array,competencies:Array,assessmentCycles:Array,assessors:Array,assessmentTypes:Array,statusOptions:Array,filters:Object,stats:Object,canFilterByEmployee:Boolean,canFilterByAssessor:Boolean},setup(n){var B,F,U,V,D;const c=n,i=J({employee_id:((B=c.filters)==null?void 0:B.employee_id)||"",competency_id:((F=c.filters)==null?void 0:F.competency_id)||"",assessment_type:((U=c.filters)==null?void 0:U.assessment_type)||"",status:((V=c.filters)==null?void 0:V.status)||"",search:((D=c.filters)==null?void 0:D.search)||""});let C=null;const O=W(),R=f(()=>{var r;return(r=O.props.auth)==null?void 0:r.user}),H=f(()=>{var s;return(((s=R.value)==null?void 0:s.roles)||[]).some(t=>["Manager","Admin","HR"].includes(t.name))}),I=f(()=>[{label:"Dashboard",href:route("dashboard")},{label:"Competency Management",href:route("competency-assessments.index")},{label:"Assessments",current:!0}]),P=f(()=>{const r=[];return H.value&&r.push({id:"new-assessment",label:"New Assessment",icon:"plus",variant:"primary",href:route("competency-assessments.create")}),r}),m=()=>{Y.get(route("competency-assessments.index"),i.value,{preserveState:!0,preserveScroll:!0})},Q=()=>{clearTimeout(C),C=setTimeout(()=>{m()},300)},z=()=>{i.value={employee_id:"",competency_id:"",assessment_type:"",status:"",search:""},m()},T=r=>({self:"Self Assessment",manager:"Manager Assessment",peer:"Peer Assessment",360:"360Â° Feedback"})[r]||r,j=r=>({draft:"Draft",submitted:"Submitted",approved:"Approved",rejected:"Rejected"})[r]||r,K=r=>({draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[r]||"bg-gray-100 text-gray-800",q=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),G=r=>r.split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2);return(r,s)=>(a(),_(Z,null,{default:x(()=>[b($,{title:"Competency Assessments",subtitle:"Manage and review competency assessments",breadcrumbs:I.value,actions:P.value},{default:x(()=>[e("div",te,[e("div",se,[e("div",re,[e("div",ae,[e("div",{class:h(["grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",{"lg:grid-cols-5":n.canFilterByEmployee}])},[n.canFilterByEmployee?(a(),o("div",oe,[s[5]||(s[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Employee",-1)),v(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>i.value.employee_id=t),onChange:m,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[4]||(s[4]=e("option",{value:""},"All Employees",-1)),(a(!0),o(d,null,u(n.employees,t=>{var p;return a(),o("option",{key:t.id,value:t.id},l(((p=t.user)==null?void 0:p.name)||"Unknown"),9,le)}),128))],544),[[A,i.value.employee_id]])])):k("",!0),e("div",null,[s[7]||(s[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),v(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>i.value.status=t),onChange:m,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[6]||(s[6]=e("option",{value:""},"All Statuses",-1)),(a(!0),o(d,null,u(n.statusOptions,t=>(a(),o("option",{key:t,value:t},l(j(t)),9,ne))),128))],544),[[A,i.value.status]])]),e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),v(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>i.value.assessment_type=t),onChange:m,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[s[8]||(s[8]=e("option",{value:""},"All Types",-1)),(a(!0),o(d,null,u(n.assessmentTypes,t=>(a(),o("option",{key:t,value:t},l(T(t)),9,ie))),128))],544),[[A,i.value.assessment_type]])]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),v(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>i.value.search=t),onInput:Q,type:"text",placeholder:"Search assessments...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,544),[[X,i.value.search]])]),e("div",{class:"flex items-end"},[e("button",{onClick:z,class:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Clear Filters ")])],2)])])]),e("div",de,[e("div",ue,[e("table",ce,[s[13]||(s[13]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Employee "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Competency "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Rating "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",me,[(a(!0),o(d,null,u(n.assessments.data,t=>{var p,E,M,L;return a(),o("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",pe,[e("div",ye,[e("div",xe,[e("div",ge,[e("span",fe,l(G(((E=(p=t.employee)==null?void 0:p.user)==null?void 0:E.name)||"Unknown")),1)])]),e("div",be,[b(g(w),{href:r.route("competency-assessments.by-employee",(M=t.employee)==null?void 0:M.id),class:"text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline"},{default:x(()=>{var y,N;return[S(l(((N=(y=t.employee)==null?void 0:y.user)==null?void 0:N.name)||"Unknown"),1)]}),_:2},1032,["href"])])])]),e("td",he,[e("div",ve,l((L=t.competency)==null?void 0:L.name),1)]),e("td",we,[e("span",_e,l(T(t.assessment_type)),1)]),e("td",ke,[t.rating?(a(),o("div",Ae,[e("div",Se,[(a(),o(d,null,u(5,y=>b(g(ee),{key:y,class:h([y<=t.rating?"text-yellow-400":"text-gray-300","h-4 w-4"])},null,8,["class"])),64))]),e("span",Ce,l(t.rating)+"/5",1)])):(a(),o("span",Te,"Not rated"))]),e("td",je,[e("span",{class:h([K(t.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},l(j(t.status)),3)]),e("td",Be,l(q(t.created_at)),1),e("td",Fe,[e("div",Ue,[b(g(w),{href:r.route("competency-assessments.show",t.id),class:"text-blue-600 hover:text-blue-900"},{default:x(()=>s[11]||(s[11]=[S(" View ")])),_:2,__:[11]},1032,["href"]),t.status==="draft"?(a(),_(g(w),{key:0,href:r.route("competency-assessments.evaluate",t.id),class:"text-green-600 hover:text-green-900"},{default:x(()=>s[12]||(s[12]=[S(" Edit ")])),_:2,__:[12]},1032,["href"])):k("",!0)])])])}),128))])])]),n.assessments.links?(a(),o("div",Ve,[e("div",De,[e("div",Ee," Showing "+l(n.assessments.from)+" to "+l(n.assessments.to)+" of "+l(n.assessments.total)+" results ",1),e("div",Me,[(a(!0),o(d,null,u(n.assessments.links,t=>(a(),_(g(w),{key:t.label,href:t.url,class:h(["px-3 py-2 text-sm font-medium rounded-md",t.active?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))])])])):k("",!0)])])]),_:1},8,["breadcrumbs","actions"])]),_:1}))}};export{qe as default};
