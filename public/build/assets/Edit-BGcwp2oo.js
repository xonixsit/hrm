import{x as N,e as z,f as $,g as L,o as i,h as f,a as e,k as d,u as o,S as y,l as u,d as G,w as p,c as n,i as x,n as b,b as k,t as a,F as h,r as v,v as V,j as M}from"./app-CYiCHHtl.js";import{A as P}from"./AuthenticatedLayout-OJ8nbzut.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as U,c as E,r as D,a as A}from"./icons-DqfuWBCr.js";import"./useAuth-mpSMW43X.js";import"./useAccessibility-DR5DXCtK.js";const q={class:"min-h-screen bg-gray-50"},H={class:"bg-white border-b border-gray-200"},T={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},F={class:"py-6"},W={class:"flex mb-4","aria-label":"Breadcrumb"},J={class:"flex items-center space-x-2 text-sm"},K={class:"flex items-center"},Q={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},X={class:"flex items-center space-x-3"},Y={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Z={class:"bg-white rounded-lg shadow-sm border border-gray-200"},ee={class:"p-8"},te={class:"form-section"},se={class:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3"},re={class:"lg:col-span-2"},oe={key:0,class:"mt-2 text-sm text-red-600"},ie={key:0,class:"mt-2 text-sm text-red-600"},ne=["value"],ae={key:0,class:"mt-2 text-sm text-red-600"},le=["value"],de={key:0,class:"mt-2 text-sm text-red-600"},ce={class:"lg:col-span-3"},me={key:0,class:"mt-2 text-sm text-red-600"},ue={class:"lg:col-span-3"},ge={class:"space-y-4"},be={class:"flex items-center p-4 bg-gray-50 rounded-lg"},pe={class:"flex items-center p-4 bg-gray-50 rounded-lg"},xe={class:"form-section"},fe={class:"space-y-6"},ye={class:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium"},he={class:"flex-1"},ve=["onUpdate:modelValue","placeholder"],_e=["onClick","disabled"],we={class:"form-section"},ke={class:"space-y-6"},Ce={class:"flex-shrink-0"},Ve={class:"flex-1"},Me={class:"mb-2"},Ue={class:"text-sm font-medium text-gray-700"},Ee=["onUpdate:modelValue","placeholder"],De=["onClick","disabled"],Ae=["disabled"],Be={class:"form-section"},Se={class:"flex items-center justify-between mb-6"},je={key:0,class:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-8"},Re={class:"space-y-6"},Ie={class:"text-center"},Ne={class:"text-2xl font-bold text-gray-900"},ze={class:"mt-3 flex items-center justify-center space-x-4"},$e={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800"},Le={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800"},Ge={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800"},Pe={key:0,class:"bg-white rounded-lg p-4 border border-blue-200"},Oe={class:"text-sm text-gray-700 leading-relaxed"},qe={key:1,class:"bg-white rounded-lg p-4 border border-blue-200"},He={class:"space-y-2"},Te={class:"flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-xs font-medium"},Fe={class:"text-sm text-gray-700"},We={key:2,class:"bg-white rounded-lg p-4 border border-blue-200"},Je={class:"space-y-3"},Ke={class:"flex-1"},Qe={class:"text-sm text-gray-700"},Xe={class:"flex items-center justify-between pt-8 border-t border-gray-200"},Ye={class:"flex items-center space-x-4"},Ze=["disabled"],et={key:0,class:"flex items-center"},tt={key:1},st={__name:"Edit",props:{competency:Object,departments:Array,categories:Array,defaultRatingGuidelines:Array},setup(_){const c=_,r=N({name:c.competency.name||"",description:c.competency.description||"",category:c.competency.category||"",weight:c.competency.weight||1,measurement_indicators:c.competency.measurement_indicators||[""],rating_guidelines:c.competency.rating_guidelines||c.defaultRatingGuidelines||[{rating:1,description:"Needs significant improvement"},{rating:2,description:"Below expectations"},{rating:3,description:"Meets expectations"},{rating:4,description:"Exceeds expectations"},{rating:5,description:"Outstanding performance"}],department_id:c.competency.department_id||"",role_specific:c.competency.role_specific||!1,is_active:c.competency.is_active!==void 0?c.competency.is_active:!0}),C=z(!1),B=()=>{r.measurement_indicators.push("")},S=l=>{r.measurement_indicators.length>1&&r.measurement_indicators.splice(l,1)},j=()=>{const l=Math.max(...r.rating_guidelines.map(t=>t.rating))+1;l<=5&&r.rating_guidelines.push({rating:l,description:""})},R=l=>{r.rating_guidelines.length>1&&r.rating_guidelines.splice(l,1)},I=()=>{r.measurement_indicators=r.measurement_indicators.filter(l=>l.trim()!==""),r.rating_guidelines.sort((l,t)=>l.rating-t.rating),r.put(route("competencies.update",c.competency.id),{onSuccess:()=>{}})},g=$(()=>{var l;return{name:r.name||"Competency Name",description:r.description||"Competency description will appear here...",category:r.category||"Category",weight:r.weight,measurement_indicators:r.measurement_indicators.filter(t=>t.trim()!==""),rating_guidelines:r.rating_guidelines.filter(t=>t.description.trim()!==""),department:((l=c.departments.find(t=>t.id==r.department_id))==null?void 0:l.name)||"All Departments",role_specific:r.role_specific,is_active:r.is_active}});return(l,t)=>(i(),L(P,null,{default:f(()=>[e("div",q,[e("div",H,[e("div",T,[e("div",F,[e("nav",W,[e("ol",J,[e("li",null,[d(o(y),{href:l.route("dashboard"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:f(()=>t[8]||(t[8]=[u(" Dashboard ")])),_:1,__:[8]},8,["href"])]),e("li",K,[t[10]||(t[10]=e("svg",{class:"w-4 h-4 text-gray-400 mx-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),d(o(y),{href:l.route("competencies.index"),class:"text-gray-500 hover:text-gray-700 transition-colors"},{default:f(()=>t[9]||(t[9]=[u(" Competencies ")])),_:1,__:[9]},8,["href"])]),t[11]||(t[11]=e("li",{class:"flex items-center"},[e("svg",{class:"w-4 h-4 text-gray-400 mx-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})]),e("span",{class:"text-gray-900 font-medium"},"Edit Competency")],-1))])]),e("div",Q,[t[14]||(t[14]=e("div",{class:"mb-4 sm:mb-0"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"Edit Competency"),e("p",{class:"mt-1 text-sm text-gray-600"},"Update the competency details for your organization")],-1)),e("div",X,[d(o(y),{href:l.route("competencies.show",_.competency.id),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},{default:f(()=>[d(o(U),{class:"w-4 h-4 mr-2"}),t[12]||(t[12]=u(" View Details "))]),_:1,__:[12]},8,["href"]),d(o(y),{href:l.route("competencies.index"),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},{default:f(()=>[d(o(E),{class:"w-4 h-4 mr-2"}),t[13]||(t[13]=u(" Back to List "))]),_:1,__:[13]},8,["href"])])])])])]),e("div",Y,[e("div",Z,[e("div",ee,[e("form",{onSubmit:G(I,["prevent"]),class:"space-y-12"},[e("div",te,[t[26]||(t[26]=e("div",{class:"section-header mb-8"},[e("h2",{class:"section-title"},"Basic Information"),e("p",{class:"section-subtitle"},"Update the core details of this competency")],-1)),e("div",se,[e("div",re,[t[15]||(t[15]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"}," Competency Name * ",-1)),p(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>o(r).name=s),id:"name",required:"",placeholder:"Enter competency name",class:b(["w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 focus:ring-red-500 focus:border-red-500":o(r).errors.name}])},null,2),[[k,o(r).name]]),o(r).errors.name?(i(),n("div",oe,a(o(r).errors.name),1)):x("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{for:"weight",class:"block text-sm font-medium text-gray-700 mb-2"}," Weight * ",-1)),p(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=s=>o(r).weight=s),id:"weight",step:"0.1",min:"0.1",max:"5.0",required:"",placeholder:"1.0",class:b(["w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 focus:ring-red-500 focus:border-red-500":o(r).errors.weight}])},null,2),[[k,o(r).weight,void 0,{number:!0}]]),o(r).errors.weight?(i(),n("div",ie,a(o(r).errors.weight),1)):x("",!0),t[17]||(t[17]=e("p",{class:"mt-1 text-xs text-gray-500"},"Higher weight = more important (1.0 - 5.0) ",-1))]),e("div",null,[t[19]||(t[19]=e("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-2"}," Category * ",-1)),p(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o(r).category=s),id:"category",required:"",class:b(["w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white",{"border-red-500 focus:ring-red-500 focus:border-red-500":o(r).errors.category}])},[t[18]||(t[18]=e("option",{value:""},"Select a category",-1)),(i(!0),n(h,null,v(_.categories,s=>(i(),n("option",{key:s,value:s},a(s),9,ne))),128))],2),[[V,o(r).category]]),o(r).errors.category?(i(),n("div",ae,a(o(r).errors.category),1)):x("",!0)]),e("div",null,[t[21]||(t[21]=e("label",{for:"department_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Department ",-1)),p(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>o(r).department_id=s),id:"department_id",class:b(["w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white",{"border-red-500 focus:ring-red-500 focus:border-red-500":o(r).errors.department_id}])},[t[20]||(t[20]=e("option",{value:""},"All Departments",-1)),(i(!0),n(h,null,v(_.departments,s=>(i(),n("option",{key:s.id,value:s.id},a(s.name),9,le))),128))],2),[[V,o(r).department_id]]),o(r).errors.department_id?(i(),n("div",de,a(o(r).errors.department_id),1)):x("",!0)]),e("div",ce,[t[22]||(t[22]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Description ",-1)),p(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>o(r).description=s),id:"description",rows:"4",placeholder:"Describe what this competency measures and why it's important...",class:b(["w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",{"border-red-500 focus:ring-red-500 focus:border-red-500":o(r).errors.description}])},null,2),[[k,o(r).description]]),o(r).errors.description?(i(),n("div",me,a(o(r).errors.description),1)):x("",!0)]),e("div",ue,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-4"},"Settings",-1)),e("div",ge,[e("div",be,[p(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>o(r).role_specific=s),id:"role_specific",type:"checkbox",class:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[M,o(r).role_specific]]),t[23]||(t[23]=e("div",{class:"ml-3"},[e("label",{for:"role_specific",class:"text-sm font-medium text-gray-900"},"Role Specific"),e("p",{class:"text-xs text-gray-500"},"This competency applies to specific roles only")],-1))]),e("div",pe,[p(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>o(r).is_active=s),id:"is_active",type:"checkbox",class:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[M,o(r).is_active]]),t[24]||(t[24]=e("div",{class:"ml-3"},[e("label",{for:"is_active",class:"text-sm font-medium text-gray-900"},"Active"),e("p",{class:"text-xs text-gray-500"},"Available for assessments and evaluations")],-1))])])])])]),e("div",xe,[t[28]||(t[28]=e("div",{class:"section-header mb-8"},[e("h2",{class:"section-title"},"Measurement Indicators"),e("p",{class:"section-subtitle"},"Define specific indicators that will be used to measure this competency")],-1)),e("div",fe,[(i(!0),n(h,null,v(o(r).measurement_indicators,(s,m)=>(i(),n("div",{key:m,class:"flex items-center space-x-4 p-6 bg-gray-50 rounded-lg border border-gray-200"},[e("div",ye,a(m+1),1),e("div",he,[p(e("input",{type:"text","onUpdate:modelValue":w=>o(r).measurement_indicators[m]=w,placeholder:`Enter measurement indicator ${m+1}`,class:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white"},null,8,ve),[[k,o(r).measurement_indicators[m]]])]),e("button",{type:"button",onClick:w=>S(m),disabled:o(r).measurement_indicators.length===1,class:"flex-shrink-0 p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors disabled:text-gray-400 disabled:cursor-not-allowed disabled:hover:bg-transparent"},[d(o(D),{class:"h-5 w-5"})],8,_e)]))),128)),e("button",{type:"button",onClick:B,class:"inline-flex items-center px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors"},[d(o(A),{class:"h-5 w-5 mr-2"}),t[27]||(t[27]=u(" Add Measurement Indicator "))])])]),e("div",we,[t[30]||(t[30]=e("div",{class:"section-header mb-8"},[e("h2",{class:"section-title"},"Rating Guidelines"),e("p",{class:"section-subtitle"},"Define what each rating level means for this competency (1 = Poor to 5 = Outstanding)")],-1)),e("div",ke,[(i(!0),n(h,null,v(o(r).rating_guidelines,(s,m)=>(i(),n("div",{key:m,class:"flex items-start space-x-4 p-6 bg-white border border-gray-200 rounded-lg shadow-sm"},[e("div",Ce,[e("div",{class:b(["w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white",{"bg-red-500":s.rating===1,"bg-orange-500":s.rating===2,"bg-yellow-500":s.rating===3,"bg-green-500":s.rating===4,"bg-blue-500":s.rating===5}])},a(s.rating),3)]),e("div",Ve,[e("div",Me,[e("span",Ue,[u(" Rating "+a(s.rating)+" - ",1),e("span",{class:b({"text-red-600":s.rating===1,"text-orange-600":s.rating===2,"text-yellow-600":s.rating===3,"text-green-600":s.rating===4,"text-blue-600":s.rating===5})},a(s.rating===1?"Poor":s.rating===2?"Needs Improvement":s.rating===3?"Meets Expectations":s.rating===4?"Exceeds Expectations":"Outstanding"),3)])]),p(e("textarea",{"onUpdate:modelValue":w=>o(r).rating_guidelines[m].description=w,placeholder:`Describe what constitutes a rating of ${s.rating} for this competency...`,rows:"3",class:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none"},null,8,Ee),[[k,o(r).rating_guidelines[m].description]])]),e("button",{type:"button",onClick:w=>R(m),disabled:o(r).rating_guidelines.length===1,class:"flex-shrink-0 p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors disabled:text-gray-400 disabled:cursor-not-allowed disabled:hover:bg-transparent"},[d(o(D),{class:"h-5 w-5"})],8,De)]))),128)),e("button",{type:"button",onClick:j,disabled:o(r).rating_guidelines.length>=5,class:"inline-flex items-center px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors disabled:text-gray-400 disabled:border-gray-300 disabled:cursor-not-allowed disabled:hover:bg-blue-50"},[d(o(A),{class:"h-5 w-5 mr-2"}),t[29]||(t[29]=u(" Add Rating Level "))],8,Ae)])]),e("div",Be,[e("div",Se,[t[31]||(t[31]=e("div",{class:"section-header"},[e("h2",{class:"section-title"},"Preview"),e("p",{class:"section-subtitle"},"See how this competency will appear to users")],-1)),e("button",{type:"button",onClick:t[7]||(t[7]=s=>C.value=!C.value),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},[d(o(U),{class:"h-5 w-5 mr-2"}),u(" "+a(C.value?"Hide":"Show")+" Preview ",1)])]),C.value?(i(),n("div",je,[e("div",Re,[e("div",Ie,[e("h3",Ne,a(g.value.name),1),e("div",ze,[e("span",$e,a(g.value.category),1),e("span",Le," Weight: "+a(g.value.weight),1),e("span",Ge,a(g.value.department),1)])]),g.value.description?(i(),n("div",Pe,[t[32]||(t[32]=e("h4",{class:"text-sm font-semibold text-gray-900 mb-2"},"Description",-1)),e("p",Oe,a(g.value.description),1)])):x("",!0),g.value.measurement_indicators.length>0?(i(),n("div",qe,[t[33]||(t[33]=e("h4",{class:"text-sm font-semibold text-gray-900 mb-3"},"Measurement Indicators ",-1)),e("ul",He,[(i(!0),n(h,null,v(g.value.measurement_indicators,(s,m)=>(i(),n("li",{key:s,class:"flex items-start space-x-3"},[e("div",Te,a(m+1),1),e("span",Fe,a(s),1)]))),128))])])):x("",!0),g.value.rating_guidelines.length>0?(i(),n("div",We,[t[34]||(t[34]=e("h4",{class:"text-sm font-semibold text-gray-900 mb-3"},"Rating Guidelines",-1)),e("div",Je,[(i(!0),n(h,null,v(g.value.rating_guidelines,s=>(i(),n("div",{key:s.rating,class:b(["flex items-start space-x-3 p-3 rounded-lg",{"bg-red-50 border border-red-200":s.rating===1,"bg-orange-50 border border-orange-200":s.rating===2,"bg-yellow-50 border border-yellow-200":s.rating===3,"bg-green-50 border border-green-200":s.rating===4,"bg-blue-50 border border-blue-200":s.rating===5}])},[e("div",{class:b(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold text-white",{"bg-red-500":s.rating===1,"bg-orange-500":s.rating===2,"bg-yellow-500":s.rating===3,"bg-green-500":s.rating===4,"bg-blue-500":s.rating===5}])},a(s.rating),3),e("div",Ke,[e("div",{class:b(["text-sm font-medium mb-1",{"text-red-800":s.rating===1,"text-orange-800":s.rating===2,"text-yellow-800":s.rating===3,"text-green-800":s.rating===4,"text-blue-800":s.rating===5}])},a(s.rating===1?"Poor":s.rating===2?"Needs Improvement":s.rating===3?"Meets Expectations":s.rating===4?"Exceeds Expectations":"Outstanding"),3),e("p",Qe,a(s.description),1)])],2))),128))])])):x("",!0)])])):x("",!0)]),e("div",Xe,[e("div",Ye,[d(o(y),{href:l.route("competencies.index"),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},{default:f(()=>[d(o(E),{class:"h-4 w-4 mr-2"}),t[35]||(t[35]=u(" Back to List "))]),_:1,__:[35]},8,["href"]),d(o(y),{href:l.route("competencies.show",_.competency.id),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},{default:f(()=>t[36]||(t[36]=[u(" Cancel ")])),_:1,__:[36]},8,["href"])]),e("button",{type:"submit",disabled:o(r).processing,class:"inline-flex items-center px-6 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[o(r).processing?(i(),n("span",et,t[37]||(t[37]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),u(" Updating... ")]))):(i(),n("span",tt,"Update Competency"))],8,Ze)])],32)])])])])]),_:1}))}},dt=O(st,[["__scopeId","data-v-cec3c7f9"]]);export{dt as default};
